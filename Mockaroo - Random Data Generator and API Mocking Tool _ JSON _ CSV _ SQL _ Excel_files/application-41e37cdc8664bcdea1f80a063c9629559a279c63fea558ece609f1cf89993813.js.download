/*
Turbolinks 5.0.3
Copyright Â© 2017 Basecamp, LLC
 */
(function(){(function(){(function(){this.Turbolinks={supported:function(){return null!=window.history.pushState&&null!=window.requestAnimationFrame&&null!=window.addEventListener}(),visit:function(e,n){return t.controller.visit(e,n)},clearCache:function(){return t.controller.clearCache()}}}).call(this)}).call(this);var t=this.Turbolinks;(function(){(function(){var e,n,i=[].slice;t.copyObject=function(t){var e,n,i;n={};for(e in t)i=t[e],n[e]=i;return n},t.closest=function(t,n){return e.call(t,n)},e=function(){var t,e;return t=document.documentElement,null!=(e=t.closest)?e:function(t){var e;for(e=this;e;){if(e.nodeType===Node.ELEMENT_NODE&&n.call(e,t))return e;e=e.parentNode}}}(),t.defer=function(t){return setTimeout(t,1)},t.throttle=function(t){var e;return e=null,function(){var n;return n=1<=arguments.length?i.call(arguments,0):[],null!=e?e:e=requestAnimationFrame(function(i){return function(){return e=null,t.apply(i,n)}}(this))}},t.dispatch=function(t,e){var n,i,o,r,s;return r=null!=e?e:{},s=r.target,n=r.cancelable,i=r.data,o=document.createEvent("Events"),o.initEvent(t,!0,n===!0),o.data=null!=i?i:{},(null!=s?s:document).dispatchEvent(o),o},t.match=function(t,e){return n.call(t,e)},n=function(){var t,e,n,i;return t=document.documentElement,null!=(e=null!=(n=null!=(i=t.matchesSelector)?i:t.webkitMatchesSelector)?n:t.msMatchesSelector)?e:t.mozMatchesSelector}(),t.uuid=function(){var t,e,n;for(n="",t=e=1;36>=e;t=++e)n+=9===t||14===t||19===t||24===t?"-":15===t?"4":20===t?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16);return n}}).call(this),function(){t.Location=function(){function t(t){var e,n;null==t&&(t=""),n=document.createElement("a"),n.href=t.toString(),this.absoluteURL=n.href,e=n.hash.length,2>e?this.requestURL=this.absoluteURL:(this.requestURL=this.absoluteURL.slice(0,-e),this.anchor=n.hash.slice(1))}var e,n,i,o;return t.wrap=function(t){return t instanceof this?t:new this(t)},t.prototype.getOrigin=function(){return this.absoluteURL.split("/",3).join("/")},t.prototype.getPath=function(){var t,e;return null!=(t=null!=(e=this.absoluteURL.match(/\/\/[^\/]*(\/[^?;]*)/))?e[1]:void 0)?t:"/"},t.prototype.getPathComponents=function(){return this.getPath().split("/").slice(1)},t.prototype.getLastPathComponent=function(){return this.getPathComponents().slice(-1)[0]},t.prototype.getExtension=function(){var t,e;return null!=(t=null!=(e=this.getLastPathComponent().match(/\.[^.]*$/))?e[0]:void 0)?t:""},t.prototype.isHTML=function(){return this.getExtension().match(/^(?:|\.(?:htm|html|xhtml))$/)},t.prototype.isPrefixedBy=function(t){var e;return e=n(t),this.isEqualTo(t)||o(this.absoluteURL,e)},t.prototype.isEqualTo=function(t){return this.absoluteURL===(null!=t?t.absoluteURL:void 0)},t.prototype.toCacheKey=function(){return this.requestURL},t.prototype.toJSON=function(){return this.absoluteURL},t.prototype.toString=function(){return this.absoluteURL},t.prototype.valueOf=function(){return this.absoluteURL},n=function(t){return e(t.getOrigin()+t.getPath())},e=function(t){return i(t,"/")?t:t+"/"},o=function(t,e){return t.slice(0,e.length)===e},i=function(t,e){return t.slice(-e.length)===e},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.HttpRequest=function(){function n(n,i,o){this.delegate=n,this.requestCanceled=e(this.requestCanceled,this),this.requestTimedOut=e(this.requestTimedOut,this),this.requestFailed=e(this.requestFailed,this),this.requestLoaded=e(this.requestLoaded,this),this.requestProgressed=e(this.requestProgressed,this),this.url=t.Location.wrap(i).requestURL,this.referrer=t.Location.wrap(o).absoluteURL,this.createXHR()}return n.NETWORK_FAILURE=0,n.TIMEOUT_FAILURE=-1,n.timeout=60,n.prototype.send=function(){var t;return this.xhr&&!this.sent?(this.notifyApplicationBeforeRequestStart(),this.setProgress(0),this.xhr.send(),this.sent=!0,"function"==typeof(t=this.delegate).requestStarted?t.requestStarted():void 0):void 0},n.prototype.cancel=function(){return this.xhr&&this.sent?this.xhr.abort():void 0},n.prototype.requestProgressed=function(t){return t.lengthComputable?this.setProgress(t.loaded/t.total):void 0},n.prototype.requestLoaded=function(){return this.endRequest(function(t){return function(){var e;return 200<=(e=t.xhr.status)&&300>e?t.delegate.requestCompletedWithResponse(t.xhr.responseText,t.xhr.getResponseHeader("Turbolinks-Location")):(t.failed=!0,t.delegate.requestFailedWithStatusCode(t.xhr.status,t.xhr.responseText))}}(this))},n.prototype.requestFailed=function(){return this.endRequest(function(t){return function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.NETWORK_FAILURE)}}(this))},n.prototype.requestTimedOut=function(){return this.endRequest(function(t){return function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.TIMEOUT_FAILURE)}}(this))},n.prototype.requestCanceled=function(){return this.endRequest()},n.prototype.notifyApplicationBeforeRequestStart=function(){return t.dispatch("turbolinks:request-start",{data:{url:this.url,xhr:this.xhr}})},n.prototype.notifyApplicationAfterRequestEnd=function(){return t.dispatch("turbolinks:request-end",{data:{url:this.url,xhr:this.xhr}})},n.prototype.createXHR=function(){return this.xhr=new XMLHttpRequest,this.xhr.open("GET",this.url,!0),this.xhr.timeout=1e3*this.constructor.timeout,this.xhr.setRequestHeader("Accept","text/html, application/xhtml+xml"),this.xhr.setRequestHeader("Turbolinks-Referrer",this.referrer),this.xhr.onprogress=this.requestProgressed,this.xhr.onload=this.requestLoaded,this.xhr.onerror=this.requestFailed,this.xhr.ontimeout=this.requestTimedOut,this.xhr.onabort=this.requestCanceled},n.prototype.endRequest=function(t){return this.xhr?(this.notifyApplicationAfterRequestEnd(),null!=t&&t.call(this),this.destroy()):void 0},n.prototype.setProgress=function(t){var e;return this.progress=t,"function"==typeof(e=this.delegate).requestProgressed?e.requestProgressed(this.progress):void 0},n.prototype.destroy=function(){var t;return this.setProgress(1),"function"==typeof(t=this.delegate).requestFinished&&t.requestFinished(),this.delegate=null,this.xhr=null},n}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.ProgressBar=function(){function t(){this.trickle=e(this.trickle,this),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement()}var n;return n=300,t.defaultCSS=".turbolinks-progress-bar {\n  position: fixed;\n  display: block;\n  top: 0;\n  left: 0;\n  height: 3px;\n  background: #0076ff;\n  z-index: 9999;\n  transition: width "+n+"ms ease-out, opacity "+n/2+"ms "+n/2+"ms ease-in;\n  transform: translate3d(0, 0, 0);\n}",t.prototype.show=function(){return this.visible?void 0:(this.visible=!0,this.installStylesheetElement(),this.installProgressElement(),this.startTrickling())},t.prototype.hide=function(){return this.visible&&!this.hiding?(this.hiding=!0,this.fadeProgressElement(function(t){return function(){return t.uninstallProgressElement(),t.stopTrickling(),t.visible=!1,t.hiding=!1}}(this))):void 0},t.prototype.setValue=function(t){return this.value=t,this.refresh()},t.prototype.installStylesheetElement=function(){return document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},t.prototype.installProgressElement=function(){return this.progressElement.style.width=0,this.progressElement.style.opacity=1,document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},t.prototype.fadeProgressElement=function(t){return this.progressElement.style.opacity=0,setTimeout(t,1.5*n)},t.prototype.uninstallProgressElement=function(){return this.progressElement.parentNode?document.documentElement.removeChild(this.progressElement):void 0},t.prototype.startTrickling=function(){return null!=this.trickleInterval?this.trickleInterval:this.trickleInterval=setInterval(this.trickle,n)},t.prototype.stopTrickling=function(){return clearInterval(this.trickleInterval),this.trickleInterval=null},t.prototype.trickle=function(){return this.setValue(this.value+Math.random()/100)},t.prototype.refresh=function(){return requestAnimationFrame(function(t){return function(){return t.progressElement.style.width=10+90*t.value+"%"}}(this))},t.prototype.createStylesheetElement=function(){var t;return t=document.createElement("style"),t.type="text/css",t.textContent=this.constructor.defaultCSS,t},t.prototype.createProgressElement=function(){var t;return t=document.createElement("div"),t.className="turbolinks-progress-bar",t},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.BrowserAdapter=function(){function n(n){this.controller=n,this.showProgressBar=e(this.showProgressBar,this),this.progressBar=new t.ProgressBar}var i,o,r,s;return s=t.HttpRequest,i=s.NETWORK_FAILURE,r=s.TIMEOUT_FAILURE,o=500,n.prototype.visitProposedToLocationWithAction=function(t,e){return this.controller.startVisitToLocationWithAction(t,e)},n.prototype.visitStarted=function(t){return t.issueRequest(),t.changeHistory(),t.loadCachedSnapshot()},n.prototype.visitRequestStarted=function(t){return this.progressBar.setValue(0),t.hasCachedSnapshot()||"restore"!==t.action?this.showProgressBarAfterDelay():this.showProgressBar()},n.prototype.visitRequestProgressed=function(t){return this.progressBar.setValue(t.progress)},n.prototype.visitRequestCompleted=function(t){return t.loadResponse()},n.prototype.visitRequestFailedWithStatusCode=function(t,e){switch(e){case i:case r:return this.reload();default:return t.loadResponse()}},n.prototype.visitRequestFinished=function(t){return this.hideProgressBar()},n.prototype.visitCompleted=function(t){return t.followRedirect()},n.prototype.pageInvalidated=function(){return this.reload()},n.prototype.showProgressBarAfterDelay=function(){return this.progressBarTimeout=setTimeout(this.showProgressBar,o)},n.prototype.showProgressBar=function(){return this.progressBar.show()},n.prototype.hideProgressBar=function(){return this.progressBar.hide(),clearTimeout(this.progressBarTimeout)},n.prototype.reload=function(){return window.location.reload()},n}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.History=function(){function n(t){this.delegate=t,this.onPageLoad=e(this.onPageLoad,this),this.onPopState=e(this.onPopState,this)}return n.prototype.start=function(){return this.started?void 0:(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0)},n.prototype.stop=function(){return this.started?(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1):void 0},n.prototype.push=function(e,n){return e=t.Location.wrap(e),this.update("push",e,n)},n.prototype.replace=function(e,n){return e=t.Location.wrap(e),this.update("replace",e,n)},n.prototype.onPopState=function(e){var n,i,o,r;return this.shouldHandlePopState()&&(r=null!=(i=e.state)?i.turbolinks:void 0)?(n=t.Location.wrap(window.location),o=r.restorationIdentifier,this.delegate.historyPoppedToLocationWithRestorationIdentifier(n,o)):void 0},n.prototype.onPageLoad=function(e){return t.defer(function(t){return function(){return t.pageLoaded=!0}}(this))},n.prototype.shouldHandlePopState=function(){return this.pageIsLoaded()},n.prototype.pageIsLoaded=function(){return this.pageLoaded||"complete"===document.readyState},n.prototype.update=function(t,e,n){var i;return i={turbolinks:{restorationIdentifier:n}},history[t+"State"](i,null,e)},n}()}.call(this),function(){t.Snapshot=function(){function e(t){var e,n;n=t.head,e=t.body,this.head=null!=n?n:document.createElement("head"),this.body=null!=e?e:document.createElement("body")}return e.wrap=function(t){return t instanceof this?t:this.fromHTML(t)},e.fromHTML=function(t){var e;return e=document.createElement("html"),e.innerHTML=t,this.fromElement(e)},e.fromElement=function(t){return new this({head:t.querySelector("head"),body:t.querySelector("body")})},e.prototype.clone=function(){return new e({head:this.head.cloneNode(!0),body:this.body.cloneNode(!0)})},e.prototype.getRootLocation=function(){var e,n;return n=null!=(e=this.getSetting("root"))?e:"/",new t.Location(n)},e.prototype.getCacheControlValue=function(){return this.getSetting("cache-control")},e.prototype.hasAnchor=function(t){try{return null!=this.body.querySelector("[id='"+t+"']")}catch(e){}},e.prototype.isPreviewable=function(){return"no-preview"!==this.getCacheControlValue()},e.prototype.isCacheable=function(){return"no-cache"!==this.getCacheControlValue()},e.prototype.getSetting=function(t){var e,n;return n=this.head.querySelectorAll("meta[name='turbolinks-"+t+"']"),e=n[n.length-1],null!=e?e.getAttribute("content"):void 0},e}()}.call(this),function(){var e=[].slice;t.Renderer=function(){function t(){}var n;return t.render=function(){var t,n,i,o;return i=arguments[0],n=arguments[1],t=3<=arguments.length?e.call(arguments,2):[],o=function(t,e,n){n.prototype=t.prototype;var i=new n,o=t.apply(i,e);return Object(o)===o?o:i}(this,t,function(){}),o.delegate=i,o.render(n),o},t.prototype.renderView=function(t){return this.delegate.viewWillRender(this.newBody),t(),this.delegate.viewRendered(this.newBody)},t.prototype.invalidateView=function(){return this.delegate.viewInvalidated()},t.prototype.createScriptElement=function(t){var e;return"false"===t.getAttribute("data-turbolinks-eval")?t:(e=document.createElement("script"),e.textContent=t.textContent,n(e,t),e)},n=function(t,e){var n,i,o,r,s,a,l;for(r=e.attributes,a=[],n=0,i=r.length;i>n;n++)s=r[n],o=s.name,l=s.value,a.push(t.setAttribute(o,l));return a},t}()}.call(this),function(){t.HeadDetails=function(){function t(t){var e,n,r,s,a,l,u;for(this.element=t,this.elements={},u=this.element.childNodes,s=0,l=u.length;l>s;s++)r=u[s],r.nodeType===Node.ELEMENT_NODE&&(a=r.outerHTML,n=null!=(e=this.elements)[a]?e[a]:e[a]={type:o(r),tracked:i(r),elements:[]},n.elements.push(r))}var e,n,i,o;return t.prototype.hasElementWithKey=function(t){return t in this.elements},t.prototype.getTrackedElementSignature=function(){var t,e;return function(){var n,i;n=this.elements,i=[];for(t in n)e=n[t].tracked,e&&i.push(t);return i}.call(this).join("")},t.prototype.getScriptElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("script",t)},t.prototype.getStylesheetElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("stylesheet",t)},t.prototype.getElementsMatchingTypeNotInDetails=function(t,e){var n,i,o,r,s,a;o=this.elements,s=[];for(i in o)r=o[i],a=r.type,n=r.elements,a!==t||e.hasElementWithKey(i)||s.push(n[0]);return s},t.prototype.getProvisionalElements=function(){var t,e,n,i,o,r,s;n=[],i=this.elements;for(e in i)o=i[e],s=o.type,r=o.tracked,t=o.elements,null!=s||r?t.length>1&&n.push.apply(n,t.slice(1)):n.push.apply(n,t);return n},o=function(t){return e(t)?"script":n(t)?"stylesheet":void 0},i=function(t){return"reload"===t.getAttribute("data-turbolinks-track")},e=function(t){var e;return e=t.tagName.toLowerCase(),"script"===e},n=function(t){var e;return e=t.tagName.toLowerCase(),"style"===e||"link"===e&&"stylesheet"===t.getAttribute("rel")},t}()}.call(this),function(){var e=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;t.SnapshotRenderer=function(n){function i(e,n){this.currentSnapshot=e,this.newSnapshot=n,this.currentHeadDetails=new t.HeadDetails(this.currentSnapshot.head),this.newHeadDetails=new t.HeadDetails(this.newSnapshot.head),this.newBody=this.newSnapshot.body}return e(i,n),i.prototype.render=function(t){return this.trackedElementsAreIdentical()?(this.mergeHead(),this.renderView(function(e){return function(){return e.replaceBody(),e.focusFirstAutofocusableElement(),t()}}(this))):this.invalidateView()},i.prototype.mergeHead=function(){return this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},i.prototype.replaceBody=function(){return this.activateBodyScriptElements(),this.importBodyPermanentElements(),this.assignNewBody()},i.prototype.trackedElementsAreIdentical=function(){return this.currentHeadDetails.getTrackedElementSignature()===this.newHeadDetails.getTrackedElementSignature()},i.prototype.copyNewHeadStylesheetElements=function(){var t,e,n,i,o;for(i=this.getNewHeadStylesheetElements(),o=[],e=0,n=i.length;n>e;e++)t=i[e],o.push(document.head.appendChild(t));return o},i.prototype.copyNewHeadScriptElements=function(){var t,e,n,i,o;for(i=this.getNewHeadScriptElements(),o=[],e=0,n=i.length;n>e;e++)t=i[e],o.push(document.head.appendChild(this.createScriptElement(t)));return o},i.prototype.removeCurrentHeadProvisionalElements=function(){var t,e,n,i,o;for(i=this.getCurrentHeadProvisionalElements(),o=[],e=0,n=i.length;n>e;e++)t=i[e],o.push(document.head.removeChild(t));return o},i.prototype.copyNewHeadProvisionalElements=function(){var t,e,n,i,o;for(i=this.getNewHeadProvisionalElements(),o=[],e=0,n=i.length;n>e;e++)t=i[e],o.push(document.head.appendChild(t));return o},i.prototype.importBodyPermanentElements=function(){var t,e,n,i,o,r;for(i=this.getNewBodyPermanentElements(),r=[],e=0,n=i.length;n>e;e++)o=i[e],(t=this.findCurrentBodyPermanentElement(o))?r.push(o.parentNode.replaceChild(t,o)):r.push(void 0);return r},i.prototype.activateBodyScriptElements=function(){var t,e,n,i,o,r;for(i=this.getNewBodyScriptElements(),r=[],e=0,n=i.length;n>e;e++)o=i[e],t=this.createScriptElement(o),r.push(o.parentNode.replaceChild(t,o));return r},i.prototype.assignNewBody=function(){return document.body=this.newBody},i.prototype.focusFirstAutofocusableElement=function(){var t;return null!=(t=this.findFirstAutofocusableElement())?t.focus():void 0},i.prototype.getNewHeadStylesheetElements=function(){return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails)},i.prototype.getNewHeadScriptElements=function(){return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails)},i.prototype.getCurrentHeadProvisionalElements=function(){return this.currentHeadDetails.getProvisionalElements()},i.prototype.getNewHeadProvisionalElements=function(){return this.newHeadDetails.getProvisionalElements()},i.prototype.getNewBodyPermanentElements=function(){return this.newBody.querySelectorAll("[id][data-turbolinks-permanent]")},i.prototype.findCurrentBodyPermanentElement=function(t){return document.body.querySelector("#"+t.id+"[data-turbolinks-permanent]")},i.prototype.getNewBodyScriptElements=function(){return this.newBody.querySelectorAll("script")},i.prototype.findFirstAutofocusableElement=function(){return document.body.querySelector("[autofocus]")},i}(t.Renderer)}.call(this),function(){var e=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;t.ErrorRenderer=function(t){function n(t){this.html=t}return e(n,t),n.prototype.render=function(t){return this.renderView(function(e){return function(){return e.replaceDocumentHTML(),e.activateBodyScriptElements(),t()}}(this))},n.prototype.replaceDocumentHTML=function(){return document.documentElement.innerHTML=this.html},n.prototype.activateBodyScriptElements=function(){var t,e,n,i,o,r;for(i=this.getScriptElements(),r=[],e=0,n=i.length;n>e;e++)o=i[e],t=this.createScriptElement(o),r.push(o.parentNode.replaceChild(t,o));return r},n.prototype.getScriptElements=function(){return document.documentElement.querySelectorAll("script")},n}(t.Renderer)}.call(this),function(){t.View=function(){function e(t){this.delegate=t,this.element=document.documentElement}return e.prototype.getRootLocation=function(){return this.getSnapshot().getRootLocation()},e.prototype.getSnapshot=function(){return t.Snapshot.fromElement(this.element)},e.prototype.render=function(t,e){var n,i,o;return o=t.snapshot,n=t.error,i=t.isPreview,this.markAsPreview(i),null!=o?this.renderSnapshot(o,e):this.renderError(n,e)},e.prototype.markAsPreview=function(t){return t?this.element.setAttribute("data-turbolinks-preview",""):this.element.removeAttribute("data-turbolinks-preview")},e.prototype.renderSnapshot=function(e,n){return t.SnapshotRenderer.render(this.delegate,n,this.getSnapshot(),t.Snapshot.wrap(e))},e.prototype.renderError=function(e,n){return t.ErrorRenderer.render(this.delegate,n,e)},e}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.ScrollManager=function(){function n(n){this.delegate=n,this.onScroll=e(this.onScroll,this),this.onScroll=t.throttle(this.onScroll)}return n.prototype.start=function(){return this.started?void 0:(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)},n.prototype.stop=function(){return this.started?(removeEventListener("scroll",this.onScroll,!1),this.started=!1):void 0},n.prototype.scrollToElement=function(t){return t.scrollIntoView()},n.prototype.scrollToPosition=function(t){var e,n;return e=t.x,n=t.y,window.scrollTo(e,n)},n.prototype.onScroll=function(t){return this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},n.prototype.updatePosition=function(t){var e;return this.position=t,null!=(e=this.delegate)?e.scrollPositionChanged(this.position):void 0},n}()}.call(this),function(){t.SnapshotCache=function(){function e(t){this.size=t,this.keys=[],this.snapshots={}}var n;return e.prototype.has=function(t){var e;return e=n(t),e in this.snapshots},e.prototype.get=function(t){var e;return this.has(t)?(e=this.read(t),this.touch(t),e):void 0},e.prototype.put=function(t,e){return this.write(t,e),this.touch(t),e},e.prototype.read=function(t){var e;return e=n(t),this.snapshots[e]},e.prototype.write=function(t,e){var i;return i=n(t),this.snapshots[i]=e},e.prototype.touch=function(t){var e,i;return i=n(t),e=this.keys.indexOf(i),e>-1&&this.keys.splice(e,1),this.keys.unshift(i),this.trim()},e.prototype.trim=function(){var t,e,n,i,o;for(i=this.keys.splice(this.size),o=[],t=0,n=i.length;n>t;t++)e=i[t],o.push(delete this.snapshots[e]);return o},n=function(e){return t.Location.wrap(e).toCacheKey()},e}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.Visit=function(){function n(n,i,o){this.controller=n,this.action=o,this.performScroll=e(this.performScroll,this),this.identifier=t.uuid(),this.location=t.Location.wrap(i),this.adapter=this.controller.adapter,this.state="initialized",this.timingMetrics={}}var i;return n.prototype.start=function(){return"initialized"===this.state?(this.recordTimingMetric("visitStart"),this.state="started",this.adapter.visitStarted(this)):void 0},n.prototype.cancel=function(){var t;return"started"===this.state?(null!=(t=this.request)&&t.cancel(),this.cancelRender(),this.state="canceled"):void 0},n.prototype.complete=function(){var t;return"started"===this.state?(this.recordTimingMetric("visitEnd"),this.state="completed","function"==typeof(t=this.adapter).visitCompleted&&t.visitCompleted(this),this.controller.visitCompleted(this)):void 0},n.prototype.fail=function(){var t;return"started"===this.state?(this.state="failed","function"==typeof(t=this.adapter).visitFailed?t.visitFailed(this):void 0):void 0},n.prototype.changeHistory=function(){var t,e;return this.historyChanged?void 0:(t=this.location.isEqualTo(this.referrer)?"replace":this.action,e=i(t),this.controller[e](this.location,this.restorationIdentifier),this.historyChanged=!0)},n.prototype.issueRequest=function(){return this.shouldIssueRequest()&&null==this.request?(this.progress=0,this.request=new t.HttpRequest(this,this.location,this.referrer),this.request.send()):void 0},n.prototype.getCachedSnapshot=function(){var t;return!(t=this.controller.getCachedSnapshotForLocation(this.location))||null!=this.location.anchor&&!t.hasAnchor(this.location.anchor)||"restore"!==this.action&&!t.isPreviewable()?void 0:t},n.prototype.hasCachedSnapshot=function(){return null!=this.getCachedSnapshot()},n.prototype.loadCachedSnapshot=function(){var t,e;return(e=this.getCachedSnapshot())?(t=this.shouldIssueRequest(),this.render(function(){var n;return this.cacheSnapshot(),this.controller.render({snapshot:e,isPreview:t},this.performScroll),"function"==typeof(n=this.adapter).visitRendered&&n.visitRendered(this),t?void 0:this.complete()})):void 0},n.prototype.loadResponse=function(){return null!=this.response?this.render(function(){var t,e;return this.cacheSnapshot(),this.request.failed?(this.controller.render({error:this.response},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),this.fail()):(this.controller.render({snapshot:this.response},this.performScroll),"function"==typeof(e=this.adapter).visitRendered&&e.visitRendered(this),this.complete())}):void 0},n.prototype.followRedirect=function(){return this.redirectedToLocation&&!this.followedRedirect?(this.location=this.redirectedToLocation,this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0):void 0},n.prototype.requestStarted=function(){var t;return this.recordTimingMetric("requestStart"),"function"==typeof(t=this.adapter).visitRequestStarted?t.visitRequestStarted(this):void 0},n.prototype.requestProgressed=function(t){var e;return this.progress=t,"function"==typeof(e=this.adapter).visitRequestProgressed?e.visitRequestProgressed(this):void 0},n.prototype.requestCompletedWithResponse=function(e,n){return this.response=e,null!=n&&(this.redirectedToLocation=t.Location.wrap(n)),this.adapter.visitRequestCompleted(this)},n.prototype.requestFailedWithStatusCode=function(t,e){return this.response=e,this.adapter.visitRequestFailedWithStatusCode(this,t)},n.prototype.requestFinished=function(){var t;return this.recordTimingMetric("requestEnd"),"function"==typeof(t=this.adapter).visitRequestFinished?t.visitRequestFinished(this):void 0},n.prototype.performScroll=function(){return this.scrolled?void 0:("restore"===this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},n.prototype.scrollToRestoredPosition=function(){var t,e;return t=null!=(e=this.restorationData)?e.scrollPosition:void 0,null!=t?(this.controller.scrollToPosition(t),!0):void 0},n.prototype.scrollToAnchor=function(){return null!=this.location.anchor?(this.controller.scrollToAnchor(this.location.anchor),!0):void 0},n.prototype.scrollToTop=function(){return this.controller.scrollToPosition({x:0,y:0})},n.prototype.recordTimingMetric=function(t){var e;return null!=(e=this.timingMetrics)[t]?e[t]:e[t]=(new Date).getTime()},n.prototype.getTimingMetrics=function(){return t.copyObject(this.timingMetrics)},i=function(t){switch(t){case"replace":return"replaceHistoryWithLocationAndRestorationIdentifier";case"advance":case"restore":return"pushHistoryWithLocationAndRestorationIdentifier"}},n.prototype.shouldIssueRequest=function(){return"restore"===this.action?!this.hasCachedSnapshot():!0},n.prototype.cacheSnapshot=function(){return this.snapshotCached?void 0:(this.controller.cacheSnapshot(),this.snapshotCached=!0)},n.prototype.render=function(t){return this.cancelRender(),this.frame=requestAnimationFrame(function(e){return function(){return e.frame=null,t.call(e)}}(this))},n.prototype.cancelRender=function(){return this.frame?cancelAnimationFrame(this.frame):void 0},n}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.Controller=function(){function n(){this.clickBubbled=e(this.clickBubbled,this),this.clickCaptured=e(this.clickCaptured,this),this.pageLoaded=e(this.pageLoaded,this),this.history=new t.History(this),this.view=new t.View(this),this.scrollManager=new t.ScrollManager(this),this.restorationData={},this.clearCache()}return n.prototype.start=function(){return t.supported&&!this.started?(addEventListener("click",this.clickCaptured,!0),addEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.start(),this.startHistory(),this.started=!0,this.enabled=!0):void 0},n.prototype.disable=function(){return this.enabled=!1},n.prototype.stop=function(){return this.started?(removeEventListener("click",this.clickCaptured,!0),removeEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.stop(),this.stopHistory(),this.started=!1):void 0},n.prototype.clearCache=function(){return this.cache=new t.SnapshotCache(10)},n.prototype.visit=function(e,n){var i,o;return null==n&&(n={}),e=t.Location.wrap(e),this.applicationAllowsVisitingLocation(e)?this.locationIsVisitable(e)?(i=null!=(o=n.action)?o:"advance",this.adapter.visitProposedToLocationWithAction(e,i)):window.location=e:void 0},n.prototype.startVisitToLocationWithAction=function(e,n,i){var o;return t.supported?(o=this.getRestorationDataForIdentifier(i),this.startVisit(e,n,{restorationData:o})):window.location=e},n.prototype.startHistory=function(){return this.location=t.Location.wrap(window.location),this.restorationIdentifier=t.uuid(),this.history.start(),this.history.replace(this.location,this.restorationIdentifier)},n.prototype.stopHistory=function(){return this.history.stop()},n.prototype.pushHistoryWithLocationAndRestorationIdentifier=function(e,n){return this.restorationIdentifier=n,this.location=t.Location.wrap(e),this.history.push(this.location,this.restorationIdentifier)},n.prototype.replaceHistoryWithLocationAndRestorationIdentifier=function(e,n){return this.restorationIdentifier=n,this.location=t.Location.wrap(e),this.history.replace(this.location,this.restorationIdentifier)},n.prototype.historyPoppedToLocationWithRestorationIdentifier=function(e,n){var i;return this.restorationIdentifier=n,this.enabled?(i=this.getRestorationDataForIdentifier(this.restorationIdentifier),this.startVisit(e,"restore",{restorationIdentifier:this.restorationIdentifier,restorationData:i,historyChanged:!0}),this.location=t.Location.wrap(e)):this.adapter.pageInvalidated()},n.prototype.getCachedSnapshotForLocation=function(t){var e;return e=this.cache.get(t),e?e.clone():void 0},n.prototype.shouldCacheSnapshot=function(){return this.view.getSnapshot().isCacheable()},n.prototype.cacheSnapshot=function(){var t;return this.shouldCacheSnapshot()?(this.notifyApplicationBeforeCachingSnapshot(),t=this.view.getSnapshot(),this.cache.put(this.lastRenderedLocation,t.clone())):void 0},n.prototype.scrollToAnchor=function(t){var e;return(e=document.getElementById(t))?this.scrollToElement(e):this.scrollToPosition({x:0,y:0})},n.prototype.scrollToElement=function(t){return this.scrollManager.scrollToElement(t)},n.prototype.scrollToPosition=function(t){return this.scrollManager.scrollToPosition(t)},n.prototype.scrollPositionChanged=function(t){var e;return e=this.getCurrentRestorationData(),e.scrollPosition=t},n.prototype.render=function(t,e){return this.view.render(t,e)},n.prototype.viewInvalidated=function(){return this.adapter.pageInvalidated()},n.prototype.viewWillRender=function(t){return this.notifyApplicationBeforeRender(t)},n.prototype.viewRendered=function(){return this.lastRenderedLocation=this.currentVisit.location,this.notifyApplicationAfterRender()},n.prototype.pageLoaded=function(){return this.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},n.prototype.clickCaptured=function(){return removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)},n.prototype.clickBubbled=function(t){var e,n,i;return this.enabled&&this.clickEventIsSignificant(t)&&(n=this.getVisitableLinkForNode(t.target))&&(i=this.getVisitableLocationForLink(n))&&this.applicationAllowsFollowingLinkToLocation(n,i)?(t.preventDefault(),e=this.getActionForLink(n),this.visit(i,{action:e})):void 0},n.prototype.applicationAllowsFollowingLinkToLocation=function(t,e){var n;return n=this.notifyApplicationAfterClickingLinkToLocation(t,e),!n.defaultPrevented},n.prototype.applicationAllowsVisitingLocation=function(t){var e;return e=this.notifyApplicationBeforeVisitingLocation(t),!e.defaultPrevented},n.prototype.notifyApplicationAfterClickingLinkToLocation=function(e,n){return t.dispatch("turbolinks:click",{target:e,data:{url:n.absoluteURL},cancelable:!0})},n.prototype.notifyApplicationBeforeVisitingLocation=function(e){return t.dispatch("turbolinks:before-visit",{data:{url:e.absoluteURL},cancelable:!0})},n.prototype.notifyApplicationAfterVisitingLocation=function(e){return t.dispatch("turbolinks:visit",{data:{url:e.absoluteURL}})},n.prototype.notifyApplicationBeforeCachingSnapshot=function(){return t.dispatch("turbolinks:before-cache")},n.prototype.notifyApplicationBeforeRender=function(e){
return t.dispatch("turbolinks:before-render",{data:{newBody:e}})},n.prototype.notifyApplicationAfterRender=function(){return t.dispatch("turbolinks:render")},n.prototype.notifyApplicationAfterPageLoad=function(e){return null==e&&(e={}),t.dispatch("turbolinks:load",{data:{url:this.location.absoluteURL,timing:e}})},n.prototype.startVisit=function(t,e,n){var i;return null!=(i=this.currentVisit)&&i.cancel(),this.currentVisit=this.createVisit(t,e,n),this.currentVisit.start(),this.notifyApplicationAfterVisitingLocation(t)},n.prototype.createVisit=function(e,n,i){var o,r,s,a,l;return r=null!=i?i:{},a=r.restorationIdentifier,s=r.restorationData,o=r.historyChanged,l=new t.Visit(this,e,n),l.restorationIdentifier=null!=a?a:t.uuid(),l.restorationData=t.copyObject(s),l.historyChanged=o,l.referrer=this.location,l},n.prototype.visitCompleted=function(t){return this.notifyApplicationAfterPageLoad(t.getTimingMetrics())},n.prototype.clickEventIsSignificant=function(t){return!(t.defaultPrevented||t.target.isContentEditable||t.which>1||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)},n.prototype.getVisitableLinkForNode=function(e){return this.nodeIsVisitable(e)?t.closest(e,"a[href]:not([target]):not([download])"):void 0},n.prototype.getVisitableLocationForLink=function(e){var n;return n=new t.Location(e.getAttribute("href")),this.locationIsVisitable(n)?n:void 0},n.prototype.getActionForLink=function(t){var e;return null!=(e=t.getAttribute("data-turbolinks-action"))?e:"advance"},n.prototype.nodeIsVisitable=function(e){var n;return(n=t.closest(e,"[data-turbolinks]"))?"false"!==n.getAttribute("data-turbolinks"):!0},n.prototype.locationIsVisitable=function(t){return t.isPrefixedBy(this.view.getRootLocation())&&t.isHTML()},n.prototype.getCurrentRestorationData=function(){return this.getRestorationDataForIdentifier(this.restorationIdentifier)},n.prototype.getRestorationDataForIdentifier=function(t){var e;return null!=(e=this.restorationData)[t]?e[t]:e[t]={}},n}()}.call(this),function(){var e,n,i;t.start=function(){return n()?(null==t.controller&&(t.controller=e()),t.controller.start()):void 0},n=function(){return null==window.Turbolinks&&(window.Turbolinks=t),i()},e=function(){var e;return e=new t.Controller,e.adapter=new t.BrowserAdapter(e),e},i=function(){return window.Turbolinks===t},i()&&t.start()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=t:"function"==typeof define&&define.amd&&define(t)}).call(this),/*!
 * jQuery JavaScript Library v1.11.3
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-04-28T16:19Z
 */
function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e="length"in t&&t.length,n=ot.type(t);return"function"===n||ot.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function i(t,e,n){if(ot.isFunction(e))return ot.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return ot.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(dt.test(e))return ot.filter(e,t,n);e=ot.filter(e,t)}return ot.grep(t,function(t){return ot.inArray(t,e)>=0!==n})}function o(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function r(t){var e=bt[t]={};return ot.each(t.match(wt)||[],function(t,n){e[n]=!0}),e}function s(){pt.addEventListener?(pt.removeEventListener("DOMContentLoaded",a,!1),t.removeEventListener("load",a,!1)):(pt.detachEvent("onreadystatechange",a),t.detachEvent("onload",a))}function a(){(pt.addEventListener||"load"===event.type||"complete"===pt.readyState)&&(s(),ot.ready())}function l(t,e,n){if(void 0===n&&1===t.nodeType){var i="data-"+e.replace(Tt,"-$1").toLowerCase();if(n=t.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:_t.test(n)?ot.parseJSON(n):n}catch(o){}ot.data(t,e,n)}else n=void 0}return n}function u(t){var e;for(e in t)if(("data"!==e||!ot.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function c(t,e,n,i){if(ot.acceptData(t)){var o,r,s=ot.expando,a=t.nodeType,l=a?ot.cache:t,u=a?t[s]:t[s]&&s;if(u&&l[u]&&(i||l[u].data)||void 0!==n||"string"!=typeof e)return u||(u=a?t[s]=q.pop()||ot.guid++:s),l[u]||(l[u]=a?{}:{toJSON:ot.noop}),("object"==typeof e||"function"==typeof e)&&(i?l[u]=ot.extend(l[u],e):l[u].data=ot.extend(l[u].data,e)),r=l[u],i||(r.data||(r.data={}),r=r.data),void 0!==n&&(r[ot.camelCase(e)]=n),"string"==typeof e?(o=r[e],null==o&&(o=r[ot.camelCase(e)])):o=r,o}}function h(t,e,n){if(ot.acceptData(t)){var i,o,r=t.nodeType,s=r?ot.cache:t,a=r?t[ot.expando]:ot.expando;if(s[a]){if(e&&(i=n?s[a]:s[a].data)){ot.isArray(e)?e=e.concat(ot.map(e,ot.camelCase)):e in i?e=[e]:(e=ot.camelCase(e),e=e in i?[e]:e.split(" ")),o=e.length;for(;o--;)delete i[e[o]];if(n?!u(i):!ot.isEmptyObject(i))return}(n||(delete s[a].data,u(s[a])))&&(r?ot.cleanData([t],!0):nt.deleteExpando||s!=s.window?delete s[a]:s[a]=null)}}}function d(){return!0}function f(){return!1}function p(){try{return pt.activeElement}catch(t){}}function m(t){var e=It.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function g(t,e){var n,i,o=0,r=typeof t.getElementsByTagName!==xt?t.getElementsByTagName(e||"*"):typeof t.querySelectorAll!==xt?t.querySelectorAll(e||"*"):void 0;if(!r)for(r=[],n=t.childNodes||t;null!=(i=n[o]);o++)!e||ot.nodeName(i,e)?r.push(i):ot.merge(r,g(i,e));return void 0===e||e&&ot.nodeName(t,e)?ot.merge([t],r):r}function v(t){Mt.test(t.type)&&(t.defaultChecked=t.checked)}function y(t,e){return ot.nodeName(t,"table")&&ot.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function w(t){return t.type=(null!==ot.find.attr(t,"type"))+"/"+t.type,t}function b(t){var e=Gt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function C(t,e){for(var n,i=0;null!=(n=t[i]);i++)ot._data(n,"globalEval",!e||ot._data(e[i],"globalEval"))}function k(t,e){if(1===e.nodeType&&ot.hasData(t)){var n,i,o,r=ot._data(t),s=ot._data(e,r),a=r.events;if(a){delete s.handle,s.events={};for(n in a)for(i=0,o=a[n].length;o>i;i++)ot.event.add(e,n,a[n][i])}s.data&&(s.data=ot.extend({},s.data))}}function x(t,e){var n,i,o;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!nt.noCloneEvent&&e[ot.expando]){o=ot._data(e);for(i in o.events)ot.removeEvent(e,i,o.handle);e.removeAttribute(ot.expando)}"script"===n&&e.text!==t.text?(w(e).text=t.text,b(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),nt.html5Clone&&t.innerHTML&&!ot.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&Mt.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}}function _(e,n){var i,o=ot(n.createElement(e)).appendTo(n.body),r=t.getDefaultComputedStyle&&(i=t.getDefaultComputedStyle(o[0]))?i.display:ot.css(o[0],"display");return o.detach(),r}function T(t){var e=pt,n=Zt[t];return n||(n=_(t,e),"none"!==n&&n||(Qt=(Qt||ot("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=(Qt[0].contentWindow||Qt[0].contentDocument).document,e.write(),e.close(),n=_(t,e),Qt.detach()),Zt[t]=n),n}function S(t,e){return{get:function(){var n=t();if(null!=n)return n?void delete this.get:(this.get=e).apply(this,arguments)}}}function E(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),i=e,o=de.length;o--;)if(e=de[o]+n,e in t)return e;return i}function D(t,e){for(var n,i,o,r=[],s=0,a=t.length;a>s;s++)i=t[s],i.style&&(r[s]=ot._data(i,"olddisplay"),n=i.style.display,e?(r[s]||"none"!==n||(i.style.display=""),""===i.style.display&&Dt(i)&&(r[s]=ot._data(i,"olddisplay",T(i.nodeName)))):(o=Dt(i),(n&&"none"!==n||!o)&&ot._data(i,"olddisplay",o?n:ot.css(i,"display"))));for(s=0;a>s;s++)i=t[s],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?r[s]||"":"none"));return t}function R(t,e,n){var i=le.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function M(t,e,n,i,o){for(var r=n===(i?"border":"content")?4:"width"===e?1:0,s=0;4>r;r+=2)"margin"===n&&(s+=ot.css(t,n+Et[r],!0,o)),i?("content"===n&&(s-=ot.css(t,"padding"+Et[r],!0,o)),"margin"!==n&&(s-=ot.css(t,"border"+Et[r]+"Width",!0,o))):(s+=ot.css(t,"padding"+Et[r],!0,o),"padding"!==n&&(s+=ot.css(t,"border"+Et[r]+"Width",!0,o)));return s}function A(t,e,n){var i=!0,o="width"===e?t.offsetWidth:t.offsetHeight,r=te(t),s=nt.boxSizing&&"border-box"===ot.css(t,"boxSizing",!1,r);if(0>=o||null==o){if(o=ee(t,e,r),(0>o||null==o)&&(o=t.style[e]),ie.test(o))return o;i=s&&(nt.boxSizingReliable()||o===t.style[e]),o=parseFloat(o)||0}return o+M(t,e,n||(s?"border":"content"),i,r)+"px"}function O(t,e,n,i,o){return new O.prototype.init(t,e,n,i,o)}function H(){return setTimeout(function(){fe=void 0}),fe=ot.now()}function P(t,e){var n,i={height:t},o=0;for(e=e?1:0;4>o;o+=2-e)n=Et[o],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function L(t,e,n){for(var i,o=(we[e]||[]).concat(we["*"]),r=0,s=o.length;s>r;r++)if(i=o[r].call(n,e,t))return i}function I(t,e,n){var i,o,r,s,a,l,u,c,h=this,d={},f=t.style,p=t.nodeType&&Dt(t),m=ot._data(t,"fxshow");n.queue||(a=ot._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,ot.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],u=ot.css(t,"display"),c="none"===u?ot._data(t,"olddisplay")||T(t.nodeName):u,"inline"===c&&"none"===ot.css(t,"float")&&(nt.inlineBlockNeedsLayout&&"inline"!==T(t.nodeName)?f.zoom=1:f.display="inline-block")),n.overflow&&(f.overflow="hidden",nt.shrinkWrapBlocks()||h.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(i in e)if(o=e[i],me.exec(o)){if(delete e[i],r=r||"toggle"===o,o===(p?"hide":"show")){if("show"!==o||!m||void 0===m[i])continue;p=!0}d[i]=m&&m[i]||ot.style(t,i)}else u=void 0;if(ot.isEmptyObject(d))"inline"===("none"===u?T(t.nodeName):u)&&(f.display=u);else{m?"hidden"in m&&(p=m.hidden):m=ot._data(t,"fxshow",{}),r&&(m.hidden=!p),p?ot(t).show():h.done(function(){ot(t).hide()}),h.done(function(){var e;ot._removeData(t,"fxshow");for(e in d)ot.style(t,e,d[e])});for(i in d)s=L(p?m[i]:0,i,h),i in m||(m[i]=s.start,p&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function j(t,e){var n,i,o,r,s;for(n in t)if(i=ot.camelCase(n),o=e[i],r=t[n],ot.isArray(r)&&(o=r[1],r=t[n]=r[0]),n!==i&&(t[i]=r,delete t[n]),s=ot.cssHooks[i],s&&"expand"in s){r=s.expand(r),delete t[i];for(n in r)n in t||(t[n]=r[n],e[n]=o)}else e[i]=o}function N(t,e,n){var i,o,r=0,s=ye.length,a=ot.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=fe||H(),n=Math.max(0,u.startTime+u.duration-e),i=n/u.duration||0,r=1-i,s=0,l=u.tweens.length;l>s;s++)u.tweens[s].run(r);return a.notifyWith(t,[u,r,n]),1>r&&l?n:(a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:ot.extend({},e),opts:ot.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:fe||H(),duration:n.duration,tweens:[],createTween:function(e,n){var i=ot.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(o)return this;for(o=!0;i>n;n++)u.tweens[n].run(1);return e?a.resolveWith(t,[u,e]):a.rejectWith(t,[u,e]),this}}),c=u.props;for(j(c,u.opts.specialEasing);s>r;r++)if(i=ye[r].call(u,t,c,u.opts))return i;return ot.map(c,L,u),ot.isFunction(u.opts.start)&&u.opts.start.call(t,u),ot.fx.timer(ot.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function $(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,o=0,r=e.toLowerCase().match(wt)||[];if(ot.isFunction(n))for(;i=r[o++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function F(t,e,n,i){function o(a){var l;return r[a]=!0,ot.each(t[a]||[],function(t,a){var u=a(e,n,i);return"string"!=typeof u||s||r[u]?s?!(l=u):void 0:(e.dataTypes.unshift(u),o(u),!1)}),l}var r={},s=t===Ve;return o(e.dataTypes[0])||!r["*"]&&o("*")}function W(t,e){var n,i,o=ot.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((o[i]?t:n||(n={}))[i]=e[i]);return n&&ot.extend(!0,t,n),t}function B(t,e,n){for(var i,o,r,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===o&&(o=t.mimeType||e.getResponseHeader("Content-Type"));if(o)for(s in a)if(a[s]&&a[s].test(o)){l.unshift(s);break}if(l[0]in n)r=l[0];else{for(s in n){if(!l[0]||t.converters[s+" "+l[0]]){r=s;break}i||(i=s)}r=r||i}return r?(r!==l[0]&&l.unshift(r),n[r]):void 0}function V(t,e,n,i){var o,r,s,a,l,u={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(r=c.shift();r;)if(t.responseFields[r]&&(n[t.responseFields[r]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=c.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(s=u[l+" "+r]||u["* "+r],!s)for(o in u)if(a=o.split(" "),a[1]===r&&(s=u[l+" "+a[0]]||u["* "+a[0]])){s===!0?s=u[o]:u[o]!==!0&&(r=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(h){return{state:"parsererror",error:s?h:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}function z(t,e,n,i){var o;if(ot.isArray(e))ot.each(e,function(e,o){n||Ge.test(t)?i(t,o):z(t+"["+("object"==typeof o?e:"")+"]",o,n,i)});else if(n||"object"!==ot.type(e))i(t,e);else for(o in e)z(t+"["+o+"]",e[o],n,i)}function Y(){try{return new t.XMLHttpRequest}catch(e){}}function U(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function G(t){return ot.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var q=[],X=q.slice,K=q.concat,J=q.push,Q=q.indexOf,Z={},tt=Z.toString,et=Z.hasOwnProperty,nt={},it="1.11.3",ot=function(t,e){return new ot.fn.init(t,e)},rt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,st=/^-ms-/,at=/-([\da-z])/gi,lt=function(t,e){return e.toUpperCase()};ot.fn=ot.prototype={jquery:it,constructor:ot,selector:"",length:0,toArray:function(){return X.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:X.call(this)},pushStack:function(t){var e=ot.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return ot.each(this,t,e)},map:function(t){return this.pushStack(ot.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:J,sort:q.sort,splice:q.splice},ot.extend=ot.fn.extend=function(){var t,e,n,i,o,r,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||ot.isFunction(s)||(s={}),a===l&&(s=this,a--);l>a;a++)if(null!=(o=arguments[a]))for(i in o)t=s[i],n=o[i],s!==n&&(u&&n&&(ot.isPlainObject(n)||(e=ot.isArray(n)))?(e?(e=!1,r=t&&ot.isArray(t)?t:[]):r=t&&ot.isPlainObject(t)?t:{},s[i]=ot.extend(u,r,n)):void 0!==n&&(s[i]=n));return s},ot.extend({expando:"jQuery"+(it+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ot.type(t)},isArray:Array.isArray||function(t){return"array"===ot.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!ot.isArray(t)&&t-parseFloat(t)+1>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==ot.type(t)||t.nodeType||ot.isWindow(t))return!1;try{if(t.constructor&&!et.call(t,"constructor")&&!et.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(nt.ownLast)for(e in t)return et.call(t,e);for(e in t);return void 0===e||et.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?Z[tt.call(t)]||"object":typeof t},globalEval:function(e){e&&ot.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(st,"ms-").replace(at,lt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,i){var o,r=0,s=t.length,a=n(t);if(i){if(a)for(;s>r&&(o=e.apply(t[r],i),o!==!1);r++);else for(r in t)if(o=e.apply(t[r],i),o===!1)break}else if(a)for(;s>r&&(o=e.call(t[r],r,t[r]),o!==!1);r++);else for(r in t)if(o=e.call(t[r],r,t[r]),o===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(rt,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?ot.merge(i,"string"==typeof t?[t]:t):J.call(i,t)),i},inArray:function(t,e,n){var i;if(e){if(Q)return Q.call(e,t,n);for(i=e.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,i=0,o=t.length;n>i;)t[o++]=e[i++];if(n!==n)for(;void 0!==e[i];)t[o++]=e[i++];return t.length=o,t},grep:function(t,e,n){for(var i,o=[],r=0,s=t.length,a=!n;s>r;r++)i=!e(t[r],r),i!==a&&o.push(t[r]);return o},map:function(t,e,i){var o,r=0,s=t.length,a=n(t),l=[];if(a)for(;s>r;r++)o=e(t[r],r,i),null!=o&&l.push(o);else for(r in t)o=e(t[r],r,i),null!=o&&l.push(o);return K.apply([],l)},guid:1,proxy:function(t,e){var n,i,o;return"string"==typeof e&&(o=t[e],e=t,t=o),ot.isFunction(t)?(n=X.call(arguments,2),i=function(){return t.apply(e||this,n.concat(X.call(arguments)))},i.guid=t.guid=t.guid||ot.guid++,i):void 0},now:function(){return+new Date},support:nt}),ot.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Z["[object "+e+"]"]=e.toLowerCase()});var ut=/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */
function(t){function e(t,e,n,i){var o,r,s,a,l,u,h,f,p,m;if((e?e.ownerDocument||e:F)!==O&&A(e),e=e||O,n=n||[],a=e.nodeType,"string"!=typeof t||!t||1!==a&&9!==a&&11!==a)return n;if(!i&&P){if(11!==a&&(o=yt.exec(t)))if(s=o[1]){if(9===a){if(r=e.getElementById(s),!r||!r.parentNode)return n;if(r.id===s)return n.push(r),n}else if(e.ownerDocument&&(r=e.ownerDocument.getElementById(s))&&N(e,r)&&r.id===s)return n.push(r),n}else{if(o[2])return Q.apply(n,e.getElementsByTagName(t)),n;if((s=o[3])&&C.getElementsByClassName)return Q.apply(n,e.getElementsByClassName(s)),n}if(C.qsa&&(!L||!L.test(t))){if(f=h=$,p=e,m=1!==a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(u=T(t),(h=e.getAttribute("id"))?f=h.replace(bt,"\\$&"):e.setAttribute("id",f),f="[id='"+f+"'] ",l=u.length;l--;)u[l]=f+d(u[l]);p=wt.test(t)&&c(e.parentNode)||e,m=u.join(",")}if(m)try{return Q.apply(n,p.querySelectorAll(m)),n}catch(g){}finally{h||e.removeAttribute("id")}}}return E(t.replace(lt,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>k.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[$]=!0,t}function o(t){var e=O.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function r(t,e){for(var n=t.split("|"),i=t.length;i--;)k.attrHandle[n[i]]=e}function s(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||G)-(~t.sourceIndex||G);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function u(t){return i(function(e){return e=+e,i(function(n,i){for(var o,r=t([],n.length,e),s=r.length;s--;)n[o=r[s]]&&(n[o]=!(i[o]=n[o]))})})}function c(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function h(){}function d(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function f(t,e,n){var i=e.dir,o=n&&"parentNode"===i,r=B++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||o)return t(e,n,r)}:function(e,n,s){var a,l,u=[W,r];if(s){for(;e=e[i];)if((1===e.nodeType||o)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||o){if(l=e[$]||(e[$]={}),(a=l[i])&&a[0]===W&&a[1]===r)return u[2]=a[2];if(l[i]=u,u[2]=t(e,n,s))return!0}}}function p(t){return t.length>1?function(e,n,i){for(var o=t.length;o--;)if(!t[o](e,n,i))return!1;return!0}:t[0]}function m(t,n,i){for(var o=0,r=n.length;r>o;o++)e(t,n[o],i);return i}function g(t,e,n,i,o){for(var r,s=[],a=0,l=t.length,u=null!=e;l>a;a++)(r=t[a])&&(!n||n(r,i,o))&&(s.push(r),u&&e.push(a));return s}function v(t,e,n,o,r,s){return o&&!o[$]&&(o=v(o)),r&&!r[$]&&(r=v(r,s)),i(function(i,s,a,l){var u,c,h,d=[],f=[],p=s.length,v=i||m(e||"*",a.nodeType?[a]:a,[]),y=!t||!i&&e?v:g(v,d,t,a,l),w=n?r||(i?t:p||o)?[]:s:y;if(n&&n(y,w,a,l),o)for(u=g(w,f),o(u,[],a,l),c=u.length;c--;)(h=u[c])&&(w[f[c]]=!(y[f[c]]=h));if(i){if(r||t){if(r){for(u=[],c=w.length;c--;)(h=w[c])&&u.push(y[c]=h);r(null,w=[],u,l)}for(c=w.length;c--;)(h=w[c])&&(u=r?tt(i,h):d[c])>-1&&(i[u]=!(s[u]=h))}}else w=g(w===s?w.splice(p,w.length):w),r?r(null,s,w,l):Q.apply(s,w)})}function y(t){for(var e,n,i,o=t.length,r=k.relative[t[0].type],s=r||k.relative[" "],a=r?1:0,l=f(function(t){return t===e},s,!0),u=f(function(t){return tt(e,t)>-1},s,!0),c=[function(t,n,i){var o=!r&&(i||n!==D)||((e=n).nodeType?l(t,n,i):u(t,n,i));return e=null,o}];o>a;a++)if(n=k.relative[t[a].type])c=[f(p(c),n)];else{if(n=k.filter[t[a].type].apply(null,t[a].matches),n[$]){for(i=++a;o>i&&!k.relative[t[i].type];i++);return v(a>1&&p(c),a>1&&d(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(lt,"$1"),n,i>a&&y(t.slice(a,i)),o>i&&y(t=t.slice(i)),o>i&&d(t))}c.push(n)}return p(c)}function w(t,n){var o=n.length>0,r=t.length>0,s=function(i,s,a,l,u){var c,h,d,f=0,p="0",m=i&&[],v=[],y=D,w=i||r&&k.find.TAG("*",u),b=W+=null==y?1:Math.random()||.1,C=w.length;for(u&&(D=s!==O&&s);p!==C&&null!=(c=w[p]);p++){if(r&&c){for(h=0;d=t[h++];)if(d(c,s,a)){l.push(c);break}u&&(W=b)}o&&((c=!d&&c)&&f--,i&&m.push(c))}if(f+=p,o&&p!==f){for(h=0;d=n[h++];)d(m,v,s,a);if(i){if(f>0)for(;p--;)m[p]||v[p]||(v[p]=K.call(l));v=g(v)}Q.apply(l,v),u&&!i&&v.length>0&&f+n.length>1&&e.uniqueSort(l)}return u&&(W=b,D=y),m};return o?i(s):s}var b,C,k,x,_,T,S,E,D,R,M,A,O,H,P,L,I,j,N,$="sizzle"+1*new Date,F=t.document,W=0,B=0,V=n(),z=n(),Y=n(),U=function(t,e){return t===e&&(M=!0),0},G=1<<31,q={}.hasOwnProperty,X=[],K=X.pop,J=X.push,Q=X.push,Z=X.slice,tt=function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ot=it.replace("w","w#"),rt="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ot+"))|)"+nt+"*\\]",st=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",at=new RegExp(nt+"+","g"),lt=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ut=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ht=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),dt=new RegExp(st),ft=new RegExp("^"+ot+"$"),pt={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it.replace("w","w*")+")"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},mt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,wt=/[+~]/,bt=/'|\\/g,Ct=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),kt=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},xt=function(){A()};try{Q.apply(X=Z.call(F.childNodes),F.childNodes),X[F.childNodes.length].nodeType}catch(_t){Q={apply:X.length?function(t,e){J.apply(t,Z.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}C=e.support={},_=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},A=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:F;return i!==O&&9===i.nodeType&&i.documentElement?(O=i,H=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",xt,!1):n.attachEvent&&n.attachEvent("onunload",xt)),P=!_(i),C.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),C.getElementsByTagName=o(function(t){return t.appendChild(i.createComment("")),!t.getElementsByTagName("*").length}),C.getElementsByClassName=vt.test(i.getElementsByClassName),C.getById=o(function(t){return H.appendChild(t).id=$,!i.getElementsByName||!i.getElementsByName($).length}),C.getById?(k.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&P){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},k.filter.ID=function(t){var e=t.replace(Ct,kt);return function(t){return t.getAttribute("id")===e}}):(delete k.find.ID,k.filter.ID=function(t){var e=t.replace(Ct,kt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),k.find.TAG=C.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):C.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],o=0,r=e.getElementsByTagName(t);if("*"===t){for(;n=r[o++];)1===n.nodeType&&i.push(n);return i}return r},k.find.CLASS=C.getElementsByClassName&&function(t,e){return P?e.getElementsByClassName(t):void 0},I=[],L=[],(C.qsa=vt.test(i.querySelectorAll))&&(o(function(t){H.appendChild(t).innerHTML="<a id='"+$+"'></a><select id='"+$+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||L.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+$+"-]").length||L.push("~="),t.querySelectorAll(":checked").length||L.push(":checked"),t.querySelectorAll("a#"+$+"+*").length||L.push(".#.+[+~]")}),o(function(t){var e=i.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&L.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),L.push(",.*:")})),(C.matchesSelector=vt.test(j=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&o(function(t){C.disconnectedMatch=j.call(t,"div"),j.call(t,"[s!='']:x"),I.push("!=",st)}),L=L.length&&new RegExp(L.join("|")),I=I.length&&new RegExp(I.join("|")),e=vt.test(H.compareDocumentPosition),N=e||vt.test(H.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},U=e?function(t,e){if(t===e)return M=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!C.sortDetached&&e.compareDocumentPosition(t)===n?t===i||t.ownerDocument===F&&N(F,t)?-1:e===i||e.ownerDocument===F&&N(F,e)?1:R?tt(R,t)-tt(R,e):0:4&n?-1:1)}:function(t,e){if(t===e)return M=!0,0;var n,o=0,r=t.parentNode,a=e.parentNode,l=[t],u=[e];if(!r||!a)return t===i?-1:e===i?1:r?-1:a?1:R?tt(R,t)-tt(R,e):0;if(r===a)return s(t,e);for(n=t;n=n.parentNode;)l.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;l[o]===u[o];)o++;return o?s(l[o],u[o]):l[o]===F?-1:u[o]===F?1:0},i):O},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==O&&A(t),n=n.replace(ht,"='$1']"),C.matchesSelector&&P&&(!I||!I.test(n))&&(!L||!L.test(n)))try{var i=j.call(t,n);if(i||C.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(o){}return e(n,O,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==O&&A(t),N(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==O&&A(t);var n=k.attrHandle[e.toLowerCase()],i=n&&q.call(k.attrHandle,e.toLowerCase())?n(t,e,!P):void 0;return void 0!==i?i:C.attributes||!P?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,o=0;if(M=!C.detectDuplicates,R=!C.sortStable&&t.slice(0),t.sort(U),M){for(;e=t[o++];)e===t[o]&&(i=n.push(o));for(;i--;)t.splice(n[i],1)}return R=null,t},x=e.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=x(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=x(e);return n},k=e.selectors={cacheLength:50,createPseudo:i,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Ct,kt),t[3]=(t[3]||t[4]||t[5]||"").replace(Ct,kt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&dt.test(n)&&(e=T(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Ct,kt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=V[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&V(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(o){var r=e.attr(o,t);return null==r?"!="===n:n?(r+="","="===n?r===i:"!="===n?r!==i:"^="===n?i&&0===r.indexOf(i):"*="===n?i&&r.indexOf(i)>-1:"$="===n?i&&r.slice(-i.length)===i:"~="===n?(" "+r.replace(at," ")+" ").indexOf(i)>-1:"|="===n?r===i||r.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(t,e,n,i,o){var r="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===o?function(t){return!!t.parentNode}:function(e,n,l){var u,c,h,d,f,p,m=r!==s?"nextSibling":"previousSibling",g=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a;if(g){if(r){for(;m;){for(h=e;h=h[m];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?g.firstChild:g.lastChild],s&&y){for(c=g[$]||(g[$]={}),u=c[t]||[],f=u[0]===W&&u[1],d=u[0]===W&&u[2],h=f&&g.childNodes[f];h=++f&&h&&h[m]||(d=f=0)||p.pop();)if(1===h.nodeType&&++d&&h===e){c[t]=[W,f,d];break}}else if(y&&(u=(e[$]||(e[$]={}))[t])&&u[0]===W)d=u[1];else for(;(h=++f&&h&&h[m]||(d=f=0)||p.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++d||(y&&((h[$]||(h[$]={}))[t]=[W,d]),h!==e)););return d-=o,d===i||d%i===0&&d/i>=0}}},PSEUDO:function(t,n){var o,r=k.pseudos[t]||k.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return r[$]?r(n):r.length>1?(o=[t,t,"",n],k.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,o=r(t,n),s=o.length;s--;)i=tt(t,o[s]),t[i]=!(e[i]=o[s])}):function(t){return r(t,0,o)}):r}},pseudos:{not:i(function(t){var e=[],n=[],o=S(t.replace(lt,"$1"));return o[$]?i(function(t,e,n,i){for(var r,s=o(t,null,i,[]),a=t.length;a--;)(r=s[a])&&(t[a]=!(e[a]=r))}):function(t,i,r){return e[0]=t,o(e,null,r,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(Ct,kt),function(e){return(e.textContent||e.innerText||x(e)).indexOf(t)>-1}}),lang:i(function(t){return ft.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(Ct,kt).toLowerCase(),function(e){var n;do if(n=P?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===H},focus:function(t){return t===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!k.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return mt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,n){return[0>n?n+e:n]}),even:u(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:u(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:u(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:u(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}},k.pseudos.nth=k.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[b]=a(b);for(b in{submit:!0,reset:!0})k.pseudos[b]=l(b);return h.prototype=k.filters=k.pseudos,k.setFilters=new h,T=e.tokenize=function(t,n){var i,o,r,s,a,l,u,c=z[t+" "];if(c)return n?0:c.slice(0);for(a=t,l=[],u=k.preFilter;a;){(!i||(o=ut.exec(a)))&&(o&&(a=a.slice(o[0].length)||a),l.push(r=[])),i=!1,(o=ct.exec(a))&&(i=o.shift(),r.push({value:i,type:o[0].replace(lt," ")}),a=a.slice(i.length));for(s in k.filter)!(o=pt[s].exec(a))||u[s]&&!(o=u[s](o))||(i=o.shift(),r.push({value:i,type:s,matches:o}),a=a.slice(i.length));if(!i)break}return n?a.length:a?e.error(t):z(t,l).slice(0)},S=e.compile=function(t,e){var n,i=[],o=[],r=Y[t+" "];if(!r){for(e||(e=T(t)),n=e.length;n--;)r=y(e[n]),r[$]?i.push(r):o.push(r);r=Y(t,w(o,i)),r.selector=t}return r},E=e.select=function(t,e,n,i){var o,r,s,a,l,u="function"==typeof t&&t,h=!i&&T(t=u.selector||t);if(n=n||[],1===h.length){if(r=h[0]=h[0].slice(0),r.length>2&&"ID"===(s=r[0]).type&&C.getById&&9===e.nodeType&&P&&k.relative[r[1].type]){if(e=(k.find.ID(s.matches[0].replace(Ct,kt),e)||[])[0],!e)return n;u&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(o=pt.needsContext.test(t)?0:r.length;o--&&(s=r[o],!k.relative[a=s.type]);)if((l=k.find[a])&&(i=l(s.matches[0].replace(Ct,kt),wt.test(r[0].type)&&c(e.parentNode)||e))){if(r.splice(o,1),t=i.length&&d(r),!t)return Q.apply(n,i),n;break}}return(u||S(t,h))(i,e,!P,n,wt.test(t)&&c(e.parentNode)||e),n},C.sortStable=$.split("").sort(U).join("")===$,C.detectDuplicates=!!M,A(),C.sortDetached=o(function(t){return 1&t.compareDocumentPosition(O.createElement("div"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||r("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),C.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||r("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||r(et,function(t,e,n){var i;return n?void 0:t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);ot.find=ut,ot.expr=ut.selectors,ot.expr[":"]=ot.expr.pseudos,ot.unique=ut.uniqueSort,ot.text=ut.getText,ot.isXMLDoc=ut.isXML,ot.contains=ut.contains;var ct=ot.expr.match.needsContext,ht=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,dt=/^.[^:#\[\.,]*$/;ot.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?ot.find.matchesSelector(i,t)?[i]:[]:ot.find.matches(t,ot.grep(e,function(t){return 1===t.nodeType}))},ot.fn.extend({find:function(t){var e,n=[],i=this,o=i.length;if("string"!=typeof t)return this.pushStack(ot(t).filter(function(){for(e=0;o>e;e++)if(ot.contains(i[e],this))return!0}));for(e=0;o>e;e++)ot.find(t,i[e],n);return n=this.pushStack(o>1?ot.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&ct.test(t)?ot(t):t||[],!1).length}});var ft,pt=t.document,mt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,gt=ot.fn.init=function(t,e){var n,i;if(!t)return this;if("string"==typeof t){if(n="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:mt.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||ft).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof ot?e[0]:e,ot.merge(this,ot.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:pt,!0)),ht.test(n[1])&&ot.isPlainObject(e))for(n in e)ot.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}if(i=pt.getElementById(n[2]),i&&i.parentNode){if(i.id!==n[2])return ft.find(t);this.length=1,this[0]=i}return this.context=pt,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ot.isFunction(t)?"undefined"!=typeof ft.ready?ft.ready(t):t(ot):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),ot.makeArray(t,this))};gt.prototype=ot.fn,ft=ot(pt);var vt=/^(?:parents|prev(?:Until|All))/,yt={children:!0,contents:!0,next:!0,prev:!0};ot.extend({dir:function(t,e,n){for(var i=[],o=t[e];o&&9!==o.nodeType&&(void 0===n||1!==o.nodeType||!ot(o).is(n));)1===o.nodeType&&i.push(o),o=o[e];return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),ot.fn.extend({has:function(t){var e,n=ot(t,this),i=n.length;return this.filter(function(){for(e=0;i>e;e++)if(ot.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,i=0,o=this.length,r=[],s=ct.test(t)||"string"!=typeof t?ot(t,e||this.context):0;o>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&ot.find.matchesSelector(n,t))){r.push(n);break}return this.pushStack(r.length>1?ot.unique(r):r)},index:function(t){return t?"string"==typeof t?ot.inArray(this[0],ot(t)):ot.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ot.unique(ot.merge(this.get(),ot(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ot.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return ot.dir(t,"parentNode")},parentsUntil:function(t,e,n){return ot.dir(t,"parentNode",n)},next:function(t){return o(t,"nextSibling")},prev:function(t){return o(t,"previousSibling")},nextAll:function(t){return ot.dir(t,"nextSibling")},prevAll:function(t){return ot.dir(t,"previousSibling")},nextUntil:function(t,e,n){return ot.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return ot.dir(t,"previousSibling",n)},siblings:function(t){return ot.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return ot.sibling(t.firstChild)},contents:function(t){return ot.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:ot.merge([],t.childNodes)}},function(t,e){ot.fn[t]=function(n,i){var o=ot.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=ot.filter(i,o)),this.length>1&&(yt[t]||(o=ot.unique(o)),vt.test(t)&&(o=o.reverse())),this.pushStack(o)}});var wt=/\S+/g,bt={};ot.Callbacks=function(t){t="string"==typeof t?bt[t]||r(t):ot.extend({},t);var e,n,i,o,s,a,l=[],u=!t.once&&[],c=function(r){for(n=t.memory&&r,i=!0,s=a||0,a=0,o=l.length,e=!0;l&&o>s;s++)if(l[s].apply(r[0],r[1])===!1&&t.stopOnFalse){n=!1;break}e=!1,l&&(u?u.length&&c(u.shift()):n?l=[]:h.disable())},h={add:function(){if(l){var i=l.length;!function r(e){ot.each(e,function(e,n){var i=ot.type(n);"function"===i?t.unique&&h.has(n)||l.push(n):n&&n.length&&"string"!==i&&r(n)})}(arguments),e?o=l.length:n&&(a=i,c(n))}return this},remove:function(){return l&&ot.each(arguments,function(t,n){for(var i;(i=ot.inArray(n,l,i))>-1;)l.splice(i,1),e&&(o>=i&&o--,s>=i&&s--)}),this},has:function(t){return t?ot.inArray(t,l)>-1:!(!l||!l.length)},empty:function(){return l=[],o=0,this},disable:function(){return l=u=n=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,n||h.disable(),this},locked:function(){return!u},fireWith:function(t,n){return!l||i&&!u||(n=n||[],n=[t,n.slice?n.slice():n],e?u.push(n):c(n)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!i}};return h},ot.extend({Deferred:function(t){var e=[["resolve","done",ot.Callbacks("once memory"),"resolved"],["reject","fail",ot.Callbacks("once memory"),"rejected"],["notify","progress",ot.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return ot.Deferred(function(n){ot.each(e,function(e,r){var s=ot.isFunction(t[e])&&t[e];o[r[1]](function(){var t=s&&s.apply(this,arguments);t&&ot.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[r[0]+"With"](this===i?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?ot.extend(t,i):i}},o={};return i.pipe=i.then,ot.each(e,function(t,r){var s=r[2],a=r[3];i[r[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?i:this,arguments),this},o[r[0]+"With"]=s.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(t){var e,n,i,o=0,r=X.call(arguments),s=r.length,a=1!==s||t&&ot.isFunction(t.promise)?s:0,l=1===a?t:ot.Deferred(),u=function(t,n,i){return function(o){n[t]=this,i[t]=arguments.length>1?X.call(arguments):o,i===e?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(e=new Array(s),n=new Array(s),i=new Array(s);s>o;o++)r[o]&&ot.isFunction(r[o].promise)?r[o].promise().done(u(o,i,r)).fail(l.reject).progress(u(o,n,e)):--a;return a||l.resolveWith(i,r),l.promise()}});var Ct;ot.fn.ready=function(t){return ot.ready.promise().done(t),this},ot.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ot.readyWait++:ot.ready(!0)},ready:function(t){if(t===!0?!--ot.readyWait:!ot.isReady){if(!pt.body)return setTimeout(ot.ready);ot.isReady=!0,t!==!0&&--ot.readyWait>0||(Ct.resolveWith(pt,[ot]),ot.fn.triggerHandler&&(ot(pt).triggerHandler("ready"),ot(pt).off("ready")))}}}),ot.ready.promise=function(e){if(!Ct)if(Ct=ot.Deferred(),"complete"===pt.readyState)setTimeout(ot.ready);else if(pt.addEventListener)pt.addEventListener("DOMContentLoaded",a,!1),t.addEventListener("load",a,!1);else{pt.attachEvent("onreadystatechange",a),t.attachEvent("onload",a);var n=!1;try{n=null==t.frameElement&&pt.documentElement}catch(i){}n&&n.doScroll&&!function o(){if(!ot.isReady){try{n.doScroll("left")}catch(t){return setTimeout(o,50)}s(),ot.ready()}}()}return Ct.promise(e)};var kt,xt="undefined";for(kt in ot(nt))break;nt.ownLast="0"!==kt,nt.inlineBlockNeedsLayout=!1,ot(function(){var t,e,n,i;n=pt.getElementsByTagName("body")[0],n&&n.style&&(e=pt.createElement("div"),i=pt.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),typeof e.style.zoom!==xt&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",nt.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(i))}),function(){var t=pt.createElement("div");if(null==nt.deleteExpando){nt.deleteExpando=!0;try{delete t.test}catch(e){nt.deleteExpando=!1}}t=null}(),ot.acceptData=function(t){var e=ot.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return 1!==n&&9!==n?!1:!e||e!==!0&&t.getAttribute("classid")===e};var _t=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Tt=/([A-Z])/g;ot.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?ot.cache[t[ot.expando]]:t[ot.expando],!!t&&!u(t)},data:function(t,e,n){return c(t,e,n)},removeData:function(t,e){return h(t,e)},_data:function(t,e,n){return c(t,e,n,!0)},_removeData:function(t,e){return h(t,e,!0)}}),ot.fn.extend({data:function(t,e){var n,i,o,r=this[0],s=r&&r.attributes;if(void 0===t){if(this.length&&(o=ot.data(r),1===r.nodeType&&!ot._data(r,"parsedAttrs"))){for(n=s.length;n--;)s[n]&&(i=s[n].name,0===i.indexOf("data-")&&(i=ot.camelCase(i.slice(5)),l(r,i,o[i])));ot._data(r,"parsedAttrs",!0)}return o}return"object"==typeof t?this.each(function(){ot.data(this,t)}):arguments.length>1?this.each(function(){ot.data(this,t,e)}):r?l(r,t,ot.data(r,t)):void 0},removeData:function(t){return this.each(function(){ot.removeData(this,t)})}}),ot.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=ot._data(t,e),n&&(!i||ot.isArray(n)?i=ot._data(t,e,ot.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=ot.queue(t,e),i=n.length,o=n.shift(),r=ot._queueHooks(t,e),s=function(){ot.dequeue(t,e)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===e&&n.unshift("inprogress"),delete r.stop,o.call(t,s,r)),!i&&r&&r.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return ot._data(t,n)||ot._data(t,n,{empty:ot.Callbacks("once memory").add(function(){ot._removeData(t,e+"queue"),ot._removeData(t,n)})})}}),ot.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?ot.queue(this[0],t):void 0===e?this:this.each(function(){var n=ot.queue(this,t,e);ot._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&ot.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ot.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,o=ot.Deferred(),r=this,s=this.length,a=function(){--i||o.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)n=ot._data(r[s],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),o.promise(e)}});var St=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Et=["Top","Right","Bottom","Left"],Dt=function(t,e){return t=e||t,"none"===ot.css(t,"display")||!ot.contains(t.ownerDocument,t)},Rt=ot.access=function(t,e,n,i,o,r,s){var a=0,l=t.length,u=null==n;if("object"===ot.type(n)){o=!0;for(a in n)ot.access(t,e,a,n[a],!0,r,s)}else if(void 0!==i&&(o=!0,ot.isFunction(i)||(s=!0),u&&(s?(e.call(t,i),e=null):(u=e,e=function(t,e,n){return u.call(ot(t),n)})),e))for(;l>a;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return o?t:u?e.call(t):l?e(t[0],n):r},Mt=/^(?:checkbox|radio)$/i;!function(){var t=pt.createElement("input"),e=pt.createElement("div"),n=pt.createDocumentFragment();if(e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",nt.leadingWhitespace=3===e.firstChild.nodeType,nt.tbody=!e.getElementsByTagName("tbody").length,nt.htmlSerialize=!!e.getElementsByTagName("link").length,nt.html5Clone="<:nav></:nav>"!==pt.createElement("nav").cloneNode(!0).outerHTML,t.type="checkbox",t.checked=!0,n.appendChild(t),nt.appendChecked=t.checked,e.innerHTML="<textarea>x</textarea>",nt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,n.appendChild(e),e.innerHTML="<input type='radio' checked='checked' name='t'/>",nt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,nt.noCloneEvent=!0,e.attachEvent&&(e.attachEvent("onclick",function(){nt.noCloneEvent=!1}),e.cloneNode(!0).click()),null==nt.deleteExpando){nt.deleteExpando=!0;try{delete e.test}catch(i){nt.deleteExpando=!1}}}(),function(){var e,n,i=pt.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})n="on"+e,(nt[e+"Bubbles"]=n in t)||(i.setAttribute(n,"t"),nt[e+"Bubbles"]=i.attributes[n].expando===!1);i=null}();var At=/^(?:input|select|textarea)$/i,Ot=/^key/,Ht=/^(?:mouse|pointer|contextmenu)|click/,Pt=/^(?:focusinfocus|focusoutblur)$/,Lt=/^([^.]*)(?:\.(.+)|)$/;ot.event={global:{},add:function(t,e,n,i,o){var r,s,a,l,u,c,h,d,f,p,m,g=ot._data(t);if(g){for(n.handler&&(l=n,n=l.handler,o=l.selector),n.guid||(n.guid=ot.guid++),(s=g.events)||(s=g.events={}),(c=g.handle)||(c=g.handle=function(t){return typeof ot===xt||t&&ot.event.triggered===t.type?void 0:ot.event.dispatch.apply(c.elem,arguments)},c.elem=t),e=(e||"").match(wt)||[""],a=e.length;a--;)r=Lt.exec(e[a])||[],f=m=r[1],p=(r[2]||"").split(".").sort(),f&&(u=ot.event.special[f]||{},f=(o?u.delegateType:u.bindType)||f,u=ot.event.special[f]||{},h=ot.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&ot.expr.match.needsContext.test(o),namespace:p.join(".")},l),(d=s[f])||(d=s[f]=[],d.delegateCount=0,u.setup&&u.setup.call(t,i,p,c)!==!1||(t.addEventListener?t.addEventListener(f,c,!1):t.attachEvent&&t.attachEvent("on"+f,c))),u.add&&(u.add.call(t,h),h.handler.guid||(h.handler.guid=n.guid)),o?d.splice(d.delegateCount++,0,h):d.push(h),ot.event.global[f]=!0);t=null}},remove:function(t,e,n,i,o){var r,s,a,l,u,c,h,d,f,p,m,g=ot.hasData(t)&&ot._data(t);if(g&&(c=g.events)){for(e=(e||"").match(wt)||[""],u=e.length;u--;)if(a=Lt.exec(e[u])||[],f=m=a[1],p=(a[2]||"").split(".").sort(),f){for(h=ot.event.special[f]||{},f=(i?h.delegateType:h.bindType)||f,d=c[f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=d.length;r--;)s=d[r],!o&&m!==s.origType||n&&n.guid!==s.guid||a&&!a.test(s.namespace)||i&&i!==s.selector&&("**"!==i||!s.selector)||(d.splice(r,1),s.selector&&d.delegateCount--,h.remove&&h.remove.call(t,s));l&&!d.length&&(h.teardown&&h.teardown.call(t,p,g.handle)!==!1||ot.removeEvent(t,f,g.handle),delete c[f])}else for(f in c)ot.event.remove(t,f+e[u],n,i,!0);ot.isEmptyObject(c)&&(delete g.handle,ot._removeData(t,"events"))}},trigger:function(e,n,i,o){var r,s,a,l,u,c,h,d=[i||pt],f=et.call(e,"type")?e.type:e,p=et.call(e,"namespace")?e.namespace.split("."):[];if(a=c=i=i||pt,3!==i.nodeType&&8!==i.nodeType&&!Pt.test(f+ot.event.triggered)&&(f.indexOf(".")>=0&&(p=f.split("."),f=p.shift(),p.sort()),s=f.indexOf(":")<0&&"on"+f,e=e[ot.expando]?e:new ot.Event(f,"object"==typeof e&&e),
e.isTrigger=o?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:ot.makeArray(n,[e]),u=ot.event.special[f]||{},o||!u.trigger||u.trigger.apply(i,n)!==!1)){if(!o&&!u.noBubble&&!ot.isWindow(i)){for(l=u.delegateType||f,Pt.test(l+f)||(a=a.parentNode);a;a=a.parentNode)d.push(a),c=a;c===(i.ownerDocument||pt)&&d.push(c.defaultView||c.parentWindow||t)}for(h=0;(a=d[h++])&&!e.isPropagationStopped();)e.type=h>1?l:u.bindType||f,r=(ot._data(a,"events")||{})[e.type]&&ot._data(a,"handle"),r&&r.apply(a,n),r=s&&a[s],r&&r.apply&&ot.acceptData(a)&&(e.result=r.apply(a,n),e.result===!1&&e.preventDefault());if(e.type=f,!o&&!e.isDefaultPrevented()&&(!u._default||u._default.apply(d.pop(),n)===!1)&&ot.acceptData(i)&&s&&i[f]&&!ot.isWindow(i)){c=i[s],c&&(i[s]=null),ot.event.triggered=f;try{i[f]()}catch(m){}ot.event.triggered=void 0,c&&(i[s]=c)}return e.result}},dispatch:function(t){t=ot.event.fix(t);var e,n,i,o,r,s=[],a=X.call(arguments),l=(ot._data(this,"events")||{})[t.type]||[],u=ot.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,t)!==!1){for(s=ot.event.handlers.call(this,t,l),e=0;(o=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,r=0;(i=o.handlers[r++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(i.namespace))&&(t.handleObj=i,t.data=i.data,n=((ot.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,a),void 0!==n&&(t.result=n)===!1&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,o,r,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==t.type)){for(o=[],r=0;a>r;r++)i=e[r],n=i.selector+" ",void 0===o[n]&&(o[n]=i.needsContext?ot(n,this).index(l)>=0:ot.find(n,this,null,[l]).length),o[n]&&o.push(i);o.length&&s.push({elem:l,handlers:o})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},fix:function(t){if(t[ot.expando])return t;var e,n,i,o=t.type,r=t,s=this.fixHooks[o];for(s||(this.fixHooks[o]=s=Ht.test(o)?this.mouseHooks:Ot.test(o)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,t=new ot.Event(r),e=i.length;e--;)n=i[e],t[n]=r[n];return t.target||(t.target=r.srcElement||pt),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,s.filter?s.filter(t,r):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,o,r=e.button,s=e.fromElement;return null==t.pageX&&null!=e.clientX&&(i=t.target.ownerDocument||pt,o=i.documentElement,n=i.body,t.pageX=e.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&s&&(t.relatedTarget=s===t.target?e.toElement:s),t.which||void 0===r||(t.which=1&r?1:2&r?3:4&r?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===p()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ot.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return ot.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var o=ot.extend(new ot.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?ot.event.trigger(o,null,e):ot.event.dispatch.call(e,o),o.isDefaultPrevented()&&n.preventDefault()}},ot.removeEvent=pt.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)}:function(t,e,n){var i="on"+e;t.detachEvent&&(typeof t[i]===xt&&(t[i]=null),t.detachEvent(i,n))},ot.Event=function(t,e){return this instanceof ot.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?d:f):this.type=t,e&&ot.extend(this,e),this.timeStamp=t&&t.timeStamp||ot.now(),void(this[ot.expando]=!0)):new ot.Event(t,e)},ot.Event.prototype={isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=d,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=d,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=d,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},ot.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){ot.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,o=t.relatedTarget,r=t.handleObj;return(!o||o!==i&&!ot.contains(i,o))&&(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),nt.submitBubbles||(ot.event.special.submit={setup:function(){return ot.nodeName(this,"form")?!1:void ot.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=ot.nodeName(e,"input")||ot.nodeName(e,"button")?e.form:void 0;n&&!ot._data(n,"submitBubbles")&&(ot.event.add(n,"submit._submit",function(t){t._submit_bubble=!0}),ot._data(n,"submitBubbles",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&ot.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return ot.nodeName(this,"form")?!1:void ot.event.remove(this,"._submit")}}),nt.changeBubbles||(ot.event.special.change={setup:function(){return At.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ot.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),ot.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),ot.event.simulate("change",this,t,!0)})),!1):void ot.event.add(this,"beforeactivate._change",function(t){var e=t.target;At.test(e.nodeName)&&!ot._data(e,"changeBubbles")&&(ot.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||ot.event.simulate("change",this.parentNode,t,!0)}),ot._data(e,"changeBubbles",!0))})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ot.event.remove(this,"._change"),!At.test(this.nodeName)}}),nt.focusinBubbles||ot.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){ot.event.simulate(e,t.target,ot.event.fix(t),!0)};ot.event.special[e]={setup:function(){var i=this.ownerDocument||this,o=ot._data(i,e);o||i.addEventListener(t,n,!0),ot._data(i,e,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this,o=ot._data(i,e)-1;o?ot._data(i,e,o):(i.removeEventListener(t,n,!0),ot._removeData(i,e))}}}),ot.fn.extend({on:function(t,e,n,i,o){var r,s;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(r in t)this.on(r,e,n,t[r],o);return this}if(null==n&&null==i?(i=e,n=e=void 0):null==i&&("string"==typeof e?(i=n,n=void 0):(i=n,n=e,e=void 0)),i===!1)i=f;else if(!i)return this;return 1===o&&(s=i,i=function(t){return ot().off(t),s.apply(this,arguments)},i.guid=s.guid||(s.guid=ot.guid++)),this.each(function(){ot.event.add(this,t,i,n,e)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,e,n){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,ot(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=f),this.each(function(){ot.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){ot.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?ot.event.trigger(t,e,n,!0):void 0}});var It="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",jt=/ jQuery\d+="(?:null|\d+)"/g,Nt=new RegExp("<(?:"+It+")[\\s/>]","i"),$t=/^\s+/,Ft=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Wt=/<([\w:]+)/,Bt=/<tbody/i,Vt=/<|&#?\w+;/,zt=/<(?:script|style|link)/i,Yt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ut=/^$|\/(?:java|ecma)script/i,Gt=/^true\/(.*)/,qt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Xt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:nt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Kt=m(pt),Jt=Kt.appendChild(pt.createElement("div"));Xt.optgroup=Xt.option,Xt.tbody=Xt.tfoot=Xt.colgroup=Xt.caption=Xt.thead,Xt.th=Xt.td,ot.extend({clone:function(t,e,n){var i,o,r,s,a,l=ot.contains(t.ownerDocument,t);if(nt.html5Clone||ot.isXMLDoc(t)||!Nt.test("<"+t.nodeName+">")?r=t.cloneNode(!0):(Jt.innerHTML=t.outerHTML,Jt.removeChild(r=Jt.firstChild)),!(nt.noCloneEvent&&nt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ot.isXMLDoc(t)))for(i=g(r),a=g(t),s=0;null!=(o=a[s]);++s)i[s]&&x(o,i[s]);if(e)if(n)for(a=a||g(t),i=i||g(r),s=0;null!=(o=a[s]);s++)k(o,i[s]);else k(t,r);return i=g(r,"script"),i.length>0&&C(i,!l&&g(t,"script")),i=a=o=null,r},buildFragment:function(t,e,n,i){for(var o,r,s,a,l,u,c,h=t.length,d=m(e),f=[],p=0;h>p;p++)if(r=t[p],r||0===r)if("object"===ot.type(r))ot.merge(f,r.nodeType?[r]:r);else if(Vt.test(r)){for(a=a||d.appendChild(e.createElement("div")),l=(Wt.exec(r)||["",""])[1].toLowerCase(),c=Xt[l]||Xt._default,a.innerHTML=c[1]+r.replace(Ft,"<$1></$2>")+c[2],o=c[0];o--;)a=a.lastChild;if(!nt.leadingWhitespace&&$t.test(r)&&f.push(e.createTextNode($t.exec(r)[0])),!nt.tbody)for(r="table"!==l||Bt.test(r)?"<table>"!==c[1]||Bt.test(r)?0:a:a.firstChild,o=r&&r.childNodes.length;o--;)ot.nodeName(u=r.childNodes[o],"tbody")&&!u.childNodes.length&&r.removeChild(u);for(ot.merge(f,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=d.lastChild}else f.push(e.createTextNode(r));for(a&&d.removeChild(a),nt.appendChecked||ot.grep(g(f,"input"),v),p=0;r=f[p++];)if((!i||-1===ot.inArray(r,i))&&(s=ot.contains(r.ownerDocument,r),a=g(d.appendChild(r),"script"),s&&C(a),n))for(o=0;r=a[o++];)Ut.test(r.type||"")&&n.push(r);return a=null,d},cleanData:function(t,e){for(var n,i,o,r,s=0,a=ot.expando,l=ot.cache,u=nt.deleteExpando,c=ot.event.special;null!=(n=t[s]);s++)if((e||ot.acceptData(n))&&(o=n[a],r=o&&l[o])){if(r.events)for(i in r.events)c[i]?ot.event.remove(n,i):ot.removeEvent(n,i,r.handle);l[o]&&(delete l[o],u?delete n[a]:typeof n.removeAttribute!==xt?n.removeAttribute(a):n[a]=null,q.push(o))}}}),ot.fn.extend({text:function(t){return Rt(this,function(t){return void 0===t?ot.text(this):this.empty().append((this[0]&&this[0].ownerDocument||pt).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=y(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=y(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?ot.filter(t,this):this,o=0;null!=(n=i[o]);o++)e||1!==n.nodeType||ot.cleanData(g(n)),n.parentNode&&(e&&ot.contains(n.ownerDocument,n)&&C(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&ot.cleanData(g(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&ot.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return ot.clone(this,t,e)})},html:function(t){return Rt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(jt,""):void 0;if("string"==typeof t&&!zt.test(t)&&(nt.htmlSerialize||!Nt.test(t))&&(nt.leadingWhitespace||!$t.test(t))&&!Xt[(Wt.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Ft,"<$1></$2>");try{for(;i>n;n++)e=this[n]||{},1===e.nodeType&&(ot.cleanData(g(e,!1)),e.innerHTML=t);e=0}catch(o){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,ot.cleanData(g(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=K.apply([],t);var n,i,o,r,s,a,l=0,u=this.length,c=this,h=u-1,d=t[0],f=ot.isFunction(d);if(f||u>1&&"string"==typeof d&&!nt.checkClone&&Yt.test(d))return this.each(function(n){var i=c.eq(n);f&&(t[0]=d.call(this,n,i.html())),i.domManip(t,e)});if(u&&(a=ot.buildFragment(t,this[0].ownerDocument,!1,this),n=a.firstChild,1===a.childNodes.length&&(a=n),n)){for(r=ot.map(g(a,"script"),w),o=r.length;u>l;l++)i=a,l!==h&&(i=ot.clone(i,!0,!0),o&&ot.merge(r,g(i,"script"))),e.call(this[l],i,l);if(o)for(s=r[r.length-1].ownerDocument,ot.map(r,b),l=0;o>l;l++)i=r[l],Ut.test(i.type||"")&&!ot._data(i,"globalEval")&&ot.contains(s,i)&&(i.src?ot._evalUrl&&ot._evalUrl(i.src):ot.globalEval((i.text||i.textContent||i.innerHTML||"").replace(qt,"")));a=n=null}return this}}),ot.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ot.fn[t]=function(t){for(var n,i=0,o=[],r=ot(t),s=r.length-1;s>=i;i++)n=i===s?this:this.clone(!0),ot(r[i])[e](n),J.apply(o,n.get());return this.pushStack(o)}});var Qt,Zt={};!function(){var t;nt.shrinkWrapBlocks=function(){if(null!=t)return t;t=!1;var e,n,i;return n=pt.getElementsByTagName("body")[0],n&&n.style?(e=pt.createElement("div"),i=pt.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),typeof e.style.zoom!==xt&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(pt.createElement("div")).style.width="5px",t=3!==e.offsetWidth),n.removeChild(i),t):void 0}}();var te,ee,ne=/^margin/,ie=new RegExp("^("+St+")(?!px)[a-z%]+$","i"),oe=/^(top|right|bottom|left)$/;t.getComputedStyle?(te=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):t.getComputedStyle(e,null)},ee=function(t,e,n){var i,o,r,s,a=t.style;return n=n||te(t),s=n?n.getPropertyValue(e)||n[e]:void 0,n&&(""!==s||ot.contains(t.ownerDocument,t)||(s=ot.style(t,e)),ie.test(s)&&ne.test(e)&&(i=a.width,o=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=o,a.maxWidth=r)),void 0===s?s:s+""}):pt.documentElement.currentStyle&&(te=function(t){return t.currentStyle},ee=function(t,e,n){var i,o,r,s,a=t.style;return n=n||te(t),s=n?n[e]:void 0,null==s&&a&&a[e]&&(s=a[e]),ie.test(s)&&!oe.test(e)&&(i=a.left,o=t.runtimeStyle,r=o&&o.left,r&&(o.left=t.currentStyle.left),a.left="fontSize"===e?"1em":s,s=a.pixelLeft+"px",a.left=i,r&&(o.left=r)),void 0===s?s:s+""||"auto"}),function(){function e(){var e,n,i,o;n=pt.getElementsByTagName("body")[0],n&&n.style&&(e=pt.createElement("div"),i=pt.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),e.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",r=s=!1,l=!0,t.getComputedStyle&&(r="1%"!==(t.getComputedStyle(e,null)||{}).top,s="4px"===(t.getComputedStyle(e,null)||{width:"4px"}).width,o=e.appendChild(pt.createElement("div")),o.style.cssText=e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",o.style.marginRight=o.style.width="0",e.style.width="1px",l=!parseFloat((t.getComputedStyle(o,null)||{}).marginRight),e.removeChild(o)),e.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=e.getElementsByTagName("td"),o[0].style.cssText="margin:0;border:0;padding:0;display:none",a=0===o[0].offsetHeight,a&&(o[0].style.display="",o[1].style.display="none",a=0===o[0].offsetHeight),n.removeChild(i))}var n,i,o,r,s,a,l;n=pt.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",o=n.getElementsByTagName("a")[0],i=o&&o.style,i&&(i.cssText="float:left;opacity:.5",nt.opacity="0.5"===i.opacity,nt.cssFloat=!!i.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",nt.clearCloneStyle="content-box"===n.style.backgroundClip,nt.boxSizing=""===i.boxSizing||""===i.MozBoxSizing||""===i.WebkitBoxSizing,ot.extend(nt,{reliableHiddenOffsets:function(){return null==a&&e(),a},boxSizingReliable:function(){return null==s&&e(),s},pixelPosition:function(){return null==r&&e(),r},reliableMarginRight:function(){return null==l&&e(),l}}))}(),ot.swap=function(t,e,n,i){var o,r,s={};for(r in e)s[r]=t.style[r],t.style[r]=e[r];o=n.apply(t,i||[]);for(r in e)t.style[r]=s[r];return o};var re=/alpha\([^)]*\)/i,se=/opacity\s*=\s*([^)]*)/,ae=/^(none|table(?!-c[ea]).+)/,le=new RegExp("^("+St+")(.*)$","i"),ue=new RegExp("^([+-])=("+St+")","i"),ce={position:"absolute",visibility:"hidden",display:"block"},he={letterSpacing:"0",fontWeight:"400"},de=["Webkit","O","Moz","ms"];ot.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=ee(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":nt.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,s,a=ot.camelCase(e),l=t.style;if(e=ot.cssProps[a]||(ot.cssProps[a]=E(l,a)),s=ot.cssHooks[e]||ot.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(o=s.get(t,!1,i))?o:l[e];if(r=typeof n,"string"===r&&(o=ue.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(ot.css(t,e)),r="number"),null!=n&&n===n&&("number"!==r||ot.cssNumber[a]||(n+="px"),nt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),!(s&&"set"in s&&void 0===(n=s.set(t,n,i)))))try{l[e]=n}catch(u){}}},css:function(t,e,n,i){var o,r,s,a=ot.camelCase(e);return e=ot.cssProps[a]||(ot.cssProps[a]=E(t.style,a)),s=ot.cssHooks[e]||ot.cssHooks[a],s&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=ee(t,e,i)),"normal"===r&&e in he&&(r=he[e]),""===n||n?(o=parseFloat(r),n===!0||ot.isNumeric(o)?o||0:r):r}}),ot.each(["height","width"],function(t,e){ot.cssHooks[e]={get:function(t,n,i){return n?ae.test(ot.css(t,"display"))&&0===t.offsetWidth?ot.swap(t,ce,function(){return A(t,e,i)}):A(t,e,i):void 0},set:function(t,n,i){var o=i&&te(t);return R(t,n,i?M(t,e,i,nt.boxSizing&&"border-box"===ot.css(t,"boxSizing",!1,o),o):0)}}}),nt.opacity||(ot.cssHooks.opacity={get:function(t,e){return se.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,o=ot.isNumeric(e)?"alpha(opacity="+100*e+")":"",r=i&&i.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===ot.trim(r.replace(re,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=re.test(r)?r.replace(re,o):r+" "+o)}}),ot.cssHooks.marginRight=S(nt.reliableMarginRight,function(t,e){return e?ot.swap(t,{display:"inline-block"},ee,[t,"marginRight"]):void 0}),ot.each({margin:"",padding:"",border:"Width"},function(t,e){ot.cssHooks[t+e]={expand:function(n){for(var i=0,o={},r="string"==typeof n?n.split(" "):[n];4>i;i++)o[t+Et[i]+e]=r[i]||r[i-2]||r[0];return o}},ne.test(t)||(ot.cssHooks[t+e].set=R)}),ot.fn.extend({css:function(t,e){return Rt(this,function(t,e,n){var i,o,r={},s=0;if(ot.isArray(e)){for(i=te(t),o=e.length;o>s;s++)r[e[s]]=ot.css(t,e[s],!1,i);return r}return void 0!==n?ot.style(t,e,n):ot.css(t,e)},t,e,arguments.length>1)},show:function(){return D(this,!0)},hide:function(){return D(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Dt(this)?ot(this).show():ot(this).hide()})}}),ot.Tween=O,O.prototype={constructor:O,init:function(t,e,n,i,o,r){this.elem=t,this.prop=n,this.easing=o||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=r||(ot.cssNumber[n]?"":"px")},cur:function(){var t=O.propHooks[this.prop];return t&&t.get?t.get(this):O.propHooks._default.get(this)},run:function(t){var e,n=O.propHooks[this.prop];return this.options.duration?this.pos=e=ot.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):O.propHooks._default.set(this),this}},O.prototype.init.prototype=O.prototype,O.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=ot.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){ot.fx.step[t.prop]?ot.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[ot.cssProps[t.prop]]||ot.cssHooks[t.prop])?ot.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},O.propHooks.scrollTop=O.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ot.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},ot.fx=O.prototype.init,ot.fx.step={};var fe,pe,me=/^(?:toggle|show|hide)$/,ge=new RegExp("^(?:([+-])=|)("+St+")([a-z%]*)$","i"),ve=/queueHooks$/,ye=[I],we={"*":[function(t,e){var n=this.createTween(t,e),i=n.cur(),o=ge.exec(e),r=o&&o[3]||(ot.cssNumber[t]?"":"px"),s=(ot.cssNumber[t]||"px"!==r&&+i)&&ge.exec(ot.css(n.elem,t)),a=1,l=20;if(s&&s[3]!==r){r=r||s[3],o=o||[],s=+i||1;do a=a||".5",s/=a,ot.style(n.elem,t,s+r);while(a!==(a=n.cur()/i)&&1!==a&&--l)}return o&&(s=n.start=+s||+i||0,n.unit=r,n.end=o[1]?s+(o[1]+1)*o[2]:+o[2]),n}]};ot.Animation=ot.extend(N,{tweener:function(t,e){ot.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,o=t.length;o>i;i++)n=t[i],we[n]=we[n]||[],we[n].unshift(e)},prefilter:function(t,e){e?ye.unshift(t):ye.push(t)}}),ot.speed=function(t,e,n){var i=t&&"object"==typeof t?ot.extend({},t):{complete:n||!n&&e||ot.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ot.isFunction(e)&&e};return i.duration=ot.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ot.fx.speeds?ot.fx.speeds[i.duration]:ot.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){ot.isFunction(i.old)&&i.old.call(this),i.queue&&ot.dequeue(this,i.queue)},i},ot.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Dt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var o=ot.isEmptyObject(t),r=ot.speed(e,n,i),s=function(){var e=N(this,ot.extend({},t),r);(o||ot._data(this,"finish"))&&e.stop(!0)};return s.finish=s,o||r.queue===!1?this.each(s):this.queue(r.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,o=null!=t&&t+"queueHooks",r=ot.timers,s=ot._data(this);if(o)s[o]&&s[o].stop&&i(s[o]);else for(o in s)s[o]&&s[o].stop&&ve.test(o)&&i(s[o]);for(o=r.length;o--;)r[o].elem!==this||null!=t&&r[o].queue!==t||(r[o].anim.stop(n),e=!1,r.splice(o,1));(e||!n)&&ot.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=ot._data(this),i=n[t+"queue"],o=n[t+"queueHooks"],r=ot.timers,s=i?i.length:0;for(n.finish=!0,ot.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;s>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),ot.each(["toggle","show","hide"],function(t,e){var n=ot.fn[e];ot.fn[e]=function(t,i,o){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(P(e,!0),t,i,o)}}),ot.each({slideDown:P("show"),slideUp:P("hide"),slideToggle:P("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ot.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),ot.timers=[],ot.fx.tick=function(){var t,e=ot.timers,n=0;for(fe=ot.now();n<e.length;n++)t=e[n],t()||e[n]!==t||e.splice(n--,1);e.length||ot.fx.stop(),fe=void 0},ot.fx.timer=function(t){ot.timers.push(t),t()?ot.fx.start():ot.timers.pop()},ot.fx.interval=13,ot.fx.start=function(){pe||(pe=setInterval(ot.fx.tick,ot.fx.interval))},ot.fx.stop=function(){clearInterval(pe),pe=null},ot.fx.speeds={slow:600,fast:200,_default:400},ot.fn.delay=function(t,e){return t=ot.fx?ot.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=setTimeout(e,t);n.stop=function(){clearTimeout(i)}})},function(){var t,e,n,i,o;e=pt.createElement("div"),e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=e.getElementsByTagName("a")[0],n=pt.createElement("select"),o=n.appendChild(pt.createElement("option")),t=e.getElementsByTagName("input")[0],i.style.cssText="top:1px",nt.getSetAttribute="t"!==e.className,nt.style=/top/.test(i.getAttribute("style")),nt.hrefNormalized="/a"===i.getAttribute("href"),nt.checkOn=!!t.value,nt.optSelected=o.selected,nt.enctype=!!pt.createElement("form").enctype,n.disabled=!0,nt.optDisabled=!o.disabled,t=pt.createElement("input"),t.setAttribute("value",""),nt.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),nt.radioValue="t"===t.value}();var be=/\r/g;ot.fn.extend({val:function(t){var e,n,i,o=this[0];{if(arguments.length)return i=ot.isFunction(t),this.each(function(n){var o;1===this.nodeType&&(o=i?t.call(this,n,ot(this).val()):t,null==o?o="":"number"==typeof o?o+="":ot.isArray(o)&&(o=ot.map(o,function(t){return null==t?"":t+""})),e=ot.valHooks[this.type]||ot.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))});if(o)return e=ot.valHooks[o.type]||ot.valHooks[o.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(be,""):null==n?"":n)}}}),ot.extend({valHooks:{option:{get:function(t){var e=ot.find.attr(t,"value");return null!=e?e:ot.trim(ot.text(t))}},select:{get:function(t){for(var e,n,i=t.options,o=t.selectedIndex,r="select-one"===t.type||0>o,s=r?null:[],a=r?o+1:i.length,l=0>o?a:r?o:0;a>l;l++)if(n=i[l],(n.selected||l===o)&&(nt.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ot.nodeName(n.parentNode,"optgroup"))){if(e=ot(n).val(),r)return e;s.push(e)}return s},set:function(t,e){for(var n,i,o=t.options,r=ot.makeArray(e),s=o.length;s--;)if(i=o[s],ot.inArray(ot.valHooks.option.get(i),r)>=0)try{i.selected=n=!0}catch(a){i.scrollHeight}else i.selected=!1;return n||(t.selectedIndex=-1),o}}}}),ot.each(["radio","checkbox"],function(){ot.valHooks[this]={set:function(t,e){return ot.isArray(e)?t.checked=ot.inArray(ot(t).val(),e)>=0:void 0}},nt.checkOn||(ot.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Ce,ke,xe=ot.expr.attrHandle,_e=/^(?:checked|selected)$/i,Te=nt.getSetAttribute,Se=nt.input;ot.fn.extend({attr:function(t,e){return Rt(this,ot.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ot.removeAttr(this,t)})}}),ot.extend({attr:function(t,e,n){var i,o,r=t.nodeType;if(t&&3!==r&&8!==r&&2!==r)return typeof t.getAttribute===xt?ot.prop(t,e,n):(1===r&&ot.isXMLDoc(t)||(e=e.toLowerCase(),i=ot.attrHooks[e]||(ot.expr.match.bool.test(e)?ke:Ce)),void 0===n?i&&"get"in i&&null!==(o=i.get(t,e))?o:(o=ot.find.attr(t,e),null==o?void 0:o):null!==n?i&&"set"in i&&void 0!==(o=i.set(t,n,e))?o:(t.setAttribute(e,n+""),n):void ot.removeAttr(t,e))},removeAttr:function(t,e){var n,i,o=0,r=e&&e.match(wt);if(r&&1===t.nodeType)for(;n=r[o++];)i=ot.propFix[n]||n,ot.expr.match.bool.test(n)?Se&&Te||!_e.test(n)?t[i]=!1:t[ot.camelCase("default-"+n)]=t[i]=!1:ot.attr(t,n,""),t.removeAttribute(Te?n:i)},attrHooks:{type:{set:function(t,e){if(!nt.radioValue&&"radio"===e&&ot.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),ke={set:function(t,e,n){return e===!1?ot.removeAttr(t,n):Se&&Te||!_e.test(n)?t.setAttribute(!Te&&ot.propFix[n]||n,n):t[ot.camelCase("default-"+n)]=t[n]=!0,n}},ot.each(ot.expr.match.bool.source.match(/\w+/g),function(t,e){var n=xe[e]||ot.find.attr;xe[e]=Se&&Te||!_e.test(e)?function(t,e,i){var o,r;return i||(r=xe[e],xe[e]=o,o=null!=n(t,e,i)?e.toLowerCase():null,xe[e]=r),o}:function(t,e,n){return n?void 0:t[ot.camelCase("default-"+e)]?e.toLowerCase():null}}),Se&&Te||(ot.attrHooks.value={set:function(t,e,n){return ot.nodeName(t,"input")?void(t.defaultValue=e):Ce&&Ce.set(t,e,n)}}),Te||(Ce={set:function(t,e,n){var i=t.getAttributeNode(n);return i||t.setAttributeNode(i=t.ownerDocument.createAttribute(n)),i.value=e+="","value"===n||e===t.getAttribute(n)?e:void 0}},xe.id=xe.name=xe.coords=function(t,e,n){var i;return n?void 0:(i=t.getAttributeNode(e))&&""!==i.value?i.value:null},ot.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);return n&&n.specified?n.value:void 0},set:Ce.set},ot.attrHooks.contenteditable={set:function(t,e,n){Ce.set(t,""===e?!1:e,n)}},ot.each(["width","height"],function(t,e){ot.attrHooks[e]={set:function(t,n){return""===n?(t.setAttribute(e,"auto"),n):void 0}}})),nt.style||(ot.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var Ee=/^(?:input|select|textarea|button|object)$/i,De=/^(?:a|area)$/i;ot.fn.extend({prop:function(t,e){return Rt(this,ot.prop,t,e,arguments.length>1)},removeProp:function(t){return t=ot.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(e){}})}}),ot.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,n){var i,o,r,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return r=1!==s||!ot.isXMLDoc(t),r&&(e=ot.propFix[e]||e,o=ot.propHooks[e]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(t,n,e))?i:t[e]=n:o&&"get"in o&&null!==(i=o.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=ot.find.attr(t,"tabindex");return e?parseInt(e,10):Ee.test(t.nodeName)||De.test(t.nodeName)&&t.href?0:-1}}}}),nt.hrefNormalized||ot.each(["href","src"],function(t,e){ot.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),nt.optSelected||(ot.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),ot.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ot.propFix[this.toLowerCase()]=this}),nt.enctype||(ot.propFix.enctype="encoding");var Re=/[\t\r\n\f]/g;ot.fn.extend({addClass:function(t){var e,n,i,o,r,s,a=0,l=this.length,u="string"==typeof t&&t;if(ot.isFunction(t))return this.each(function(e){ot(this).addClass(t.call(this,e,this.className))});if(u)for(e=(t||"").match(wt)||[];l>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Re," "):" ")){for(r=0;o=e[r++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");s=ot.trim(i),n.className!==s&&(n.className=s)}return this},removeClass:function(t){var e,n,i,o,r,s,a=0,l=this.length,u=0===arguments.length||"string"==typeof t&&t;if(ot.isFunction(t))return this.each(function(e){ot(this).removeClass(t.call(this,e,this.className))});if(u)for(e=(t||"").match(wt)||[];l>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Re," "):"")){
for(r=0;o=e[r++];)for(;i.indexOf(" "+o+" ")>=0;)i=i.replace(" "+o+" "," ");s=t?ot.trim(i):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):ot.isFunction(t)?this.each(function(n){ot(this).toggleClass(t.call(this,n,this.className,e),e)}):this.each(function(){if("string"===n)for(var e,i=0,o=ot(this),r=t.match(wt)||[];e=r[i++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else(n===xt||"boolean"===n)&&(this.className&&ot._data(this,"__className__",this.className),this.className=this.className||t===!1?"":ot._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Re," ").indexOf(e)>=0)return!0;return!1}}),ot.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){ot.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),ot.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var Me=ot.now(),Ae=/\?/,Oe=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ot.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var n,i=null,o=ot.trim(e+"");return o&&!ot.trim(o.replace(Oe,function(t,e,o,r){return n&&e&&(i=0),0===i?t:(n=o||e,i+=!r-!o,"")}))?Function("return "+o)():ot.error("Invalid JSON: "+e)},ot.parseXML=function(e){var n,i;if(!e||"string"!=typeof e)return null;try{t.DOMParser?(i=new DOMParser,n=i.parseFromString(e,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(e))}catch(o){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ot.error("Invalid XML: "+e),n};var He,Pe,Le=/#.*$/,Ie=/([?&])_=[^&]*/,je=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ne=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,$e=/^(?:GET|HEAD)$/,Fe=/^\/\//,We=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Be={},Ve={},ze="*/".concat("*");try{Pe=location.href}catch(Ye){Pe=pt.createElement("a"),Pe.href="",Pe=Pe.href}He=We.exec(Pe.toLowerCase())||[],ot.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Pe,type:"GET",isLocal:Ne.test(He[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ze,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ot.parseJSON,"text xml":ot.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?W(W(t,ot.ajaxSettings),e):W(ot.ajaxSettings,t)},ajaxPrefilter:$(Be),ajaxTransport:$(Ve),ajax:function(t,e){function n(t,e,n,i){var o,c,v,y,b,k=e;2!==w&&(w=2,a&&clearTimeout(a),u=void 0,s=i||"",C.readyState=t>0?4:0,o=t>=200&&300>t||304===t,n&&(y=B(h,C,n)),y=V(h,y,C,o),o?(h.ifModified&&(b=C.getResponseHeader("Last-Modified"),b&&(ot.lastModified[r]=b),b=C.getResponseHeader("etag"),b&&(ot.etag[r]=b)),204===t||"HEAD"===h.type?k="nocontent":304===t?k="notmodified":(k=y.state,c=y.data,v=y.error,o=!v)):(v=k,(t||!k)&&(k="error",0>t&&(t=0))),C.status=t,C.statusText=(e||k)+"",o?p.resolveWith(d,[c,k,C]):p.rejectWith(d,[C,k,v]),C.statusCode(g),g=void 0,l&&f.trigger(o?"ajaxSuccess":"ajaxError",[C,h,o?c:v]),m.fireWith(d,[C,k]),l&&(f.trigger("ajaxComplete",[C,h]),--ot.active||ot.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,o,r,s,a,l,u,c,h=ot.ajaxSetup({},e),d=h.context||h,f=h.context&&(d.nodeType||d.jquery)?ot(d):ot.event,p=ot.Deferred(),m=ot.Callbacks("once memory"),g=h.statusCode||{},v={},y={},w=0,b="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(2===w){if(!c)for(c={};e=je.exec(s);)c[e[1].toLowerCase()]=e[2];e=c[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===w?s:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return w||(t=y[n]=y[n]||t,v[t]=e),this},overrideMimeType:function(t){return w||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>w)for(e in t)g[e]=[g[e],t[e]];else C.always(t[C.status]);return this},abort:function(t){var e=t||b;return u&&u.abort(e),n(0,e),this}};if(p.promise(C).complete=m.add,C.success=C.done,C.error=C.fail,h.url=((t||h.url||Pe)+"").replace(Le,"").replace(Fe,He[1]+"//"),h.type=e.method||e.type||h.method||h.type,h.dataTypes=ot.trim(h.dataType||"*").toLowerCase().match(wt)||[""],null==h.crossDomain&&(i=We.exec(h.url.toLowerCase()),h.crossDomain=!(!i||i[1]===He[1]&&i[2]===He[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(He[3]||("http:"===He[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=ot.param(h.data,h.traditional)),F(Be,h,e,C),2===w)return C;l=ot.event&&h.global,l&&0===ot.active++&&ot.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!$e.test(h.type),r=h.url,h.hasContent||(h.data&&(r=h.url+=(Ae.test(r)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=Ie.test(r)?r.replace(Ie,"$1_="+Me++):r+(Ae.test(r)?"&":"?")+"_="+Me++)),h.ifModified&&(ot.lastModified[r]&&C.setRequestHeader("If-Modified-Since",ot.lastModified[r]),ot.etag[r]&&C.setRequestHeader("If-None-Match",ot.etag[r])),(h.data&&h.hasContent&&h.contentType!==!1||e.contentType)&&C.setRequestHeader("Content-Type",h.contentType),C.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+ze+"; q=0.01":""):h.accepts["*"]);for(o in h.headers)C.setRequestHeader(o,h.headers[o]);if(h.beforeSend&&(h.beforeSend.call(d,C,h)===!1||2===w))return C.abort();b="abort";for(o in{success:1,error:1,complete:1})C[o](h[o]);if(u=F(Ve,h,e,C)){C.readyState=1,l&&f.trigger("ajaxSend",[C,h]),h.async&&h.timeout>0&&(a=setTimeout(function(){C.abort("timeout")},h.timeout));try{w=1,u.send(v,n)}catch(k){if(!(2>w))throw k;n(-1,k)}}else n(-1,"No Transport");return C},getJSON:function(t,e,n){return ot.get(t,e,n,"json")},getScript:function(t,e){return ot.get(t,void 0,e,"script")}}),ot.each(["get","post"],function(t,e){ot[e]=function(t,n,i,o){return ot.isFunction(n)&&(o=o||i,i=n,n=void 0),ot.ajax({url:t,type:e,dataType:o,data:n,success:i})}}),ot._evalUrl=function(t){return ot.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ot.fn.extend({wrapAll:function(t){if(ot.isFunction(t))return this.each(function(e){ot(this).wrapAll(t.call(this,e))});if(this[0]){var e=ot(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return ot.isFunction(t)?this.each(function(e){ot(this).wrapInner(t.call(this,e))}):this.each(function(){var e=ot(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=ot.isFunction(t);return this.each(function(n){ot(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){ot.nodeName(this,"body")||ot(this).replaceWith(this.childNodes)}).end()}}),ot.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!nt.reliableHiddenOffsets()&&"none"===(t.style&&t.style.display||ot.css(t,"display"))},ot.expr.filters.visible=function(t){return!ot.expr.filters.hidden(t)};var Ue=/%20/g,Ge=/\[\]$/,qe=/\r?\n/g,Xe=/^(?:submit|button|image|reset|file)$/i,Ke=/^(?:input|select|textarea|keygen)/i;ot.param=function(t,e){var n,i=[],o=function(t,e){e=ot.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=ot.ajaxSettings&&ot.ajaxSettings.traditional),ot.isArray(t)||t.jquery&&!ot.isPlainObject(t))ot.each(t,function(){o(this.name,this.value)});else for(n in t)z(n,t[n],e,o);return i.join("&").replace(Ue,"+")},ot.fn.extend({serialize:function(){return ot.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ot.prop(this,"elements");return t?ot.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ot(this).is(":disabled")&&Ke.test(this.nodeName)&&!Xe.test(t)&&(this.checked||!Mt.test(t))}).map(function(t,e){var n=ot(this).val();return null==n?null:ot.isArray(n)?ot.map(n,function(t){return{name:e.name,value:t.replace(qe,"\r\n")}}):{name:e.name,value:n.replace(qe,"\r\n")}}).get()}}),ot.ajaxSettings.xhr=void 0!==t.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Y()||U()}:Y;var Je=0,Qe={},Ze=ot.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in Qe)Qe[t](void 0,!0)}),nt.cors=!!Ze&&"withCredentials"in Ze,Ze=nt.ajax=!!Ze,Ze&&ot.ajaxTransport(function(t){if(!t.crossDomain||nt.cors){var e;return{send:function(n,i){var o,r=t.xhr(),s=++Je;if(r.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)r[o]=t.xhrFields[o];t.mimeType&&r.overrideMimeType&&r.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(o in n)void 0!==n[o]&&r.setRequestHeader(o,n[o]+"");r.send(t.hasContent&&t.data||null),e=function(n,o){var a,l,u;if(e&&(o||4===r.readyState))if(delete Qe[s],e=void 0,r.onreadystatechange=ot.noop,o)4!==r.readyState&&r.abort();else{u={},a=r.status,"string"==typeof r.responseText&&(u.text=r.responseText);try{l=r.statusText}catch(c){l=""}a||!t.isLocal||t.crossDomain?1223===a&&(a=204):a=u.text?200:404}u&&i(a,l,u,r.getAllResponseHeaders())},t.async?4===r.readyState?setTimeout(e):r.onreadystatechange=Qe[s]=e:e()},abort:function(){e&&e(void 0,!0)}}}}),ot.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return ot.globalEval(t),t}}}),ot.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),ot.ajaxTransport("script",function(t){if(t.crossDomain){var e,n=pt.head||ot("head")[0]||pt.documentElement;return{send:function(i,o){e=pt.createElement("script"),e.async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,n){(n||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,n||o(200,"success"))},n.insertBefore(e,n.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}});var tn=[],en=/(=)\?(?=&|$)|\?\?/;ot.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=tn.pop()||ot.expando+"_"+Me++;return this[t]=!0,t}}),ot.ajaxPrefilter("json jsonp",function(e,n,i){var o,r,s,a=e.jsonp!==!1&&(en.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&en.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(o=e.jsonpCallback=ot.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(en,"$1"+o):e.jsonp!==!1&&(e.url+=(Ae.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return s||ot.error(o+" was not called"),s[0]},e.dataTypes[0]="json",r=t[o],t[o]=function(){s=arguments},i.always(function(){t[o]=r,e[o]&&(e.jsonpCallback=n.jsonpCallback,tn.push(o)),s&&ot.isFunction(r)&&r(s[0]),s=r=void 0}),"script"):void 0}),ot.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||pt;var i=ht.exec(t),o=!n&&[];return i?[e.createElement(i[1])]:(i=ot.buildFragment([t],e,o),o&&o.length&&ot(o).remove(),ot.merge([],i.childNodes))};var nn=ot.fn.load;ot.fn.load=function(t,e,n){if("string"!=typeof t&&nn)return nn.apply(this,arguments);var i,o,r,s=this,a=t.indexOf(" ");return a>=0&&(i=ot.trim(t.slice(a,t.length)),t=t.slice(0,a)),ot.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&ot.ajax({url:t,type:r,dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?ot("<div>").append(ot.parseHTML(t)).find(i):t)}).complete(n&&function(t,e){s.each(n,o||[t.responseText,e,t])}),this},ot.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ot.fn[e]=function(t){return this.on(e,t)}}),ot.expr.filters.animated=function(t){return ot.grep(ot.timers,function(e){return t===e.elem}).length};var on=t.document.documentElement;ot.offset={setOffset:function(t,e,n){var i,o,r,s,a,l,u,c=ot.css(t,"position"),h=ot(t),d={};"static"===c&&(t.style.position="relative"),a=h.offset(),r=ot.css(t,"top"),l=ot.css(t,"left"),u=("absolute"===c||"fixed"===c)&&ot.inArray("auto",[r,l])>-1,u?(i=h.position(),s=i.top,o=i.left):(s=parseFloat(r)||0,o=parseFloat(l)||0),ot.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(d.top=e.top-a.top+s),null!=e.left&&(d.left=e.left-a.left+o),"using"in e?e.using.call(t,d):h.css(d)}},ot.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ot.offset.setOffset(this,t,e)});var e,n,i={top:0,left:0},o=this[0],r=o&&o.ownerDocument;if(r)return e=r.documentElement,ot.contains(e,o)?(typeof o.getBoundingClientRect!==xt&&(i=o.getBoundingClientRect()),n=G(r),{top:i.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:i.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):i},position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===ot.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ot.nodeName(t[0],"html")||(n=t.offset()),n.top+=ot.css(t[0],"borderTopWidth",!0),n.left+=ot.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-ot.css(i,"marginTop",!0),left:e.left-n.left-ot.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||on;t&&!ot.nodeName(t,"html")&&"static"===ot.css(t,"position");)t=t.offsetParent;return t||on})}}),ot.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n=/Y/.test(e);ot.fn[t]=function(i){return Rt(this,function(t,i,o){var r=G(t);return void 0===o?r?e in r?r[e]:r.document.documentElement[i]:t[i]:void(r?r.scrollTo(n?ot(r).scrollLeft():o,n?o:ot(r).scrollTop()):t[i]=o)},t,i,arguments.length,null)}}),ot.each(["top","left"],function(t,e){ot.cssHooks[e]=S(nt.pixelPosition,function(t,n){return n?(n=ee(t,e),ie.test(n)?ot(t).position()[e]+"px":n):void 0})}),ot.each({Height:"height",Width:"width"},function(t,e){ot.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){ot.fn[i]=function(i,o){var r=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||o===!0?"margin":"border");return Rt(this,function(e,n,i){var o;return ot.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?ot.css(e,n,s):ot.style(e,n,i,s)},e,r?i:void 0,r,null)}})}),ot.fn.size=function(){return this.length},ot.fn.andSelf=ot.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ot});var rn=t.jQuery,sn=t.$;return ot.noConflict=function(e){return t.$===ot&&(t.$=sn),e&&t.jQuery===ot&&(t.jQuery=rn),ot},typeof e===xt&&(t.jQuery=t.$=ot),ot}),function(t,e){"use strict";t.rails!==e&&t.error("jquery-ujs has already been loaded!");var n,i=t(document);t.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not(form button), button[data-confirm]:not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return t("meta[name=csrf-token]").attr("content")},csrfParam:function(){return t("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=n.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){t('form input[name="'+n.csrfParam()+'"]').val(n.csrfToken())},fire:function(e,n,i){var o=t.Event(n);return e.trigger(o,i),o.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==e&&t.data("remote")!==!1},handleRemote:function(i){var o,r,s,a,l,u;if(n.fire(i,"ajax:before")){if(a=i.data("with-credentials")||null,l=i.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,i.is("form")){o=i.attr("method"),r=i.attr("action"),s=i.serializeArray();var c=i.data("ujs:submit-button");c&&(s.push(c),i.data("ujs:submit-button",null))}else i.is(n.inputChangeSelector)?(o=i.data("method"),r=i.data("url"),s=i.serialize(),i.data("params")&&(s=s+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(o=i.data("method")||"get",r=i.data("url"),s=i.serialize(),i.data("params")&&(s=s+"&"+i.data("params"))):(o=i.data("method"),r=n.href(i),s=i.data("params")||null);return u={type:o||"GET",data:s,dataType:l,beforeSend:function(t,o){return o.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+o.accepts.script),n.fire(i,"ajax:beforeSend",[t,o])?void i.trigger("ajax:send",t):!1},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},crossDomain:n.isCrossDomain(r)},a&&(u.xhrFields={withCredentials:a}),r&&(u.url=r),n.ajax(u)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var n=document.createElement("a");try{return n.href=t,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||e.protocol+"//"+e.host==n.protocol+"//"+n.host)}catch(i){return!0}},handleMethod:function(i){var o=n.href(i),r=i.data("method"),s=i.attr("target"),a=n.csrfToken(),l=n.csrfParam(),u=t('<form method="post" action="'+o+'"></form>'),c='<input name="_method" value="'+r+'" type="hidden" />';l===e||a===e||n.isCrossDomain(o)||(c+='<input name="'+l+'" value="'+a+'" type="hidden" />'),s&&u.attr("target",s),u.hide().append(c).appendTo("body"),u.submit()},formElements:function(e,n){return e.is("form")?t(e[0].elements).filter(n):e.find(n)},disableFormElements:function(e){n.formElements(e,n.disableSelector).each(function(){n.disableFormElement(t(this))})},disableFormElement:function(t){var n,i;n=t.is("button")?"html":"val",i=t.data("disable-with"),t.data("ujs:enable-with",t[n]()),i!==e&&t[n](i),t.prop("disabled",!0)},enableFormElements:function(e){n.formElements(e,n.enableSelector).each(function(){n.enableFormElement(t(this))})},enableFormElement:function(t){var e=t.is("button")?"html":"val";"undefined"!=typeof t.data("ujs:enable-with")&&t[e](t.data("ujs:enable-with")),t.prop("disabled",!1)},allowAction:function(t){var e,i=t.data("confirm"),o=!1;if(!i)return!0;if(n.fire(t,"confirm")){try{o=n.confirm(i)}catch(r){(console.error||console.log).call(console,r.stack||r)}e=n.fire(t,"confirm:complete",[o])}return o&&e},blankInputs:function(e,n,i){var o,r,s=t(),a=n||"input,textarea",l=e.find(a);return l.each(function(){if(o=t(this),r=o.is("input[type=checkbox],input[type=radio]")?o.is(":checked"):!!o.val(),r===i){if(o.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+o.attr("name")+'"]').length)return!0;s=s.add(o)}}),s.length?s:!1},nonBlankInputs:function(t,e){return n.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var i=t.data("disable-with");t.data("ujs:enable-with",t.html()),i!==e&&t.html(i),t.bind("click.railsDisable",function(t){return n.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable")}},n.fire(i,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,i){t.crossDomain||n.CSRFProtection(i)}),t(window).on("pageshow.rails",function(){t(t.rails.enableSelector).each(function(){var e=t(this);e.data("ujs:enable-with")&&t.rails.enableFormElement(e)}),t(t.rails.linkDisableSelector).each(function(){var e=t(this);e.data("ujs:enable-with")&&t.rails.enableElement(e)})}),i.delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(t(this))}),i.delegate(n.buttonDisableSelector,"ajax:complete",function(){n.enableFormElement(t(this))}),i.delegate(n.linkClickSelector,"click.rails",function(e){var i=t(this),o=i.data("method"),r=i.data("params"),s=e.metaKey||e.ctrlKey;if(!n.allowAction(i))return n.stopEverything(e);if(!s&&i.is(n.linkDisableSelector)&&n.disableElement(i),n.isRemote(i)){if(s&&(!o||"GET"===o)&&!r)return!0;var a=n.handleRemote(i);return a===!1?n.enableElement(i):a.fail(function(){n.enableElement(i)}),!1}return o?(n.handleMethod(i),!1):void 0}),i.delegate(n.buttonClickSelector,"click.rails",function(e){var i=t(this);if(!n.allowAction(i)||!n.isRemote(i))return n.stopEverything(e);i.is(n.buttonDisableSelector)&&n.disableFormElement(i);var o=n.handleRemote(i);return o===!1?n.enableFormElement(i):o.fail(function(){n.enableFormElement(i)}),!1}),i.delegate(n.inputChangeSelector,"change.rails",function(e){var i=t(this);return n.allowAction(i)&&n.isRemote(i)?(n.handleRemote(i),!1):n.stopEverything(e)}),i.delegate(n.formSubmitSelector,"submit.rails",function(i){var o,r,s=t(this),a=n.isRemote(s);if(!n.allowAction(s))return n.stopEverything(i);if(s.attr("novalidate")===e&&(o=n.blankInputs(s,n.requiredInputSelector,!1),o&&n.fire(s,"ajax:aborted:required",[o])))return n.stopEverything(i);if(a){if(r=n.nonBlankInputs(s,n.fileInputSelector)){setTimeout(function(){n.disableFormElements(s)},13);var l=n.fire(s,"ajax:aborted:file",[r]);return l||setTimeout(function(){n.enableFormElements(s)},13),l}return n.handleRemote(s),!1}setTimeout(function(){n.disableFormElements(s)},13)}),i.delegate(n.formInputClickSelector,"click.rails",function(e){var i=t(this);if(!n.allowAction(i))return n.stopEverything(e);var o=i.attr("name"),r=o?{name:o,value:i.val()}:null;i.closest("form").data("ujs:submit-button",r)}),i.delegate(n.formSubmitSelector,"ajax:send.rails",function(e){this===e.target&&n.disableFormElements(t(this))}),i.delegate(n.formSubmitSelector,"ajax:complete.rails",function(e){this===e.target&&n.enableFormElements(t(this))}),t(function(){n.refreshCSRFTokens()}))}(jQuery),/* ========================================================================
 * Bootstrap: transition.js v3.1.1
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;t(this).one(t.support.transition.end,function(){n=!0});var o=function(){n||t(i).trigger(t.support.transition.end)};return setTimeout(o,e),this},t(function(){t.support.transition=e()})}(jQuery),/* ========================================================================
 * Bootstrap: alert.js v3.1.1
 * http://getbootstrap.com/javascript/#alerts
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";var e='[data-dismiss="alert"]',n=function(n){t(n).on("click",e,this.close)};n.prototype.close=function(e){function n(){r.trigger("closed.bs.alert").remove()}var i=t(this),o=i.attr("data-target");o||(o=i.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var r=t(o);e&&e.preventDefault(),r.length||(r=i.hasClass("alert")?i:i.parent()),r.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(r.removeClass("in"),t.support.transition&&r.hasClass("fade")?r.one(t.support.transition.end,n).emulateTransitionEnd(150):n())};var i=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var i=t(this),o=i.data("bs.alert");o||i.data("bs.alert",o=new n(this)),"string"==typeof e&&o[e].call(i)})},t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=i,this},t(document).on("click.bs.alert.data-api",e,n.prototype.close)}(jQuery),/* ========================================================================
 * Bootstrap: modal.js v3.1.1
 * http://getbootstrap.com/javascript/#modals
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";var e=function(e,n){this.options=n,this.$element=t(e),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},e.prototype.toggle=function(t){return this[this.isShown?"hide":"show"](t)},e.prototype.show=function(e){var n=this,i=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var i=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(document.body),n.$element.show().scrollTop(0),i&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var o=t.Event("shown.bs.modal",{relatedTarget:e});i?n.$element.find(".modal-dialog").one(t.support.transition.end,function(){n.$element.focus().trigger(o)}).emulateTransitionEnd(300):n.$element.focus().trigger(o)}))},e.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one(t.support.transition.end,t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},e.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.focus()},this))},e.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},e.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden.bs.modal")})},e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},e.prototype.backdrop=function(e){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=t.support.transition&&n;if(this.$backdrop=t('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;i?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()):e&&e()};var n=t.fn.modal;t.fn.modal=function(n,i){return this.each(function(){var o=t(this),r=o.data("bs.modal"),s=t.extend({},e.DEFAULTS,o.data(),"object"==typeof n&&n);r||o.data("bs.modal",r=new e(this,s)),"string"==typeof n?r[n](i):s.show&&r.show(i)})},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var n=t(this),i=n.attr("href"),o=t(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),r=o.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(i)&&i},o.data(),n.data());n.is("a")&&e.preventDefault(),o.modal(r,this).one("hide",function(){n.is(":visible")&&n.focus()})}),t(document).on("show.bs.modal",".modal",function(){t(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){t(document.body).removeClass("modal-open")})}(jQuery),/* ========================================================================
 * Bootstrap: dropdown.js v3.1.1
 * http://getbootstrap.com/javascript/#dropdowns
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){t(i).remove(),t(o).each(function(){var i=n(t(this)),o={relatedTarget:this};i.hasClass("open")&&(i.trigger(e=t.Event("hide.bs.dropdown",o)),e.isDefaultPrevented()||i.removeClass("open").trigger("hidden.bs.dropdown",o))})}function n(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}var i=".dropdown-backdrop",o="[data-toggle=dropdown]",r=function(e){t(e).on("click.bs.dropdown",this.toggle)};r.prototype.toggle=function(i){var o=t(this);if(!o.is(".disabled, :disabled")){var r=n(o),s=r.hasClass("open");if(e(),!s){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var a={relatedTarget:this};if(r.trigger(i=t.Event("show.bs.dropdown",a)),i.isDefaultPrevented())return;r.toggleClass("open").trigger("shown.bs.dropdown",a),o.focus()}return!1}},r.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var i=t(this);if(e.preventDefault(),e.stopPropagation(),!i.is(".disabled, :disabled")){var r=n(i),s=r.hasClass("open");if(!s||s&&27==e.keyCode)return 27==e.which&&r.find(o).focus(),i.click();var a=" li:not(.divider):visible a",l=r.find("[role=menu]"+a+", [role=listbox]"+a);if(l.length){var u=l.index(l.filter(":focus"));38==e.keyCode&&u>0&&u--,40==e.keyCode&&u<l.length-1&&u++,~u||(u=0),l.eq(u).focus()}}}};var s=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var n=t(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new r(this)),"string"==typeof e&&i[e].call(n)})},t.fn.dropdown.Constructor=r,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,r.prototype.toggle).on("keydown.bs.dropdown.data-api",o+", [role=menu], [role=listbox]",r.prototype.keydown)}(jQuery),/* ========================================================================
 * Bootstrap: scrollspy.js v3.1.1
 * http://getbootstrap.com/javascript/#scrollspy
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(n,i){var o,r=t.proxy(this.process,this);this.$element=t(t(n).is("body")?window:n),this.$body=t("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",r),this.options=t.extend({},e.DEFAULTS,i),this.selector=(this.options.target||(o=t(n).attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=t([]),this.targets=t([]),this.activeTarget=null,this.refresh(),this.process()}e.DEFAULTS={offset:10},e.prototype.refresh=function(){var e=this.$element[0]==window?"offset":"position";this.offsets=t([]),this.targets=t([]);var n=this;this.$body.find(this.selector).map(function(){var i=t(this),o=i.data("target")||i.attr("href"),r=/^#./.test(o)&&t(o);return r&&r.length&&r.is(":visible")&&[[r[e]().top+(!t.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),o]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,i=n-this.$scrollElement.height(),o=this.offsets,r=this.targets,s=this.activeTarget;if(e>=i)return s!=(t=r.last()[0])&&this.activate(t);if(s&&e<=o[0])return s!=(t=r[0])&&this.activate(t);for(t=o.length;t--;)s!=r[t]&&e>=o[t]&&(!o[t+1]||e<=o[t+1])&&this.activate(r[t])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")};var n=t.fn.scrollspy;t.fn.scrollspy=function(n){return this.each(function(){var i=t(this),o=i.data("bs.scrollspy"),r="object"==typeof n&&n;o||i.data("bs.scrollspy",o=new e(this,r)),"string"==typeof n&&o[n]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(jQuery),/* ========================================================================
 * Bootstrap: tab.js v3.1.1
 * http://getbootstrap.com/javascript/#tabs
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i||(i=e.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var o=n.find(".active:last a")[0],r=t.Event("show.bs.tab",{relatedTarget:o});if(e.trigger(r),!r.isDefaultPrevented()){var s=t(i);this.activate(e.parent("li"),n),this.activate(s,s.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:o})})}}},e.prototype.activate=function(e,n,i){function o(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),i&&i()}var r=n.find("> .active"),s=i&&t.support.transition&&r.hasClass("fade");s?r.one(t.support.transition.end,o).emulateTransitionEnd(150):o(),r.removeClass("in")};var n=t.fn.tab;t.fn.tab=function(n){return this.each(function(){var i=t(this),o=i.data("bs.tab");o||i.data("bs.tab",o=new e(this)),"string"==typeof n&&o[n]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=n,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(jQuery),/* ========================================================================
 * Bootstrap: tooltip.js v3.1.1
 * http://getbootstrap.com/javascript/#tooltip
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";var e=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.prototype.init=function(e,n,i){this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i);for(var o=this.options.trigger.split(" "),r=o.length;r--;){var s=o[r];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},e.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show()},e.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},e.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(e),e.isDefaultPrevented())return;var n=this,i=this.tip();this.setContent(),this.options.animation&&i.addClass("fade");var o="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,r=/\s?auto?\s?/i,s=r.test(o);s&&(o=o.replace(r,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(o),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);var a=this.getPosition(),l=i[0].offsetWidth,u=i[0].offsetHeight;if(s){var c=this.$element.parent(),h=o,d=document.documentElement.scrollTop||document.body.scrollTop,f="body"==this.options.container?window.innerWidth:c.outerWidth(),p="body"==this.options.container?window.innerHeight:c.outerHeight(),m="body"==this.options.container?0:c.offset().left;o="bottom"==o&&a.top+a.height+u-d>p?"top":"top"==o&&a.top-d-u<0?"bottom":"right"==o&&a.right+l>f?"left":"left"==o&&a.left-l<m?"right":o,i.removeClass(h).addClass(o)}var g=this.getCalculatedOffset(o,a,l,u);this.applyPlacement(g,o),this.hoverState=null;var v=function(){n.$element.trigger("shown.bs."+n.type)};t.support.transition&&this.$tip.hasClass("fade")?i.one(t.support.transition.end,v).emulateTransitionEnd(150):v()}},e.prototype.applyPlacement=function(e,n){var i,o=this.tip(),r=o[0].offsetWidth,s=o[0].offsetHeight,a=parseInt(o.css("margin-top"),10),l=parseInt(o.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(l)&&(l=0),e.top=e.top+a,e.left=e.left+l,t.offset.setOffset(o[0],t.extend({using:function(t){o.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),o.addClass("in");var u=o[0].offsetWidth,c=o[0].offsetHeight;if("top"==n&&c!=s&&(i=!0,e.top=e.top+s-c),/bottom|top/.test(n)){var h=0;e.left<0&&(h=-2*e.left,e.left=0,o.offset(e),u=o[0].offsetWidth,c=o[0].offsetHeight),this.replaceArrow(h-r+u,u,"left")}else this.replaceArrow(c-s,c,"top");i&&o.offset(e)},e.prototype.replaceArrow=function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(){function e(){"in"!=n.hoverState&&i.detach(),n.$element.trigger("hidden.bs."+n.type)}var n=this,i=this.tip(),o=t.Event("hide.bs."+this.type);return this.$element.trigger(o),o.isDefaultPrevented()?void 0:(i.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?i.one(t.support.transition.end,e).emulateTransitionEnd(150):e(),this.hoverState=null,this)},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},e.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},e.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},e.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var n=e?t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;n.tip().hasClass("in")?n.leave(n):n.enter(n)},e.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var n=t.fn.tooltip;t.fn.tooltip=function(n){return this.each(function(){var i=t(this),o=i.data("bs.tooltip"),r="object"==typeof n&&n;(o||"destroy"!=n)&&(o||i.data("bs.tooltip",o=new e(this,r)),"string"==typeof n&&o[n]())})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(jQuery),/* ========================================================================
 * Bootstrap: popover.js v3.1.1
 * http://getbootstrap.com/javascript/#popovers
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},e.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var n=t.fn.popover;t.fn.popover=function(n){return this.each(function(){var i=t(this),o=i.data("bs.popover"),r="object"==typeof n&&n;(o||"destroy"!=n)&&(o||i.data("bs.popover",o=new e(this,r)),"string"==typeof n&&o[n]())})},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(jQuery),/* ========================================================================
 * Bootstrap: button.js v3.1.1
 * http://getbootstrap.com/javascript/#buttons
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";var e=function(n,i){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,i),this.isLoading=!1};e.DEFAULTS={loadingText:"loading..."},e.prototype.setState=function(e){var n="disabled",i=this.$element,o=i.is("input")?"val":"html",r=i.data();e+="Text",r.resetText||i.data("resetText",i[o]()),i[o](r[e]||this.options[e]),setTimeout(t.proxy(function(){"loadingText"==e?(this.isLoading=!0,i.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n))},this),0)},e.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}t&&this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=function(n){return this.each(function(){var i=t(this),o=i.data("bs.button"),r="object"==typeof n&&n;o||i.data("bs.button",o=new e(this,r)),"toggle"==n?o.toggle():n&&o.setState(n)})},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.bs.button.data-api","[data-toggle^=button]",function(e){var n=t(e.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle"),e.preventDefault()})}(jQuery),/* ========================================================================
 * Bootstrap: collapse.js v3.1.1
 * http://getbootstrap.com/javascript/#collapse
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";var e=function(n,i){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,i),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.DEFAULTS={toggle:!0},e.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},e.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e=t.Event("show.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.$parent&&this.$parent.find("> .panel > .in");if(n&&n.length){var i=n.data("bs.collapse");if(i&&i.transitioning)return;n.collapse("hide"),i||n.data("bs.collapse",null)}var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return r.call(this);var s=t.camelCase(["scroll",o].join("-"));this.$element.one(t.support.transition.end,t.proxy(r,this)).emulateTransitionEnd(350)[o](this.$element[0][s])}}},e.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?void this.$element[n](0).one(t.support.transition.end,t.proxy(i,this)).emulateTransitionEnd(350):i.call(this)}}},e.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var n=t.fn.collapse;t.fn.collapse=function(n){return this.each(function(){var i=t(this),o=i.data("bs.collapse"),r=t.extend({},e.DEFAULTS,i.data(),"object"==typeof n&&n);!o&&r.toggle&&"show"==n&&(n=!n),o||i.data("bs.collapse",o=new e(this,r)),"string"==typeof n&&o[n]()})},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=n,this},t(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(e){var n,i=t(this),o=i.attr("data-target")||e.preventDefault()||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),r=t(o),s=r.data("bs.collapse"),a=s?"toggle":i.data(),l=i.attr("data-parent"),u=l&&t(l);s&&s.transitioning||(u&&u.find('[data-toggle=collapse][data-parent="'+l+'"]').not(i).addClass("collapsed"),i[r.hasClass("in")?"addClass":"removeClass"]("collapsed")),r.collapse(a)})}(jQuery),/* ========================================================================
 * Bootstrap: carousel.js v3.1.1
 * http://getbootstrap.com/javascript/#carousel
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";var e=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},e.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},e.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},e.prototype.to=function(e){var n=this,i=this.getActiveIndex();return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){n.to(e)}):i==e?this.pause().cycle():this.slide(e>i?"next":"prev",t(this.$items[e]))},e.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},e.prototype.next=function(){return this.sliding?void 0:this.slide("next")},e.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},e.prototype.slide=function(e,n){var i=this.$element.find(".item.active"),o=n||i[e](),r=this.interval,s="next"==e?"left":"right",a="next"==e?"first":"last",l=this;if(!o.length){if(!this.options.wrap)return;o=this.$element.find(".item")[a]()}if(o.hasClass("active"))return this.sliding=!1;var u=t.Event("slide.bs.carousel",{relatedTarget:o[0],direction:s});return this.$element.trigger(u),u.isDefaultPrevented()?void 0:(this.sliding=!0,r&&this.pause(),this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var e=t(l.$indicators.children()[l.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")?(o.addClass(e),o[0].offsetWidth,i.addClass(s),o.addClass(s),i.one(t.support.transition.end,function(){o.removeClass([e,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(1e3*i.css("transition-duration").slice(0,-1))):(i.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")),r&&this.cycle(),this)};var n=t.fn.carousel;t.fn.carousel=function(n){return this.each(function(){var i=t(this),o=i.data("bs.carousel"),r=t.extend({},e.DEFAULTS,i.data(),"object"==typeof n&&n),s="string"==typeof n?n:r.slide;o||i.data("bs.carousel",o=new e(this,r)),"number"==typeof n?o.to(n):s?o[s]():r.interval&&o.pause().cycle()})},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(e){var n,i=t(this),o=t(i.attr("data-target")||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),r=t.extend({},o.data(),i.data()),s=i.attr("data-slide-to");s&&(r.interval=!1),o.carousel(r),(s=i.attr("data-slide-to"))&&o.data("bs.carousel").to(s),e.preventDefault()}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var e=t(this);e.carousel(e.data())})})}(jQuery),/* ========================================================================
 * Bootstrap: affix.js v3.1.1
 * http://getbootstrap.com/javascript/#affix
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";var e=function(n,i){this.options=t.extend({},e.DEFAULTS,i),this.$window=t(window).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(n),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};e.RESET="affix affix-top affix-bottom",e.DEFAULTS={offset:0},e.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(e.RESET).addClass("affix");var t=this.$window.scrollTop(),n=this.$element.offset();return this.pinnedOffset=n.top-t},e.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var n=t(document).height(),i=this.$window.scrollTop(),o=this.$element.offset(),r=this.options.offset,s=r.top,a=r.bottom;"top"==this.affixed&&(o.top+=i),"object"!=typeof r&&(a=s=r),"function"==typeof s&&(s=r.top(this.$element)),"function"==typeof a&&(a=r.bottom(this.$element));var l=null!=this.unpin&&i+this.unpin<=o.top?!1:null!=a&&o.top+this.$element.height()>=n-a?"bottom":null!=s&&s>=i?"top":!1;if(this.affixed!==l){this.unpin&&this.$element.css("top","");var u="affix"+(l?"-"+l:""),c=t.Event(u+".bs.affix");this.$element.trigger(c),c.isDefaultPrevented()||(this.affixed=l,this.unpin="bottom"==l?this.getPinnedOffset():null,this.$element.removeClass(e.RESET).addClass(u).trigger(t.Event(u.replace("affix","affixed"))),"bottom"==l&&this.$element.offset({top:n-a-this.$element.height()}))}}};var n=t.fn.affix;t.fn.affix=function(n){return this.each(function(){var i=t(this),o=i.data("bs.affix"),r="object"==typeof n&&n;o||i.data("bs.affix",o=new e(this,r)),"string"==typeof n&&o[n]()})},t.fn.affix.Constructor=e,t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),n=e.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),e.affix(n)})})}(jQuery),!function(t,e){"use strict";"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):e(t.jQuery)}(this,function(t){"use strict";var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.select=this.options.select||this.select,this.autoSelect="boolean"==typeof this.options.autoSelect?this.options.autoSelect:!0,this.highlighter=this.options.highlighter||this.highlighter,this.render=this.options.render||this.render,this.updater=this.options.updater||this.updater,this.displayText=this.options.displayText||this.displayText,this.source=this.options.source,this.delay=this.options.delay,this.$menu=t(this.options.menu),this.$appendTo=this.options.appendTo?t(this.options.appendTo):null,this.shown=!1,this.listen(),this.showHintOnFocus="boolean"==typeof this.options.showHintOnFocus?this.options.showHintOnFocus:!1,this.afterSelect=this.options.afterSelect,this.addItem=!1};e.prototype={constructor:e,select:function(){var t=this.$menu.find(".active").data("value");if(this.$element.data("active",t),this.autoSelect||t){var e=this.updater(t);e||(e=""),this.$element.val(this.displayText(e)||e).change(),this.afterSelect(e)}return this.hide()},updater:function(t){return t},setSource:function(t){this.source=t},show:function(){var e,n=t.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});e="function"==typeof this.options.scrollHeight?this.options.scrollHeight.call():this.options.scrollHeight;var i;return i=this.shown?this.$menu:this.$appendTo?this.$menu.appendTo(this.$appendTo):this.$menu.insertAfter(this.$element),i.css({top:n.top+n.height+e,left:n.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(e){if("undefined"!=typeof e&&null!==e?this.query=e:this.query=this.$element.val()||"",this.query.length<this.options.minLength)return this.shown?this.hide():this;var n=t.proxy(function(){t.isFunction(this.source)?this.source(this.query,t.proxy(this.process,this)):this.source&&this.process(this.source)},this);clearTimeout(this.lookupWorker),this.lookupWorker=setTimeout(n,this.delay)},process:function(e){var n=this;return e=t.grep(e,function(t){return n.matcher(t)}),e=this.sorter(e),e.length||this.options.addItem?(e.length>0?this.$element.data("active",e[0]):this.$element.data("active",null),this.options.addItem&&e.push(this.options.addItem),"all"==this.options.items?this.render(e).show():this.render(e.slice(0,this.options.items)).show()):this.shown?this.hide():this},matcher:function(t){var e=this.displayText(t);return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){for(var e,n=[],i=[],o=[];e=t.shift();){var r=this.displayText(e);r.toLowerCase().indexOf(this.query.toLowerCase())?~r.indexOf(this.query)?i.push(e):o.push(e):n.push(e)}return n.concat(i,o)},highlighter:function(e){var n,i,o,r,s,a=t("<div></div>"),l=this.query,u=e.toLowerCase().indexOf(l.toLowerCase());if(n=l.length,0===n)return a.text(e).html();for(;u>-1;)i=e.substr(0,u),o=e.substr(u,n),r=e.substr(u+n),s=t("<strong></strong>").text(o),a.append(document.createTextNode(i)).append(s),e=r,u=e.toLowerCase().indexOf(l.toLowerCase());return a.append(document.createTextNode(e)).html()},render:function(e){var n=this,i=this,o=!1;return e=t(e).map(function(e,r){var s=i.displayText(r);return e=t(n.options.item).data("value",r),e.find("a").html(n.highlighter(s)),s==i.$element.val()&&(e.addClass("active"),i.$element.data("active",r),o=!0),e[0]}),this.autoSelect&&!o&&(e.first().addClass("active"),this.$element.data("active",e.first().data("value"))),this.$menu.html(e),this},displayText:function(t){return"undefined"!=typeof t&&"undefined"!=typeof t.name&&t.name||t},next:function(e){var n=this.$menu.find(".active").removeClass("active"),i=n.next();i.length||(i=t(this.$menu.find("li")[0])),i.addClass("active")},prev:function(t){var e=this.$menu.find(".active").removeClass("active"),n=e.prev();n.length||(n=this.$menu.find("li").last()),n.addClass("active")},listen:function(){this.$element.on("focus",t.proxy(this.focus,this)).on("blur",t.proxy(this.blur,this)).on("keypress",t.proxy(this.keypress,this)).on("keyup",t.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",t.proxy(this.keydown,this)),this.$menu.on("click",t.proxy(this.click,this)).on("mouseenter","li",t.proxy(this.mouseenter,this)).on("mouseleave","li",t.proxy(this.mouseleave,this))},destroy:function(){this.$element.data("typeahead",null),this.$element.data("active",null),this.$element.off("focus").off("blur").off("keypress").off("keyup"),this.eventSupported("keydown")&&this.$element.off("keydown"),this.$menu.remove()},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e="function"==typeof this.$element[t]),e},move:function(t){if(this.shown)switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:if(t.shiftKey)return;t.preventDefault(),this.prev();break;case 40:if(t.shiftKey)return;t.preventDefault(),this.next()}},keydown:function(e){this.suppressKeyPressRepeat=~t.inArray(e.keyCode,[40,38,9,13,27]),this.shown||40!=e.keyCode?this.move(e):this.lookup()},keypress:function(t){this.suppressKeyPressRepeat||this.move(t)},keyup:function(t){switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.preventDefault()},focus:function(t){this.focused||(this.focused=!0,this.options.showHintOnFocus&&this.lookup(""))},blur:function(t){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(t){t.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(e){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),t(e.currentTarget).addClass("active")},mouseleave:function(t){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var n=t.fn.typeahead;t.fn.typeahead=function(n){var i=arguments;return"string"==typeof n&&"getActive"==n?this.data("active"):this.each(function(){var o=t(this),r=o.data("typeahead"),s="object"==typeof n&&n;r||o.data("typeahead",r=new e(this,s)),"string"==typeof n&&(i.length>1?r[n].apply(r,Array.prototype.slice.call(i,1)):r[n]())})},t.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu" role="listbox"></ul>',item:'<li><a class="dropdown-item" href="#" role="option"></a></li>',minLength:1,scrollHeight:0,autoSelect:!0,afterSelect:t.noop,addItem:!1,delay:0},t.fn.typeahead.Constructor=e,t.fn.typeahead.noConflict=function(){return t.fn.typeahead=n,this},t(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(e){var n=t(this);n.data("typeahead")||n.typeahead(n.data())})}),/*!
 * typeahead.js 0.11.1
 * https://github.com/twitter/typeahead.js
 * Copyright 2013-2015 Twitter, Inc. and other contributors; Licensed MIT
 */
!function(t,e){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(n){return t.Bloodhound=e(n)}):"object"==typeof exports?module.exports=e(require("jquery")):t.Bloodhound=e(jQuery)}(this,function(t){var e=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return"undefined"==typeof t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,n){function i(t,e){return n(e,t)}t.each(e,i)},map:t.map,filter:t.grep,every:function(e,n){var i=!0;return e?(t.each(e,function(t,o){return(i=n.call(null,o,t,e))?void 0:!1}),!!i):i},some:function(e,n){var i=!1;return e?(t.each(e,function(t,o){return(i=n.call(null,o,t,e))?!1:void 0}),!!i):i},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){function n(){return String(e)}return t.isFunction(e)?e:n},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i,o;return function(){var r,s,a=this,l=arguments;return r=function(){i=null,n||(o=t.apply(a,l))},s=n&&!i,clearTimeout(i),i=setTimeout(r,e),s&&(o=t.apply(a,l)),o}},throttle:function(t,e){var n,i,o,r,s,a;return s=0,a=function(){s=new Date,o=null,r=t.apply(n,i)},function(){var l=new Date,u=e-(l-s);return n=this,i=arguments,0>=u?(clearTimeout(o),o=null,s=l,r=t.apply(n,i)):o||(o=setTimeout(a,u)),r}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),n="0.11.1",i=function(){"use strict";function t(t){return t=e.toStr(t),t?t.split(/\s+/):[]}function n(t){return t=e.toStr(t),t?t.split(/\W+/):[]}function i(t){return function(n){return n=e.isArray(n)?n:[].slice.call(arguments,0),function(i){var o=[];return e.each(n,function(n){o=o.concat(t(e.toStr(i[n])))}),o}}}return{nonword:n,whitespace:t,obj:{nonword:i(n),whitespace:i(t)}}}(),o=function(){"use strict";function n(n){this.maxSize=e.isNumber(n)?n:100,this.reset(),this.maxSize<=0&&(this.set=this.get=t.noop)}function i(){this.head=this.tail=null}function o(t,e){this.key=t,this.val=e,this.prev=this.next=null}return e.mixin(n.prototype,{set:function(t,e){var n,i=this.list.tail;this.size>=this.maxSize&&(this.list.remove(i),delete this.hash[i.key],this.size--),(n=this.hash[t])?(n.val=e,this.list.moveToFront(n)):(n=new o(t,e),this.list.add(n),this.hash[t]=n,this.size++)},get:function(t){var e=this.hash[t];return e?(this.list.moveToFront(e),e.val):void 0},reset:function(){this.size=0,this.hash={},this.list=new i}}),e.mixin(i.prototype,{add:function(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),n}(),r=function(){"use strict";function n(t,n){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+e.escapeRegExChars(this.prefix)),this.ls=n||a,!this.ls&&this._noop()}function i(){return(new Date).getTime()}function o(t){return JSON.stringify(e.isUndefined(t)?null:t)}function r(e){return t.parseJSON(e)}function s(t){var e,n,i=[],o=a.length;for(e=0;o>e;e++)(n=a.key(e)).match(t)&&i.push(n.replace(t,""));return i}var a;try{a=window.localStorage,a.setItem("~~~","!"),a.removeItem("~~~")}catch(l){a=null}return e.mixin(n.prototype,{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=e.noop},_safeSet:function(t,e){try{this.ls.setItem(t,e)}catch(n){"QuotaExceededError"===n.name&&(this.clear(),this._noop())}},get:function(t){return this.isExpired(t)&&this.remove(t),r(this.ls.getItem(this._prefix(t)))},set:function(t,n,r){return e.isNumber(r)?this._safeSet(this._ttlKey(t),o(i()+r)):this.ls.removeItem(this._ttlKey(t)),this._safeSet(this._prefix(t),o(n))},remove:function(t){return this.ls.removeItem(this._ttlKey(t)),this.ls.removeItem(this._prefix(t)),this},clear:function(){var t,e=s(this.keyMatcher);for(t=e.length;t--;)this.remove(e[t]);return this},isExpired:function(t){var n=r(this.ls.getItem(this._ttlKey(t)));return e.isNumber(n)&&i()>n?!0:!1}}),n}(),s=function(){"use strict";function n(t){t=t||{},this.cancelled=!1,this.lastReq=null,this._send=t.transport,this._get=t.limiter?t.limiter(this._get):this._get,this._cache=t.cache===!1?new o(0):a}var i=0,r={},s=6,a=new o(10);return n.setMaxPendingRequests=function(t){s=t},n.resetCache=function(){a.reset()},e.mixin(n.prototype,{_fingerprint:function(e){return e=e||{},e.url+e.type+t.param(e.data||{})},_get:function(t,e){function n(t){e(null,t),c._cache.set(l,t)}function o(){e(!0)}function a(){i--,delete r[l],c.onDeckRequestArgs&&(c._get.apply(c,c.onDeckRequestArgs),c.onDeckRequestArgs=null)}var l,u,c=this;l=this._fingerprint(t),this.cancelled||l!==this.lastReq||((u=r[l])?u.done(n).fail(o):s>i?(i++,r[l]=this._send(t).done(n).fail(o).always(a)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(n,i){var o,r;i=i||t.noop,n=e.isString(n)?{url:n}:n||{},r=this._fingerprint(n),this.cancelled=!1,this.lastReq=r,(o=this._cache.get(r))?i(null,o):this._get(n,i)},cancel:function(){this.cancelled=!0}}),n}(),a=window.SearchIndex=function(){"use strict";function n(n){n=n||{},n.datumTokenizer&&n.queryTokenizer||t.error("datumTokenizer and queryTokenizer are both required"),this.identify=n.identify||e.stringify,this.datumTokenizer=n.datumTokenizer,this.queryTokenizer=n.queryTokenizer,this.reset()}function i(t){return t=e.filter(t,function(t){return!!t}),t=e.map(t,function(t){return t.toLowerCase()})}function o(){var t={};return t[l]=[],t[a]={},t}function r(t){for(var e={},n=[],i=0,o=t.length;o>i;i++)e[t[i]]||(e[t[i]]=!0,n.push(t[i]));return n}function s(t,e){var n=0,i=0,o=[];t=t.sort(),e=e.sort();for(var r=t.length,s=e.length;r>n&&s>i;)t[n]<e[i]?n++:t[n]>e[i]?i++:(o.push(t[n]),n++,i++);return o}var a="c",l="i";return e.mixin(n.prototype,{bootstrap:function(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var n=this;t=e.isArray(t)?t:[t],e.each(t,function(t){var r,s;n.datums[r=n.identify(t)]=t,s=i(n.datumTokenizer(t)),e.each(s,function(t){var e,i,s;for(e=n.trie,i=t.split("");s=i.shift();)e=e[a][s]||(e[a][s]=o()),e[l].push(r)})})},get:function(t){var n=this;return e.map(t,function(t){return n.datums[t]})},search:function(t){var n,o,u=this;return n=i(this.queryTokenizer(t)),e.each(n,function(t){var e,n,i,r;if(o&&0===o.length)return!1;for(e=u.trie,n=t.split("");e&&(i=n.shift());)e=e[a][i];return e&&0===n.length?(r=e[l].slice(0),void(o=o?s(o,r):r)):(o=[],!1)}),o?e.map(r(o),function(t){return u.datums[t]}):[]},all:function(){var t=[];for(var e in this.datums)t.push(this.datums[e]);return t},reset:function(){this.datums={},this.trie=o()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),n}(),l=function(){"use strict";function t(t){this.url=t.url,this.ttl=t.ttl,this.cache=t.cache,this.prepare=t.prepare,this.transform=t.transform,this.transport=t.transport,this.thumbprint=t.thumbprint,this.storage=new r(t.cacheKey)}var n;return n={data:"data",protocol:"protocol",thumbprint:"thumbprint"},e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(t){this.cache&&(this.storage.set(n.data,t,this.ttl),this.storage.set(n.protocol,location.protocol,this.ttl),this.storage.set(n.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var t,e={};return this.cache?(e.data=this.storage.get(n.data),e.protocol=this.storage.get(n.protocol),e.thumbprint=this.storage.get(n.thumbprint),t=e.thumbprint!==this.thumbprint||e.protocol!==location.protocol,e.data&&!t?e.data:null):null},fromNetwork:function(t){function e(){t(!0)}function n(e){t(null,o.transform(e))}var i,o=this;t&&(i=this.prepare(this._settings()),this.transport(i).fail(e).done(n))},clear:function(){return this.storage.clear(),this}}),t}(),u=function(){"use strict";function t(t){this.url=t.url,this.prepare=t.prepare,this.transform=t.transform,this.transport=new s({cache:t.cache,limiter:t.limiter,transport:t.transport})}return e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(t,e){function n(t,n){e(t?[]:o.transform(n))}var i,o=this;return e?(t=t||"",i=this.prepare(t,this._settings()),this.transport.get(i,n)):void 0},cancelLastRequest:function(){this.transport.cancel()}}),t}(),c=function(){"use strict";function i(i){var o;return i?(o={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:e.identity,transform:e.identity,transport:null},i=e.isString(i)?{url:i}:i,i=e.mixin(o,i),!i.url&&t.error("prefetch requires url to be set"),i.transform=i.filter||i.transform,i.cacheKey=i.cacheKey||i.url,i.thumbprint=n+i.thumbprint,i.transport=i.transport?a(i.transport):t.ajax,i):null}function o(n){var i;return n?(i={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:e.identity,transport:null},n=e.isString(n)?{url:n}:n,n=e.mixin(i,n),!n.url&&t.error("remote requires url to be set"),n.transform=n.filter||n.transform,n.prepare=r(n),n.limiter=s(n),n.transport=n.transport?a(n.transport):t.ajax,delete n.replace,delete n.wildcard,delete n.rateLimitBy,delete n.rateLimitWait,n):void 0}function r(t){function e(t,e){return e.url=r(e.url,t),e}function n(t,e){return e.url=e.url.replace(s,encodeURIComponent(t)),e}function i(t,e){return e}var o,r,s;return o=t.prepare,r=t.replace,s=t.wildcard,o?o:o=r?e:t.wildcard?n:i}function s(t){function n(t){return function(n){return e.debounce(n,t)}}function i(t){return function(n){return e.throttle(n,t)}}var o,r,s;return o=t.limiter,r=t.rateLimitBy,s=t.rateLimitWait,o||(o=/^throttle$/i.test(r)?i(s):n(s)),o}function a(n){return function(i){function o(t){e.defer(function(){s.resolve(t)})}function r(t){e.defer(function(){s.reject(t)})}var s=t.Deferred();return n(i,o,r),s}}return function(n){var r,s;return r={initialize:!0,identify:e.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},n=e.mixin(r,n||{}),!n.datumTokenizer&&t.error("datumTokenizer is required"),!n.queryTokenizer&&t.error("queryTokenizer is required"),s=n.sorter,n.sorter=s?function(t){return t.sort(s)}:e.identity,n.local=e.isFunction(n.local)?n.local():n.local,n.prefetch=i(n.prefetch),n.remote=o(n.remote),n}}(),h=function(){"use strict";function n(t){t=c(t),this.sorter=t.sorter,this.identify=t.identify,this.sufficient=t.sufficient,this.local=t.local,this.remote=t.remote?new u(t.remote):null,this.prefetch=t.prefetch?new l(t.prefetch):null,this.index=new a({identify:this.identify,datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),t.initialize!==!1&&this.initialize()}var o;return o=window&&window.Bloodhound,n.noConflict=function(){return window&&(window.Bloodhound=o),n},n.tokenizers=i,e.mixin(n.prototype,{__ttAdapter:function(){function t(t,e,i){return n.search(t,e,i)}function e(t,e){return n.search(t,e)}var n=this;return this.remote?t:e},_loadPrefetch:function(){function e(t,e){return t?n.reject():(o.add(e),o.prefetch.store(o.index.serialize()),void n.resolve())}var n,i,o=this;return n=t.Deferred(),this.prefetch?(i=this.prefetch.fromCache())?(this.index.bootstrap(i),n.resolve()):this.prefetch.fromNetwork(e):n.resolve(),n.promise()},_initialize:function(){function t(){e.add(e.local)}var e=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(t),this.initPromise},initialize:function(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function(t){return this.index.add(t),this},get:function(t){return t=e.isArray(t)?t:[].slice.call(arguments),this.index.get(t)},search:function(t,n,i){function o(t){var n=[];e.each(t,function(t){!e.some(r,function(e){return s.identify(t)===s.identify(e)})&&n.push(t)}),i&&i(n)}var r,s=this;return r=this.sorter(this.index.search(t)),n(this.remote?r.slice():r),this.remote&&r.length<this.sufficient?this.remote.get(t,o):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return s.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),n}();return h}),/*!
 * jQuery Cookie Plugin v1.3
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2011, Klaus Hartl
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.opensource.org/licenses/GPL-2.0
 */
function(t,e,n){function i(t){return t}function o(t){return decodeURIComponent(t.replace(r," "))}var r=/\+/g,s=t.cookie=function(r,a,l){if(a!==n){if(l=t.extend({},s.defaults,l),null===a&&(l.expires=-1),"number"==typeof l.expires){var u=l.expires,c=l.expires=new Date;c.setDate(c.getDate()+u)}return a=s.json?JSON.stringify(a):String(a),e.cookie=[encodeURIComponent(r),"=",s.raw?a:encodeURIComponent(a),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var h=s.raw?i:o,d=e.cookie.split("; "),f=0,p=d.length;p>f;f++){var m=d[f].split("=");if(h(m.shift())===r){var g=h(m.join("="));return s.json?JSON.parse(g):g}}return null};s.defaults={},t.removeCookie=function(e,n){return null!==t.cookie(e)?(t.cookie(e,null,n),!0):!1}}(jQuery,document),/*!
 * jQuery UI Core 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(e,i){var o,r,s,a=e.nodeName.toLowerCase();return"area"===a?(o=e.parentNode,r=o.name,e.href&&r&&"map"===o.nodeName.toLowerCase()?(s=t("img[usemap='#"+r+"']")[0],!!s&&n(s)):!1):(/^(input|select|textarea|button|object)$/.test(a)?!e.disabled:"a"===a?e.href||i:i)&&n(e)}function n(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var n=this.css("position"),i="absolute"===n,o=e?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var e=t(this);return i&&"static"===e.css("position")?!1:o.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&r.length?r:t(this[0].ownerDocument||document)},uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])},focusable:function(n){return e(n,!isNaN(t.attr(n,"tabindex")))},tabbable:function(n){var i=t.attr(n,"tabindex"),o=isNaN(i);return(o||i>=0)&&e(n,!o)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,n){function i(e,n,i,r){return t.each(o,function(){n-=parseFloat(t.css(e,"padding"+this))||0,i&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),r&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}var o="Width"===n?["Left","Right"]:["Top","Bottom"],r=n.toLowerCase(),s={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(e){return void 0===e?s["inner"+n].call(this):this.each(function(){t(this).css(r,i(this,e)+"px")})},t.fn["outer"+n]=function(e,o){return"number"!=typeof e?s["outer"+n].call(this,e):this.each(function(){t(this).css(r,i(this,e,!0,o)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(n){return arguments.length?e.call(this,t.camelCase(n)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(e){return function(n,i){return"number"==typeof n?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),i&&i.call(e)},n)}):e.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var n,i,o=t(this[0]);o.length&&o[0]!==document;){if(n=o.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(i=parseInt(o.css("zIndex"),10),!isNaN(i)&&0!==i))return i;o=o.parent()}return 0}}),t.ui.plugin={add:function(e,n,i){var o,r=t.ui[e].prototype;for(o in i)r.plugins[o]=r.plugins[o]||[],r.plugins[o].push([n,i[o]])},call:function(t,e,n,i){var o,r=t.plugins[e];if(r&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(o=0;o<r.length;o++)t.options[r[o][0]]&&r[o][1].apply(t.element,n)}}}),/*!
 * jQuery UI Widget 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){var e=0,n=Array.prototype.slice;return t.cleanData=function(e){return function(n){var i,o,r;for(r=0;null!=(o=n[r]);r++)try{i=t._data(o,"events"),i&&i.remove&&t(o).triggerHandler("remove")}catch(s){}e(n)}}(t.cleanData),t.widget=function(e,n,i){var o,r,s,a,l={},u=e.split(".")[0];return e=e.split(".")[1],o=u+"-"+e,i||(i=n,n=t.Widget),t.expr[":"][o.toLowerCase()]=function(e){return!!t.data(e,o)},t[u]=t[u]||{},r=t[u][e],s=t[u][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new s(t,e)},t.extend(s,r,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),a=new n,a.options=t.widget.extend({},a.options),t.each(i,function(e,i){return t.isFunction(i)?void(l[e]=function(){var t=function(){return n.prototype[e].apply(this,arguments)},o=function(t){return n.prototype[e].apply(this,t)};return function(){var e,n=this._super,r=this._superApply;return this._super=t,this._superApply=o,e=i.apply(this,arguments),this._super=n,this._superApply=r,e}}()):void(l[e]=i)}),s.prototype=t.widget.extend(a,{widgetEventPrefix:r?a.widgetEventPrefix||e:e},l,{constructor:s,namespace:u,widgetName:e,widgetFullName:o}),r?(t.each(r._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,s,n._proto)}),delete r._childConstructors):n._childConstructors.push(s),t.widget.bridge(e,s),s},t.widget.extend=function(e){for(var i,o,r=n.call(arguments,1),s=0,a=r.length;a>s;s++)for(i in r[s])o=r[s][i],r[s].hasOwnProperty(i)&&void 0!==o&&(t.isPlainObject(o)?e[i]=t.isPlainObject(e[i])?t.widget.extend({},e[i],o):t.widget.extend({},o):e[i]=o);return e},t.widget.bridge=function(e,i){var o=i.prototype.widgetFullName||e;t.fn[e]=function(r){var s="string"==typeof r,a=n.call(arguments,1),l=this;return s?this.each(function(){var n,i=t.data(this,o);return"instance"===r?(l=i,!1):i?t.isFunction(i[r])&&"_"!==r.charAt(0)?(n=i[r].apply(i,a),n!==i&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0):t.error("no such method '"+r+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+r+"'")}):(a.length&&(r=t.widget.extend.apply(null,[r].concat(a))),this.each(function(){var e=t.data(this,o);e?(e.option(r||{}),e._init&&e._init()):t.data(this,o,new i(r,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(n,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),n),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,o,r,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},i=e.split("."),e=i.shift(),i.length){for(o=s[e]=t.widget.extend({},this.options[e]),r=0;r<i.length-1;r++)o[i[r]]=o[i[r]]||{},o=o[i[r]];if(e=i.pop(),1===arguments.length)return void 0===o[e]?null:o[e];o[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=n}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,n,i){var o,r=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=o=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,o=this.widget()),t.each(i,function(i,s){function a(){return e||r.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof s?r[s]:s).apply(r,arguments):void 0}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+r.eventNamespace,c=l[2];c?o.delegate(c,u,a):n.bind(u,a)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(n).undelegate(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,n,i){var o,r,s=this.options[e];if(i=i||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],r=n.originalEvent)for(o in r)o in n||(n[o]=r[o]);return this.element.trigger(n,i),!(t.isFunction(s)&&s.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,o,r){"string"==typeof o&&(o={effect:o});var s,a=o?o===!0||"number"==typeof o?n:o.effect||n:e;o=o||{},"number"==typeof o&&(o={duration:o}),s=!t.isEmptyObject(o),o.complete=r,o.delay&&i.delay(o.delay),s&&t.effects&&t.effects.effect[a]?i[e](o):a!==e&&i[a]?i[a](o.duration,o.easing,r):i.queue(function(n){t(this)[e](),r&&r.call(i[0]),n()})}}),t.widget}),/*!
 * jQuery UI Mouse 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/mouse/
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./widget"],t):t(jQuery)}(function(t){var e=!1;return t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(n){return!0===t.data(n.target,e.widgetName+".preventClickEvent")?(t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!e){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var i=this,o=1===n.which,r="string"==typeof this.options.cancel&&n.target.nodeName?t(n.target).closest(this.options.cancel).length:!1;return o&&!r&&this._mouseCapture(n)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=this._mouseStart(n)!==!1,!this._mouseStarted)?(n.preventDefault(),!0):(!0===t.data(n.target,this.widgetName+".preventClickEvent")&&t.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(n){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,n.target===this._mouseDownEvent.target&&t.data(n.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(n)),e=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}),/*!
 * jQuery UI Sortable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/sortable/
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],t):t(jQuery)}(function(t){return t.widget("ui.sortable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return t>=e&&e+n>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),t.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,n){var i=null,o=!1,r=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,r.widgetName+"-item")===r?(i=t(this),!1):void 0}),t.data(e.target,r.widgetName+"-item")===r&&(i=t(e.target)),i&&(!this.options.handle||n||(t(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(o=!0)}),o))?(this.currentItem=i,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(e,n,i){var o,r,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",s.cursor),this.storedStylesheet=t("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(r)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,o,r,s=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(e.pageY-this.document.scrollTop()<s.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-s.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<s.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+s.scrollSpeed)),e.pageX-this.document.scrollLeft()<s.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-s.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<s.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+s.scrollSpeed))),a!==!1&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],o=i.item[0],r=this._intersectsWithPointer(i),r&&i.instance===this.currentContainer&&o!==this.currentItem[0]&&this.placeholder[1===r?"next":"prev"]()[0]!==o&&!t.contains(this.placeholder[0],o)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],o):!0)){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,o=this.placeholder.offset(),r=this.options.axis,s={};r&&"x"!==r||(s.left=o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(s.top=o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each(function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,o=i+this.helperProportions.height,r=t.left,s=r+t.width,a=t.top,l=a+t.height,u=this.offset.click.top,c=this.offset.click.left,h="x"===this.options.axis||i+u>a&&l>i+u,d="y"===this.options.axis||e+c>r&&s>e+c,f=h&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?f:r<e+this.helperProportions.width/2&&n-this.helperProportions.width/2<s&&a<i+this.helperProportions.height/2&&o-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),i=e&&n,o=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return i?this.floating?r&&"right"===r||"down"===o?2:1:o&&("down"===o?2:1):!1},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&n||"left"===o&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function n(){a.push(this)}var i,o,r,s,a=[],l=[],u=this._connectWith();if(u&&e)for(i=u.length-1;i>=0;i--)for(r=t(u[i],this.document[0]),o=r.length-1;o>=0;o--)s=t.data(r[o],this.widgetFullName),s&&s!==this&&!s.options.disabled&&l.push([t.isFunction(s.options.items)?s.options.items.call(s.element):t(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(n);return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var n=0;n<e.length;n++)if(e[n]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,o,r,s,a,l,u,c=this.items,h=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(n=d.length-1;n>=0;n--)for(o=t(d[n],this.document[0]),i=o.length-1;i>=0;i--)r=t.data(o[i],this.widgetFullName),r&&r!==this&&!r.options.disabled&&(h.push([t.isFunction(r.options.items)?r.options.items.call(r.element[0],e,{item:this.currentItem}):t(r.options.items,r.element),r]),this.containers.push(r));for(n=h.length-1;n>=0;n--)for(s=h[n][1],a=h[n][0],i=0,u=a.length;u>i;i++)l=t(a[i]),l.data(this.widgetName+"-item",s),c.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,o,r;for(n=this.items.length-1;n>=0;n--)i=this.items[n],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(o=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=o.outerWidth(),i.height=o.outerHeight()),r=o.offset(),i.left=r.left,i.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)r=this.containers[n].element.offset(),this.containers[n].containerCache.left=r.left,this.containers[n].containerCache.top=r.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var n,i=e.options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),o=t("<"+i+">",e.document[0]).addClass(n||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===i?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(o)):"tr"===i?e._createTrPlaceholder(e.currentItem,o):"img"===i&&o.attr("src",e.currentItem.attr("src")),n||o.css("visibility","hidden"),o},update:function(t,o){(!n||i.forcePlaceholderSize)&&(o.height()||o.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,n){var i=this;e.children().each(function(){t("<td>&#160;</td>",i.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(e){var n,i,o,r,s,a,l,u,c,h,d=null,f=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(d&&t.contains(this.containers[n].element[0],d.element[0]))continue;d=this.containers[n],f=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(o=1e4,r=null,c=d.floating||this._isFloating(this.currentItem),s=c?"left":"top",a=c?"width":"height",h=c?"clientX":"clientY",i=this.items.length-1;i>=0;i--)t.contains(this.containers[f].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[s],u=!1,e[h]-l>this.items[i][a]/2&&(u=!0),Math.abs(e[h]-l)<o&&(o=Math.abs(e[h]-l),r=this.items[i],this.direction=u?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f])return void(this.currentContainer.containerCache.over||(this.containers[f]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));r?this._rearrange(e,r,null,!0):this._rearrange(e,null,this.containers[f].element,!0),this._trigger("change",e,this._uiHash()),this.containers[f]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,o=this.options;"parent"===o.containment&&(o.containment=this.helper[0].parentNode),("document"===o.containment||"window"===o.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===o.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===o.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(e=t(o.containment)[0],n=t(o.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(o[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:o.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:o.scrollLeft())*i}},_generatePosition:function(e){var n,i,o=this.options,r=e.pageX,s=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),o.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/o.grid[1])*o.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-o.grid[1]:n+o.grid[1]:n,i=this.originalPageX+Math.round((r-this.originalPageX)/o.grid[0])*o.grid[0],r=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-o.grid[0]:i+o.grid[0]:i)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){function n(t,e,n){return function(i){n._trigger(t,i,e._uiHash(e))}}this.reverting=!1;var i,o=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&o.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||o.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(o.push(function(t){this._trigger("remove",t,this._uiHash())}),o.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),o.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||o.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(o.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;i<o.length;i++)o[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}})}),!function(t){t(["jquery"],function(t){return function(){function e(t,e,n){return p({type:C.error,iconClass:m().iconClasses.error,message:t,optionsOverride:n,title:e})}function n(e,n){return e||(e=m()),v=t("#"+e.containerId),v.length?v:(n&&(v=h(e)),v)}function i(t,e,n){return p({type:C.info,iconClass:m().iconClasses.info,message:t,optionsOverride:n,title:e})}function o(t){y=t}function r(t,e,n){return p({type:C.success,iconClass:m().iconClasses.success,message:t,optionsOverride:n,title:e})}function s(t,e,n){return p({type:C.warning,iconClass:m().iconClasses.warning,message:t,optionsOverride:n,title:e})}function a(t){var e=m();v||n(e),c(t,e)||u(e)}function l(e){var i=m();return v||n(i),e&&0===t(":focus",e).length?void g(e):void(v.children().length&&v.remove())}function u(e){for(var n=v.children(),i=n.length-1;i>=0;i--)c(t(n[i]),e)}function c(e,n){return e&&0===t(":focus",e).length?(e[n.hideMethod]({duration:n.hideDuration,easing:n.hideEasing,complete:function(){g(e)}}),!0):!1}function h(e){return v=t("<div/>").attr("id",e.containerId).addClass(e.positionClass).attr("aria-live","polite").attr("role","alert"),v.appendTo(t(e.target)),v}function d(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",target:"body",closeHtml:'<button type="button">&times;</button>',newestOnTop:!0,preventDuplicates:!1,progressBar:!1}}function f(t){y&&y(t)}function p(e){function i(e){return!t(":focus",c).length||e?(clearTimeout(C.intervalId),c[a.hideMethod]({duration:a.hideDuration,easing:a.hideEasing,complete:function(){g(c),a.onHidden&&"hidden"!==k.state&&a.onHidden(),k.state="hidden",k.endTime=new Date,f(k)}})):void 0}function o(){(a.timeOut>0||a.extendedTimeOut>0)&&(u=setTimeout(i,a.extendedTimeOut),C.maxHideTime=parseFloat(a.extendedTimeOut),C.hideEta=(new Date).getTime()+C.maxHideTime)}function r(){clearTimeout(u),C.hideEta=0,c.stop(!0,!0)[a.showMethod]({duration:a.showDuration,easing:a.showEasing})}function s(){var t=(C.hideEta-(new Date).getTime())/C.maxHideTime*100;p.width(t+"%")}var a=m(),l=e.iconClass||a.iconClass;if("undefined"!=typeof e.optionsOverride&&(a=t.extend(a,e.optionsOverride),l=e.optionsOverride.iconClass||l),a.preventDuplicates){if(e.message===w)return;w=e.message}b++,v=n(a,!0);var u=null,c=t("<div/>"),h=t("<div/>"),d=t("<div/>"),p=t("<div/>"),y=t(a.closeHtml),C={intervalId:null,hideEta:null,maxHideTime:null},k={toastId:b,state:"visible",startTime:new Date,options:a,map:e};return e.iconClass&&c.addClass(a.toastClass).addClass(l),e.title&&(h.append(e.title).addClass(a.titleClass),c.append(h)),e.message&&(d.append(e.message).addClass(a.messageClass),c.append(d)),a.closeButton&&(y.addClass("toast-close-button").attr("role","button"),c.prepend(y)),a.progressBar&&(p.addClass("toast-progress"),c.prepend(p)),c.hide(),a.newestOnTop?v.prepend(c):v.append(c),c[a.showMethod]({duration:a.showDuration,easing:a.showEasing,complete:a.onShown}),a.timeOut>0&&(u=setTimeout(i,a.timeOut),C.maxHideTime=parseFloat(a.timeOut),C.hideEta=(new Date).getTime()+C.maxHideTime,a.progressBar&&(C.intervalId=setInterval(s,10))),c.hover(r,o),!a.onclick&&a.tapToDismiss&&c.click(i),a.closeButton&&y&&y.click(function(t){t.stopPropagation?t.stopPropagation():void 0!==t.cancelBubble&&t.cancelBubble!==!0&&(t.cancelBubble=!0),i(!0)}),a.onclick&&c.click(function(){a.onclick(),i()}),f(k),a.debug&&console&&console.log(k),c}function m(){return t.extend({},d(),k.options)}function g(t){v||(v=n()),t.is(":visible")||(t.remove(),t=null,0===v.children().length&&(v.remove(),w=void 0))}var v,y,w,b=0,C={error:"error",info:"info",success:"success",warning:"warning"},k={clear:a,remove:l,error:e,getContainer:n,info:i,options:{},subscribe:o,success:r,version:"2.1.0",warning:s};return k}()})}("function"==typeof define&&define.amd?define:function(t,e){"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):window.toastr=e(window.jQuery)}),/*!
 * jQuery UI Datepicker 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/datepicker/
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./core"],t):t(jQuery)}(function(t){function e(t){for(var e,n;t.length&&t[0]!==document;){if(e=t.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(n=parseInt(t.css("zIndex"),10),!isNaN(n)&&0!==n))return n;t=t.parent()}return 0}function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=i(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function i(e){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(n,"mouseout",function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(n,"mouseover",o)}function o(){t.datepicker._isDisabledDatepicker(s.inline?s.dpDiv.parent()[0]:s.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function r(e,n){t.extend(e,n);for(var i in n)null==n[i]&&(e[i]=n[i]);return e}t.extend(t.ui,{datepicker:{version:"1.11.4"}});var s;return t.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return r(this._defaults,t||{}),this},_attachDatepicker:function(e,n){var i,o,r;i=e.nodeName.toLowerCase(),o="div"===i||"span"===i,e.id||(this.uuid+=1,e.id="dp"+this.uuid),r=this._newInst(t(e),o),r.settings=t.extend({},n||{}),"input"===i?this._connectDatepicker(e,r):o&&this._inlineDatepicker(e,r)},_newInst:function(e,n){var o=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:o,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?i(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,n){var i=t(e);n.append=t([]),n.trigger=t([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(n),t.data(e,"datepicker",n),n.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,n){var i,o,r,s=this._get(n,"appendText"),a=this._get(n,"isRTL");n.append&&n.append.remove(),s&&(n.append=t("<span class='"+this._appendClass+"'>"+s+"</span>"),e[a?"before":"after"](n.append)),e.unbind("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),i=this._get(n,"showOn"),("focus"===i||"both"===i)&&e.focus(this._showDatepicker),("button"===i||"both"===i)&&(o=this._get(n,"buttonText"),r=this._get(n,"buttonImage"),n.trigger=t(this._get(n,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:r,alt:o,title:o}):t("<button type='button'></button>").addClass(this._triggerClass).html(r?t("<img/>").attr({src:r,alt:o,title:o}):o)),e[a?"before":"after"](n.trigger),n.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,n,i,o,r=new Date(2009,11,20),s=this._get(t,"dateFormat");s.match(/[DM]/)&&(e=function(t){for(n=0,i=0,o=0;o<t.length;o++)t[o].length>n&&(n=t[o].length,i=o);return i},r.setMonth(e(this._get(t,s.match(/MM/)?"monthNames":"monthNamesShort"))),r.setDate(e(this._get(t,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-r.getDay())),t.input.attr("size",this._formatDate(t,r).length)}},_inlineDatepicker:function(e,n){var i=t(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),t.data(e,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(e),n.dpDiv.css("display","block"))},_dialogDatepicker:function(e,n,i,o,s){var a,l,u,c,h,d=this._dialogInst;return d||(this.uuid+=1,a="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+a+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),d=this._dialogInst=this._newInst(this._dialogInput,!1),d.settings={},t.data(this._dialogInput[0],"datepicker",d)),r(d.settings,o||{}),n=n&&n.constructor===Date?this._formatDate(d,n):n,this._dialogInput.val(n),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,this._pos||(l=document.documentElement.clientWidth,u=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+c,u/2-150+h]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(e){var n,i=t(e),o=t.data(e,"datepicker");i.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===n?(o.append.remove(),o.trigger.remove(),i.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===n||"span"===n)&&i.removeClass(this.markerClassName).empty(),s===o&&(s=null))},_enableDatepicker:function(e){var n,i,o=t(e),r=t.data(e,"datepicker");o.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),"input"===n?(e.disabled=!1,r.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===n||"span"===n)&&(i=o.children("."+this._inlineClass),i.children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var n,i,o=t(e),r=t.data(e,"datepicker");o.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),"input"===n?(e.disabled=!0,r.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===n||"span"===n)&&(i=o.children("."+this._inlineClass),i.children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(n){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,n,i){var o,s,a,l,u=this._getInst(e);return 2===arguments.length&&"string"==typeof n?"defaults"===n?t.extend({},t.datepicker._defaults):u?"all"===n?t.extend({},u.settings):this._get(u,n):null:(o=n||{},"string"==typeof n&&(o={},o[n]=i),void(u&&(this._curInst===u&&this._hideDatepicker(),s=this._getDateDatepicker(e,!0),a=this._getMinMaxDate(u,"min"),l=this._getMinMaxDate(u,"max"),r(u.settings,o),null!==a&&void 0!==o.dateFormat&&void 0===o.minDate&&(u.settings.minDate=this._formatDate(u,a)),null!==l&&void 0!==o.dateFormat&&void 0===o.maxDate&&(u.settings.maxDate=this._formatDate(u,l)),"disabled"in o&&(o.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),u),this._autoSize(u),this._setDate(u,s),this._updateAlternate(u),this._updateDatepicker(u))))},_changeDatepicker:function(t,e,n){this._optionDatepicker(t,e,n)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var n=this._getInst(t);n&&(this._setDate(n,e),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(t,e){var n=this._getInst(t);return n&&!n.inline&&this._setDateFromField(n,e),n?this._getDate(n):null},_doKeyDown:function(e){var n,i,o,r=t.datepicker._getInst(e.target),s=!0,a=r.dpDiv.is(".ui-datepicker-rtl");if(r._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),s=!1;break;case 13:return o=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",r.dpDiv),o[0]&&t.datepicker._selectDay(e.target,r.selectedMonth,r.selectedYear,o[0]),n=t.datepicker._get(r,"onSelect"),n?(i=t.datepicker._formatDate(r),n.apply(r.input?r.input[0]:null,[i,r])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(r,"stepBigMonths"):-t.datepicker._get(r,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(r,"stepBigMonths"):+t.datepicker._get(r,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),s=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),s=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?1:-1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(r,"stepBigMonths"):-t.datepicker._get(r,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),s=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?-1:1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(r,"stepBigMonths"):+t.datepicker._get(r,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),s=e.ctrlKey||e.metaKey;break;default:s=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):s=!1;s&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var n,i,o=t.datepicker._getInst(e.target);return t.datepicker._get(o,"constrainInput")?(n=t.datepicker._possibleChars(t.datepicker._get(o,"dateFormat")),i=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">i||!n||n.indexOf(i)>-1):void 0},_doKeyUp:function(e){var n,i=t.datepicker._getInst(e.target);if(i.input.val()!==i.lastVal)try{n=t.datepicker.parseDate(t.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,t.datepicker._getFormatConfig(i)),n&&(t.datepicker._setDateFromField(i),t.datepicker._updateAlternate(i),t.datepicker._updateDatepicker(i))}catch(o){}return!0},_showDatepicker:function(n){if(n=n.target||n,"input"!==n.nodeName.toLowerCase()&&(n=t("input",n.parentNode)[0]),!t.datepicker._isDisabledDatepicker(n)&&t.datepicker._lastInput!==n){var i,o,s,a,l,u,c;i=t.datepicker._getInst(n),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),o=t.datepicker._get(i,"beforeShow"),s=o?o.apply(n,[n,i]):{},s!==!1&&(r(i.settings,s),i.lastVal=null,t.datepicker._lastInput=n,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(n.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(n),t.datepicker._pos[1]+=n.offsetHeight),a=!1,t(n).parents().each(function(){return a|="fixed"===t(this).css("position"),!a}),l={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),l=t.datepicker._checkOffset(i,l,a),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":a?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),i.inline||(u=t.datepicker._get(i,"showAnim"),c=t.datepicker._get(i,"duration"),i.dpDiv.css("z-index",e(t(n))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[u]?i.dpDiv.show(u,t.datepicker._get(i,"showOptions"),c):i.dpDiv[u||"show"](u?c:null),t.datepicker._shouldFocusInput(i)&&i.input.focus(),t.datepicker._curInst=i))}},_updateDatepicker:function(e){this.maxRows=4,s=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var n,i=this._getNumberOfMonths(e),r=i[1],a=17,l=e.dpDiv.find("."+this._dayOverClass+" a");l.length>0&&o.apply(l.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&e.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",a*r+"em"),e.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(n=e.yearshtml,setTimeout(function(){n===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),n=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,n,i){var o=e.dpDiv.outerWidth(),r=e.dpDiv.outerHeight(),s=e.input?e.input.outerWidth():0,a=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:t(document).scrollLeft()),u=document.documentElement.clientHeight+(i?0:t(document).scrollTop());return n.left-=this._get(e,"isRTL")?o-s:0,n.left-=i&&n.left===e.input.offset().left?t(document).scrollLeft():0,n.top-=i&&n.top===e.input.offset().top+a?t(document).scrollTop():0,n.left-=Math.min(n.left,n.left+o>l&&l>o?Math.abs(n.left+o-l):0),n.top-=Math.min(n.top,n.top+r>u&&u>r?Math.abs(r+a):0),n},_findPos:function(e){for(var n,i=this._getInst(e),o=this._get(i,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[o?"previousSibling":"nextSibling"];return n=t(e).offset(),[n.left,n.top]},_hideDatepicker:function(e){var n,i,o,r,s=this._curInst;!s||e&&s!==t.data(e,"datepicker")||this._datepickerShowing&&(n=this._get(s,"showAnim"),i=this._get(s,"duration"),o=function(){t.datepicker._tidyDialog(s)},t.effects&&(t.effects.effect[n]||t.effects[n])?s.dpDiv.hide(n,t.datepicker._get(s,"showOptions"),i,o):s.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,o),n||o(),this._datepickerShowing=!1,r=this._get(s,"onClose"),r&&r.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var n=t(e.target),i=t.datepicker._getInst(n[0]);(n[0].id!==t.datepicker._mainDivId&&0===n.parents("#"+t.datepicker._mainDivId).length&&!n.hasClass(t.datepicker.markerClassName)&&!n.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||n.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==i)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,n,i){var o=t(e),r=this._getInst(o[0]);this._isDisabledDatepicker(o[0])||(this._adjustInstDate(r,n+("M"===i?this._get(r,"showCurrentAtPos"):0),i),this._updateDatepicker(r))},_gotoToday:function(e){var n,i=t(e),o=this._getInst(i[0]);this._get(o,"gotoCurrent")&&o.currentDay?(o.selectedDay=o.currentDay,o.drawMonth=o.selectedMonth=o.currentMonth,o.drawYear=o.selectedYear=o.currentYear):(n=new Date,o.selectedDay=n.getDate(),o.drawMonth=o.selectedMonth=n.getMonth(),o.drawYear=o.selectedYear=n.getFullYear()),this._notifyChange(o),this._adjustDate(i)},_selectMonthYear:function(e,n,i){var o=t(e),r=this._getInst(o[0]);r["selected"+("M"===i?"Month":"Year")]=r["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(o)},_selectDay:function(e,n,i,o){var r,s=t(e);t(o).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||(r=this._getInst(s[0]),r.selectedDay=r.currentDay=t("a",o).html(),r.selectedMonth=r.currentMonth=n,r.selectedYear=r.currentYear=i,this._selectDate(e,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear)))},_clearDate:function(e){var n=t(e);this._selectDate(n,"")},_selectDate:function(e,n){var i,o=t(e),r=this._getInst(o[0]);n=null!=n?n:this._formatDate(r),r.input&&r.input.val(n),this._updateAlternate(r),i=this._get(r,"onSelect"),i?i.apply(r.input?r.input[0]:null,[n,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],"object"!=typeof r.input[0]&&r.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var n,i,o,r=this._get(e,"altField");r&&(n=this._get(e,"altFormat")||this._get(e,"dateFormat"),i=this._getDate(e),o=this.formatDate(n,i,this._getFormatConfig(e)),t(r).each(function(){t(this).val(o)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,n=new Date(t.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),e=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((e-n)/864e5)/7)+1},parseDate:function(e,n,i){if(null==e||null==n)throw"Invalid arguments";if(n="object"==typeof n?n.toString():n+"",""===n)return null;var o,r,s,a,l=0,u=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof u?u:(new Date).getFullYear()%100+parseInt(u,10),h=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,d=(i?i.dayNames:null)||this._defaults.dayNames,f=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,p=(i?i.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,y=-1,w=!1,b=function(t){var n=o+1<e.length&&e.charAt(o+1)===t;return n&&o++,n},C=function(t){var e=b(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,o="y"===t?i:1,r=new RegExp("^\\d{"+o+","+i+"}"),s=n.substring(l).match(r);if(!s)throw"Missing number at position "+l;return l+=s[0].length,parseInt(s[0],10)},k=function(e,i,o){var r=-1,s=t.map(b(e)?o:i,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(s,function(t,e){var i=e[1];return n.substr(l,i.length).toLowerCase()===i.toLowerCase()?(r=e[0],l+=i.length,!1):void 0}),-1!==r)return r+1;throw"Unknown name at position "+l},x=function(){if(n.charAt(l)!==e.charAt(o))throw"Unexpected literal at position "+l;l++};for(o=0;o<e.length;o++)if(w)"'"!==e.charAt(o)||b("'")?x():w=!1;else switch(e.charAt(o)){case"d":v=C("d");break;case"D":k("D",h,d);break;case"o":y=C("o");break;case"m":g=C("m");break;case"M":g=k("M",f,p);break;case"y":m=C("y");break;case"@":a=new Date(C("@")),m=a.getFullYear(),g=a.getMonth()+1,v=a.getDate();break;case"!":a=new Date((C("!")-this._ticksTo1970)/1e4),m=a.getFullYear(),g=a.getMonth()+1,v=a.getDate();break;case"'":b("'")?x():w=!0;break;default:x()}if(l<n.length&&(s=n.substr(l),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c>=m?0:-100)),y>-1)for(g=1,v=y;;){if(r=this._getDaysInMonth(m,g-1),r>=v)break;g++,v-=r}if(a=this._daylightSavingAdjust(new Date(m,g-1,v)),a.getFullYear()!==m||a.getMonth()+1!==g||a.getDate()!==v)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,n){if(!e)return"";var i,o=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,r=(n?n.dayNames:null)||this._defaults.dayNames,s=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,a=(n?n.monthNames:null)||this._defaults.monthNames,l=function(e){var n=i+1<t.length&&t.charAt(i+1)===e;return n&&i++,n},u=function(t,e,n){var i=""+e;if(l(t))for(;i.length<n;)i="0"+i;return i},c=function(t,e,n,i){return l(t)?i[e]:n[e]},h="",d=!1;if(e)for(i=0;i<t.length;i++)if(d)"'"!==t.charAt(i)||l("'")?h+=t.charAt(i):d=!1;else switch(t.charAt(i)){case"d":h+=u("d",e.getDate(),2);break;case"D":h+=c("D",e.getDay(),o,r);break;case"o":h+=u("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=u("m",e.getMonth()+1,2);break;case"M":h+=c("M",e.getMonth(),s,a);break;case"y":h+=l("y")?e.getFullYear():(e.getYear()%100<10?"0":"")+e.getYear()%100;break;case"@":h+=e.getTime();break;case"!":h+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?h+="'":d=!0;break;default:h+=t.charAt(i)}return h},_possibleChars:function(t){var e,n="",i=!1,o=function(n){var i=e+1<t.length&&t.charAt(e+1)===n;return i&&e++,i};for(e=0;e<t.length;e++)if(i)"'"!==t.charAt(e)||o("'")?n+=t.charAt(e):i=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":o("'")?n+="'":i=!0;break;default:n+=t.charAt(e)}return n},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var n=this._get(t,"dateFormat"),i=t.lastVal=t.input?t.input.val():null,o=this._getDefaultDate(t),r=o,s=this._getFormatConfig(t);try{r=this.parseDate(n,i,s)||o}catch(a){i=e?"":i}t.selectedDay=r.getDate(),t.drawMonth=t.selectedMonth=r.getMonth(),t.drawYear=t.selectedYear=r.getFullYear(),t.currentDay=i?r.getDate():0,t.currentMonth=i?r.getMonth():0,t.currentYear=i?r.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,n,i){var o=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},r=function(n){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),n,t.datepicker._getFormatConfig(e))}catch(i){}for(var o=(n.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,r=o.getFullYear(),s=o.getMonth(),a=o.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,u=l.exec(n);u;){switch(u[2]||"d"){case"d":case"D":a+=parseInt(u[1],10);break;case"w":case"W":a+=7*parseInt(u[1],10);break;case"m":case"M":s+=parseInt(u[1],10),a=Math.min(a,t.datepicker._getDaysInMonth(r,s));break;case"y":case"Y":r+=parseInt(u[1],10),a=Math.min(a,t.datepicker._getDaysInMonth(r,s))}u=l.exec(n)}return new Date(r,s,a)},s=null==n||""===n?i:"string"==typeof n?r(n):"number"==typeof n?isNaN(n)?i:o(n):new Date(n.getTime());return s=s&&"Invalid Date"===s.toString()?i:s,s&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,n){var i=!e,o=t.selectedMonth,r=t.selectedYear,s=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=s.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=s.getMonth(),t.drawYear=t.selectedYear=t.currentYear=s.getFullYear(),o===t.selectedMonth&&r===t.selectedYear||n||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(i?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var n=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(i,-n,"M")},next:function(){t.datepicker._adjustDate(i,+n,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(i)},selectDay:function(){return t.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(i,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,n,i,o,r,s,a,l,u,c,h,d,f,p,m,g,v,y,w,b,C,k,x,_,T,S,E,D,R,M,A,O,H,P,L,I,j,N,$,F=new Date,W=this._daylightSavingAdjust(new Date(F.getFullYear(),F.getMonth(),F.getDate())),B=this._get(t,"isRTL"),V=this._get(t,"showButtonPanel"),z=this._get(t,"hideIfNoPrevNext"),Y=this._get(t,"navigationAsDateFormat"),U=this._getNumberOfMonths(t),G=this._get(t,"showCurrentAtPos"),q=this._get(t,"stepMonths"),X=1!==U[0]||1!==U[1],K=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),J=this._getMinMaxDate(t,"min"),Q=this._getMinMaxDate(t,"max"),Z=t.drawMonth-G,tt=t.drawYear;if(0>Z&&(Z+=12,tt--),Q)for(e=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-U[0]*U[1]+1,Q.getDate())),e=J&&J>e?J:e;this._daylightSavingAdjust(new Date(tt,Z,1))>e;)Z--,0>Z&&(Z=11,tt--);for(t.drawMonth=Z,t.drawYear=tt,n=this._get(t,"prevText"),n=Y?this.formatDate(n,this._daylightSavingAdjust(new Date(tt,Z-q,1)),this._getFormatConfig(t)):n,i=this._canAdjustMonth(t,-1,tt,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+n+"</span></a>":z?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+n+"</span></a>",o=this._get(t,"nextText"),o=Y?this.formatDate(o,this._daylightSavingAdjust(new Date(tt,Z+q,1)),this._getFormatConfig(t)):o,r=this._canAdjustMonth(t,1,tt,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+o+"</span></a>":z?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+o+"</span></a>",s=this._get(t,"currentText"),a=this._get(t,"gotoCurrent")&&t.currentDay?K:W,s=Y?this.formatDate(s,a,this._getFormatConfig(t)):s,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",u=V?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(B?l:"")+(this._isInRange(t,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(B?"":l)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,h=this._get(t,"showWeek"),d=this._get(t,"dayNames"),f=this._get(t,"dayNamesMin"),p=this._get(t,"monthNames"),m=this._get(t,"monthNamesShort"),g=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),y=this._get(t,"selectOtherMonths"),w=this._getDefaultDate(t),b="",k=0;k<U[0];k++){for(x="",this.maxRows=4,_=0;_<U[1];_++){if(T=this._daylightSavingAdjust(new Date(tt,Z,t.selectedDay)),S=" ui-corner-all",E="",X){if(E+="<div class='ui-datepicker-group",U[1]>1)switch(_){case 0:E+=" ui-datepicker-group-first",S=" ui-corner-"+(B?"right":"left");break;case U[1]-1:E+=" ui-datepicker-group-last",S=" ui-corner-"+(B?"left":"right");break;default:E+=" ui-datepicker-group-middle",S=""}E+="'>"}for(E+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+S+"'>"+(/all|left/.test(S)&&0===k?B?r:i:"")+(/all|right/.test(S)&&0===k?B?i:r:"")+this._generateMonthYearHeader(t,Z,tt,J,Q,k>0||_>0,p,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",D=h?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",C=0;7>C;C++)R=(C+c)%7,D+="<th scope='col'"+((C+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[R]+"'>"+f[R]+"</span></th>";for(E+=D+"</tr></thead><tbody>",M=this._getDaysInMonth(tt,Z),tt===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,M)),A=(this._getFirstDayOfMonth(tt,Z)-c+7)%7,O=Math.ceil((A+M)/7),H=X&&this.maxRows>O?this.maxRows:O,this.maxRows=H,P=this._daylightSavingAdjust(new Date(tt,Z,1-A)),L=0;H>L;L++){for(E+="<tr>",I=h?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(P)+"</td>":"",C=0;7>C;C++)j=g?g.apply(t.input?t.input[0]:null,[P]):[!0,""],N=P.getMonth()!==Z,$=N&&!y||!j[0]||J&&J>P||Q&&P>Q,I+="<td class='"+((C+c+6)%7>=5?" ui-datepicker-week-end":"")+(N?" ui-datepicker-other-month":"")+(P.getTime()===T.getTime()&&Z===t.selectedMonth&&t._keyEvent||w.getTime()===P.getTime()&&w.getTime()===T.getTime()?" "+this._dayOverClass:"")+($?" "+this._unselectableClass+" ui-state-disabled":"")+(N&&!v?"":" "+j[1]+(P.getTime()===K.getTime()?" "+this._currentClass:"")+(P.getTime()===W.getTime()?" ui-datepicker-today":""))+"'"+(N&&!v||!j[2]?"":" title='"+j[2].replace(/'/g,"&#39;")+"'")+($?"":" data-handler='selectDay' data-event='click' data-month='"+P.getMonth()+"' data-year='"+P.getFullYear()+"'")+">"+(N&&!v?"&#xa0;":$?"<span class='ui-state-default'>"+P.getDate()+"</span>":"<a class='ui-state-default"+(P.getTime()===W.getTime()?" ui-state-highlight":"")+(P.getTime()===K.getTime()?" ui-state-active":"")+(N?" ui-priority-secondary":"")+"' href='#'>"+P.getDate()+"</a>")+"</td>",P.setDate(P.getDate()+1),P=this._daylightSavingAdjust(P);E+=I+"</tr>"}Z++,Z>11&&(Z=0,tt++),E+="</tbody></table>"+(X?"</div>"+(U[0]>0&&_===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=E}b+=x}return b+=u,t._keyEvent=!1,b},_generateMonthYearHeader:function(t,e,n,i,o,r,s,a){var l,u,c,h,d,f,p,m,g=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),w="<div class='ui-datepicker-title'>",b="";if(r||!g)b+="<span class='ui-datepicker-month'>"+s[e]+"</span>";else{for(l=i&&i.getFullYear()===n,u=o&&o.getFullYear()===n,b+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;12>c;c++)(!l||c>=i.getMonth())&&(!u||c<=o.getMonth())&&(b+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+a[c]+"</option>");b+="</select>"}if(y||(w+=b+(!r&&g&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",r||!v)w+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(h=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),f=function(t){var e=t.match(/c[+\-].*/)?n+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e},p=f(h[0]),m=Math.max(p,f(h[1]||"")),p=i?Math.max(p,i.getFullYear()):p,m=o?Math.min(m,o.getFullYear()):m,
t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=p;p++)t.yearshtml+="<option value='"+p+"'"+(p===n?" selected='selected'":"")+">"+p+"</option>";t.yearshtml+="</select>",w+=t.yearshtml,t.yearshtml=null}return w+=this._get(t,"yearSuffix"),y&&(w+=(!r&&g&&v?"":"&#xa0;")+b),w+="</div>"},_adjustInstDate:function(t,e,n){var i=t.drawYear+("Y"===n?e:0),o=t.drawMonth+("M"===n?e:0),r=Math.min(t.selectedDay,this._getDaysInMonth(i,o))+("D"===n?e:0),s=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(i,o,r)));t.selectedDay=s.getDate(),t.drawMonth=t.selectedMonth=s.getMonth(),t.drawYear=t.selectedYear=s.getFullYear(),("M"===n||"Y"===n)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var n=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max"),o=n&&n>e?n:e;return i&&o>i?i:o},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,n,i){var o=this._getNumberOfMonths(t),r=this._daylightSavingAdjust(new Date(n,i+(0>e?e:o[0]*o[1]),1));return 0>e&&r.setDate(this._getDaysInMonth(r.getFullYear(),r.getMonth())),this._isInRange(t,r)},_isInRange:function(t,e){var n,i,o=this._getMinMaxDate(t,"min"),r=this._getMinMaxDate(t,"max"),s=null,a=null,l=this._get(t,"yearRange");return l&&(n=l.split(":"),i=(new Date).getFullYear(),s=parseInt(n[0],10),a=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(s+=i),n[1].match(/[+\-].*/)&&(a+=i)),(!o||e.getTime()>=o.getTime())&&(!r||e.getTime()<=r.getTime())&&(!s||e.getFullYear()>=s)&&(!a||e.getFullYear()<=a)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,n,i){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var o=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(i,n,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),o,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(n)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n))},t.datepicker=new n,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.11.4",t.datepicker}),/*
 * jQuery UI Timepicker 0.3.1
 *
 * Copyright 2010-2011, Francois Gelinas
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://fgelinas.com/code/timepicker
 *
 * Depends:
 *	jquery.ui.core.js
 *  jquery.ui.position.js (only if position settngs are used)
 *
 * Change version 0.1.0 - moved the t-rex up here
 *
                                                  ____
       ___                                      .-~. /_"-._
      `-._~-.                                  / /_ "~o\  :Y
          \  \                                / : \~x.  ` ')
           ]  Y                              /  |  Y< ~-.__j
          /   !                        _.--~T : l  l<  /.-~
         /   /                 ____.--~ .   ` l /~\ \<|Y
        /   /             .-~~"        /| .    ',-~\ \L|
       /   /             /     .^   \ Y~Y \.^>/l_   "--'
      /   Y           .-"(  .  l__  j_j l_/ /~_.-~    .
     Y    l          /    \  )    ~~~." / `/"~ / \.__/l_
     |     \     _.-"      ~-{__     l  :  l._Z~-.___.--~
     |      ~---~           /   ~~"---\_  ' __[>
     l  .                _.^   ___     _>-y~
      \  \     .      .-~   .-~   ~>--"  /
       \  ~---"            /     ./  _.-'
        "-.,_____.,_  _.--~\     _.-~
                    ~~     (   _}       -Row
                           `. ~(
                             )  \
                            /,`--'~\--'~\
                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
                             ->T-Rex<-
*/
function($){function Timepicker(){this.debug=!0,this._curInst=null,this._disabledInputs=[],this._timepickerShowing=!1,this._inDialog=!1,this._dialogClass="ui-timepicker-dialog",this._mainDivId="ui-timepicker-div",this._inlineClass="ui-timepicker-inline",this._currentClass="ui-timepicker-current",this._dayOverClass="ui-timepicker-days-cell-over",this.regional=[],this.regional[""]={hourText:"Hour",minuteText:"Minute",amPmText:["AM","PM"],closeButtonText:"Done",nowButtonText:"Now",deselectButtonText:"Deselect"},this._defaults={showOn:"focus",button:null,showAnim:"fadeIn",showOptions:{},appendText:"",beforeShow:null,onSelect:null,onClose:null,timeSeparator:":",periodSeparator:" ",showPeriod:!1,showPeriodLabels:!0,showLeadingZero:!0,showMinutesLeadingZero:!0,altField:"",defaultTime:"now",myPosition:"left top",atPosition:"left bottom",onHourShow:null,onMinuteShow:null,hours:{starts:0,ends:23},minutes:{starts:0,ends:55,interval:5},rows:4,showHours:!0,showMinutes:!0,optionalMinutes:!1,showCloseButton:!1,showNowButton:!1,showDeselectButton:!1},$.extend(this._defaults,this.regional[""]),this.tpDiv=$('<div id="'+this._mainDivId+'" class="ui-timepicker ui-widget ui-helper-clearfix ui-corner-all " style="display: none"></div>')}function extendRemove(t,e){$.extend(t,e);for(var n in e)(null==e[n]||void 0==e[n])&&(t[n]=e[n]);return t}$.extend($.ui,{timepicker:{version:"0.3.2"}});var PROP_NAME="timepicker",tpuuid=(new Date).getTime();$.extend(Timepicker.prototype,{markerClassName:"hasTimepicker",log:function(){this.debug&&console.log.apply("",arguments)},_widgetTimepicker:function(){return this.tpDiv},setDefaults:function(t){return extendRemove(this._defaults,t||{}),this},_attachTimepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("time:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline="div"==nodeName||"span"==nodeName;target.id||(this.uuid+=1,target.id="tp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),"input"==nodeName?(this._connectTimepicker(target,inst),this._setTimeFromField(inst)):inline&&this._inlineTimepicker(target,inst)},_newInst:function(t,e){var n=t[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:n,input:t,inline:e,tpDiv:e?$('<div class="'+this._inlineClass+' ui-timepicker ui-widget  ui-helper-clearfix"></div>'):this.tpDiv}},_connectTimepicker:function(t,e){var n=$(t);e.append=$([]),e.trigger=$([]),n.hasClass(this.markerClassName)||(this._attachments(n,e),n.addClass(this.markerClassName).keydown(this._doKeyDown).keyup(this._doKeyUp).bind("setData.timepicker",function(t,n,i){e.settings[n]=i}).bind("getData.timepicker",function(t,n){return this._get(e,n)}),$.data(t,PROP_NAME,e))},_doKeyDown:function(t){var e=$.timepicker._getInst(t.target),n=!0;if(e._keyEvent=!0,$.timepicker._timepickerShowing)switch(t.keyCode){case 9:$.timepicker._hideTimepicker(),n=!1;break;case 13:return $.timepicker._updateSelectedValue(e),$.timepicker._hideTimepicker(),!1;case 27:$.timepicker._hideTimepicker();break;default:n=!1}else 36==t.keyCode&&t.ctrlKey?$.timepicker._showTimepicker(this):n=!1;n&&(t.preventDefault(),t.stopPropagation())},_doKeyUp:function(t){var e=$.timepicker._getInst(t.target);$.timepicker._setTimeFromField(e),$.timepicker._updateTimepicker(e)},_attachments:function(t,e){var n=this._get(e,"appendText"),i=this._get(e,"isRTL");e.append&&e.append.remove(),n&&(e.append=$('<span class="'+this._appendClass+'">'+n+"</span>"),t[i?"before":"after"](e.append)),t.unbind("focus.timepicker",this._showTimepicker),t.unbind("click.timepicker",this._adjustZIndex),e.trigger&&e.trigger.remove();var o=this._get(e,"showOn");if(("focus"==o||"both"==o)&&(t.bind("focus.timepicker",this._showTimepicker),t.bind("click.timepicker",this._adjustZIndex)),"button"==o||"both"==o){var r=this._get(e,"button");$(r).bind("click.timepicker",function(){return $.timepicker._timepickerShowing&&$.timepicker._lastInput==t[0]?$.timepicker._hideTimepicker():e.input.is(":disabled")||$.timepicker._showTimepicker(t[0]),!1})}},_inlineTimepicker:function(t,e){var n=$(t);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(e.tpDiv).bind("setData.timepicker",function(t,n,i){e.settings[n]=i}).bind("getData.timepicker",function(t,n){return this._get(e,n)}),$.data(t,PROP_NAME,e),this._setTimeFromField(e),this._updateTimepicker(e),e.tpDiv.show())},_adjustZIndex:function(t){t=t.target||t;var e=$.timepicker._getInst(t);e.tpDiv.css("zIndex",$.timepicker._getZIndex(t)+1)},_showTimepicker:function(t){if(t=t.target||t,"input"!=t.nodeName.toLowerCase()&&(t=$("input",t.parentNode)[0]),!$.timepicker._isDisabledTimepicker(t)&&$.timepicker._lastInput!=t){$.timepicker._hideTimepicker();var e=$.timepicker._getInst(t);$.timepicker._curInst&&$.timepicker._curInst!=e&&$.timepicker._curInst.tpDiv.stop(!0,!0);var n=$.timepicker._get(e,"beforeShow");extendRemove(e.settings,n?n.apply(t,[t,e]):{}),e.lastVal=null,$.timepicker._lastInput=t,$.timepicker._setTimeFromField(e),$.timepicker._inDialog&&(t.value=""),$.timepicker._pos||($.timepicker._pos=$.timepicker._findPos(t),$.timepicker._pos[1]+=t.offsetHeight);var i=!1;$(t).parents().each(function(){return i|="fixed"==$(this).css("position"),!i}),i&&$.browser.opera&&($.timepicker._pos[0]-=document.documentElement.scrollLeft,$.timepicker._pos[1]-=document.documentElement.scrollTop);var o={left:$.timepicker._pos[0],top:$.timepicker._pos[1]};if($.timepicker._pos=null,e.tpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.timepicker._updateTimepicker(e),!e.inline&&"object"==typeof $.ui.position){e.tpDiv.position({of:e.input,my:$.timepicker._get(e,"myPosition"),at:$.timepicker._get(e,"atPosition"),collision:"flip"});var o=e.tpDiv.offset();$.timepicker._pos=[o.top,o.left]}if(e._hoursClicked=!1,e._minutesClicked=!1,o=$.timepicker._checkOffset(e,o,i),e.tpDiv.css({position:$.timepicker._inDialog&&$.blockUI?"static":i?"fixed":"absolute",display:"none",left:o.left+"px",top:o.top+"px"}),!e.inline){var r=$.timepicker._get(e,"showAnim"),s=$.timepicker._get(e,"duration"),a=function(){$.timepicker._timepickerShowing=!0;var t=$.timepicker._getBorders(e.tpDiv);e.tpDiv.find("iframe.ui-timepicker-cover").css({left:-t[0],top:-t[1],width:e.tpDiv.outerWidth(),height:e.tpDiv.outerHeight()})};$.timepicker._adjustZIndex(t),$.effects&&$.effects[r]?e.tpDiv.show(r,$.timepicker._get(e,"showOptions"),s,a):e.tpDiv.show(r?s:null,a),r&&s||a(),e.input.is(":visible")&&!e.input.is(":disabled")&&e.input.focus(),$.timepicker._curInst=e}}},_getZIndex:function(t){for(var e,n,i=$(t);i.length&&i[0]!==document;){if(e=i.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(n=parseInt(i.css("zIndex"),10),!isNaN(n)&&0!==n))return n;i=i.parent()}},_refreshTimepicker:function(t){var e=this._getInst(t);e&&this._updateTimepicker(e)},_updateTimepicker:function(t){t.tpDiv.empty().append(this._generateHTML(t)),this._rebindDialogEvents(t)},_rebindDialogEvents:function(t){var e=$.timepicker._getBorders(t.tpDiv),n=this;t.tpDiv.find("iframe.ui-timepicker-cover").css({left:-e[0],top:-e[1],width:t.tpDiv.outerWidth(),height:t.tpDiv.outerHeight()}).end().find(".ui-timepicker-minute-cell").unbind().bind("click",{fromDoubleClick:!1},$.proxy($.timepicker.selectMinutes,this)).bind("dblclick",{fromDoubleClick:!0},$.proxy($.timepicker.selectMinutes,this)).end().find(".ui-timepicker-hour-cell").unbind().bind("click",{fromDoubleClick:!1},$.proxy($.timepicker.selectHours,this)).bind("dblclick",{fromDoubleClick:!0},$.proxy($.timepicker.selectHours,this)).end().find(".ui-timepicker td a").unbind().bind("mouseout",function(){$(this).removeClass("ui-state-hover"),-1!=this.className.indexOf("ui-timepicker-prev")&&$(this).removeClass("ui-timepicker-prev-hover"),-1!=this.className.indexOf("ui-timepicker-next")&&$(this).removeClass("ui-timepicker-next-hover")}).bind("mouseover",function(){n._isDisabledTimepicker(t.inline?t.tpDiv.parent()[0]:t.input[0])||($(this).parents(".ui-timepicker-calendar").find("a").removeClass("ui-state-hover"),$(this).addClass("ui-state-hover"),-1!=this.className.indexOf("ui-timepicker-prev")&&$(this).addClass("ui-timepicker-prev-hover"),-1!=this.className.indexOf("ui-timepicker-next")&&$(this).addClass("ui-timepicker-next-hover"))}).end().find("."+this._dayOverClass+" a").trigger("mouseover").end().find(".ui-timepicker-now").bind("click",function(t){$.timepicker.selectNow(t)}).end().find(".ui-timepicker-deselect").bind("click",function(t){$.timepicker.deselectTime(t)}).end().find(".ui-timepicker-close").bind("click",function(t){$.timepicker._hideTimepicker()}).end()},_generateHTML:function(t){var e,n,i,o,r=1==this._get(t,"showPeriod"),s=1==this._get(t,"showPeriodLabels"),a=1==this._get(t,"showLeadingZero"),l=1==this._get(t,"showHours"),u=1==this._get(t,"showMinutes"),c=this._get(t,"amPmText"),h=this._get(t,"rows"),d=0,f=0,p=0,m=0,g=0,v=0,y=Array(),w=this._get(t,"hours"),b=null,C=0,k=this._get(t,"hourText"),x=this._get(t,"showCloseButton"),_=this._get(t,"closeButtonText"),T=this._get(t,"showNowButton"),S=this._get(t,"nowButtonText"),E=this._get(t,"showDeselectButton"),D=this._get(t,"deselectButtonText"),R=x||T||E;for(e=w.starts;e<=w.ends;e++)y.push(e);if(b=Math.ceil(y.length/h),s){for(C=0;C<y.length;C++)y[C]<12?p++:m++;C=0,d=Math.floor(p/y.length*h),f=Math.floor(m/y.length*h),h!=d+f&&(p&&(!m||!d||f&&p/d>=m/f)?d++:f++),g=Math.min(d,1),v=d+1,b=0==d?Math.ceil(m/f):0==f?Math.ceil(p/d):Math.ceil(Math.max(p/d,m/f))}if(o='<table class="ui-timepicker-table ui-widget-content ui-corner-all"><tr>',l){for(o+='<td class="ui-timepicker-hours"><div class="ui-timepicker-title ui-widget-header ui-helper-clearfix ui-corner-all">'+k+'</div><table class="ui-timepicker">',n=1;h>=n;n++){for(o+="<tr>",n==g&&s&&(o+='<th rowspan="'+d.toString()+'" class="periods" scope="row">'+c[0]+"</th>"),n==v&&s&&(o+='<th rowspan="'+f.toString()+'" class="periods" scope="row">'+c[1]+"</th>"),i=1;b>=i;i++)s&&v>n&&y[C]>=12?o+=this._generateHTMLHourCell(t,void 0,r,a):(o+=this._generateHTMLHourCell(t,y[C],r,a),C++);o+="</tr>"}o+="</table></td>"}if(u&&(o+='<td class="ui-timepicker-minutes">',o+=this._generateHTMLMinutes(t),o+="</td>"),o+="</tr>",R){var M='<tr><td colspan="3"><div class="ui-timepicker-buttonpane ui-widget-content">';T&&(M+='<button type="button" class="ui-timepicker-now ui-state-default ui-corner-all"  data-timepicker-instance-id="#'+t.id.replace(/\\\\/g,"\\")+'" >'+S+"</button>"),E&&(M+='<button type="button" class="ui-timepicker-deselect ui-state-default ui-corner-all"  data-timepicker-instance-id="#'+t.id.replace(/\\\\/g,"\\")+'" >'+D+"</button>"),x&&(M+='<button type="button" class="ui-timepicker-close ui-state-default ui-corner-all"  data-timepicker-instance-id="#'+t.id.replace(/\\\\/g,"\\")+'" >'+_+"</button>"),o+=M+"</div></td></tr>"}return o+="</table>"},_updateMinuteDisplay:function(t){var e=this._generateHTMLMinutes(t);t.tpDiv.find("td.ui-timepicker-minutes").html(e),this._rebindDialogEvents(t)},_generateHTMLMinutes:function(t){var e,n,i="",o=this._get(t,"rows"),r=Array(),s=this._get(t,"minutes"),a=null,l=0,u=1==this._get(t,"showMinutesLeadingZero"),c=this._get(t,"onMinuteShow"),h=this._get(t,"minuteText");for(s.starts||(s.starts=0),s.ends||(s.ends=59),e=s.starts;e<=s.ends;e+=s.interval)r.push(e);if(a=Math.round(r.length/o+.49),c&&0==c.apply(t.input?t.input[0]:null,[t.hours,t.minutes]))for(l=0;l<r.length;l+=1)if(e=r[l],c.apply(t.input?t.input[0]:null,[t.hours,e])){t.minutes=e;break}for(i+='<div class="ui-timepicker-title ui-widget-header ui-helper-clearfix ui-corner-all">'+h+'</div><table class="ui-timepicker">',l=0,n=1;o>=n;n++){for(i+="<tr>";n*a>l;){var e=r[l],d="";void 0!==e&&(d=10>e&&u?"0"+e.toString():e.toString()),i+=this._generateHTMLMinuteCell(t,e,d),l++}i+="</tr>"}return i+="</table>"},_generateHTMLHourCell:function(t,e,n,i){var o=e;e>12&&n&&(o=e-12),0==o&&n&&(o=12),10>o&&i&&(o="0"+o);var r="",s=!0,a=this._get(t,"onHourShow");return void 0==e?r='<td><span class="ui-state-default ui-state-disabled">&nbsp;</span></td>':(a&&(s=a.apply(t.input?t.input[0]:null,[e])),r=s?'<td class="ui-timepicker-hour-cell" data-timepicker-instance-id="#'+t.id.replace(/\\\\/g,"\\")+'" data-hour="'+e.toString()+'"><a class="ui-state-default '+(e==t.hours?"ui-state-active":"")+'">'+o.toString()+"</a></td>":'<td><span class="ui-state-default ui-state-disabled '+(e==t.hours?" ui-state-active ":" ")+'">'+o.toString()+"</span></td>")},_generateHTMLMinuteCell:function(t,e,n){var i="",o=!0,r=this._get(t,"onMinuteShow");return r&&(o=r.apply(t.input?t.input[0]:null,[t.hours,e])),i=void 0==e?'<td><span class="ui-state-default ui-state-disabled">&nbsp;</span></td>':o?'<td class="ui-timepicker-minute-cell" data-timepicker-instance-id="#'+t.id.replace(/\\\\/g,"\\")+'" data-minute="'+e.toString()+'" ><a class="ui-state-default '+(e==t.minutes?"ui-state-active":"")+'" >'+n+"</a></td>":'<td><span class="ui-state-default ui-state-disabled" >'+n+"</span></td>"},_destroyTimepicker:function(t){var e=$(t),n=$.data(t,PROP_NAME);if(e.hasClass(this.markerClassName)){var i=t.nodeName.toLowerCase();$.removeData(t,PROP_NAME),"input"==i?(n.append.remove(),n.trigger.remove(),e.removeClass(this.markerClassName).unbind("focus.timepicker",this._showTimepicker).unbind("click.timepicker",this._adjustZIndex)):("div"==i||"span"==i)&&e.removeClass(this.markerClassName).empty()}},_enableTimepicker:function(t){var e=$(t),n=e.attr("id"),i=$.data(t,PROP_NAME);if(e.hasClass(this.markerClassName)){var o=t.nodeName.toLowerCase();if("input"==o){t.disabled=!1;var r=this._get(i,"button");$(r).removeClass("ui-state-disabled").disabled=!1,i.trigger.filter("button").each(function(){this.disabled=!1}).end()}else if("div"==o||"span"==o){var s=e.children("."+this._inlineClass);s.children().removeClass("ui-state-disabled"),s.find("button").each(function(){this.disabled=!1})}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==n?null:t})}},_disableTimepicker:function(t){var e=$(t),n=$.data(t,PROP_NAME);if(e.hasClass(this.markerClassName)){var i=t.nodeName.toLowerCase();if("input"==i){var o=this._get(n,"button");$(o).addClass("ui-state-disabled").disabled=!0,t.disabled=!0,n.trigger.filter("button").each(function(){this.disabled=!0}).end()}else if("div"==i||"span"==i){var r=e.children("."+this._inlineClass);r.children().addClass("ui-state-disabled"),r.find("button").each(function(){this.disabled=!0})}this._disabledInputs=$.map(this._disabledInputs,function(e){return e==t?null:e}),this._disabledInputs[this._disabledInputs.length]=e.attr("id")}},_isDisabledTimepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]==t)return!0;return!1},_checkOffset:function(t,e,n){var i=t.tpDiv.outerWidth(),o=t.tpDiv.outerHeight(),r=t.input?t.input.outerWidth():0,s=t.input?t.input.outerHeight():0,a=document.documentElement.clientWidth+$(document).scrollLeft(),l=document.documentElement.clientHeight+$(document).scrollTop();return e.left-=this._get(t,"isRTL")?i-r:0,e.left-=n&&e.left==t.input.offset().left?$(document).scrollLeft():0,e.top-=n&&e.top==t.input.offset().top+s?$(document).scrollTop():0,e.left-=Math.min(e.left,e.left+i>a&&a>i?Math.abs(e.left+i-a):0),e.top-=Math.min(e.top,e.top+o>l&&l>o?Math.abs(o+s):0),e},_findPos:function(t){for(var e=this._getInst(t),n=this._get(e,"isRTL");t&&("hidden"==t.type||1!=t.nodeType);)t=t[n?"previousSibling":"nextSibling"];var i=$(t).offset();return[i.left,i.top]},_getBorders:function(t){var e=function(t){return{thin:1,medium:2,thick:3}[t]||t};return[parseFloat(e(t.css("border-left-width"))),parseFloat(e(t.css("border-top-width")))]},_checkExternalClick:function(t){if($.timepicker._curInst){var e=$(t.target);e[0].id==$.timepicker._mainDivId||0!=e.parents("#"+$.timepicker._mainDivId).length||e.hasClass($.timepicker.markerClassName)||e.hasClass($.timepicker._triggerClass)||!$.timepicker._timepickerShowing||$.timepicker._inDialog&&$.blockUI||$.timepicker._hideTimepicker()}},_hideTimepicker:function(t){var e=this._curInst;if(e&&(!t||e==$.data(t,PROP_NAME))&&this._timepickerShowing){var n=this._get(e,"showAnim"),i=this._get(e,"duration"),o=function(){$.timepicker._tidyDialog(e),this._curInst=null};$.effects&&$.effects[n]?e.tpDiv.hide(n,$.timepicker._get(e,"showOptions"),i,o):e.tpDiv["slideDown"==n?"slideUp":"fadeIn"==n?"fadeOut":"hide"](n?i:null,o),n||o(),this._timepickerShowing=!1,this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.tpDiv))),this._inDialog=!1;var r=this._get(e,"onClose");r&&r.apply(e.input?e.input[0]:null,[e.input?e.input.val():"",e])}},_tidyDialog:function(t){t.tpDiv.removeClass(this._dialogClass).unbind(".ui-timepicker")},_getInst:function(t){try{return $.data(t,PROP_NAME)}catch(e){throw"Missing instance data for this timepicker"}},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setTimeFromField:function(t){if(t.input.val()!=t.lastVal){var e=this._get(t,"defaultTime"),n="now"==e?this._getCurrentTimeRounded(t):e;if(0==t.inline&&""!=t.input.val()&&(n=t.input.val()),n instanceof Date)t.hours=n.getHours(),t.minutes=n.getMinutes();else{var i=t.lastVal=n;if(""==n)t.hours=-1,t.minutes=-1;else{var o=this.parseTime(t,i);t.hours=o.hours,t.minutes=o.minutes}}$.timepicker._updateTimepicker(t)}},_optionTimepicker:function(t,e,n){var i=this._getInst(t);if(2==arguments.length&&"string"==typeof e)return"defaults"==e?$.extend({},$.timepicker._defaults):i?"all"==e?$.extend({},i.settings):this._get(i,e):null;var o=e||{};"string"==typeof e&&(o={},o[e]=n),i&&(this._curInst==i&&this._hideTimepicker(),extendRemove(i.settings,o),this._updateTimepicker(i))},_setTimeTimepicker:function(t,e){var n=this._getInst(t);n&&(this._setTime(n,e),this._updateTimepicker(n),this._updateAlternate(n,e))},_setTime:function(t,e,n){var i=t.hours,o=t.minutes;if(e instanceof Date)t.hours=e.getHours(),t.minutes=e.getMinutes();else{var e=this.parseTime(t,e);t.hours=e.hours,t.minutes=e.minutes}i==t.hours&&o==t.minutes||n||t.input.trigger("change"),this._updateTimepicker(t),this._updateSelectedValue(t)},_getCurrentTimeRounded:function(t){var e=new Date,n=e.getMinutes(),i=5*Math.round(n/5);return e.setMinutes(i),e},parseTime:function(t,e){var n=new Object;if(n.hours=-1,n.minutes=-1,!e)return"";var i=this._get(t,"timeSeparator"),o=this._get(t,"amPmText"),r=this._get(t,"showHours"),s=this._get(t,"showMinutes"),a=this._get(t,"optionalMinutes"),l=1==this._get(t,"showPeriod"),u=e.indexOf(i);if(-1!=u?(n.hours=parseInt(e.substr(0,u),10),n.minutes=parseInt(e.substr(u+1),10)):!r||s&&!a?!r&&s&&(n.minutes=parseInt(e,10)):n.hours=parseInt(e,10),r){var c=e.toUpperCase();n.hours<12&&l&&-1!=c.indexOf(o[1].toUpperCase())&&(n.hours+=12),12==n.hours&&l&&-1!=c.indexOf(o[0].toUpperCase())&&(n.hours=0)}return n},selectNow:function(t){var e=$(t.target).attr("data-timepicker-instance-id"),n=$(e),i=this._getInst(n[0]),o=new Date;i.hours=o.getHours(),i.minutes=o.getMinutes(),this._updateSelectedValue(i),this._updateTimepicker(i),this._hideTimepicker()},deselectTime:function(t){var e=$(t.target).attr("data-timepicker-instance-id"),n=$(e),i=this._getInst(n[0]);i.hours=-1,i.minutes=-1,this._updateSelectedValue(i),this._hideTimepicker()},selectHours:function(t){var e=$(t.currentTarget),n=e.attr("data-timepicker-instance-id"),i=parseInt(e.attr("data-hour")),o=t.data.fromDoubleClick,r=$(n),s=this._getInst(r[0]),a=1==this._get(s,"showMinutes");if($.timepicker._isDisabledTimepicker(r.attr("id")))return!1;e.parents(".ui-timepicker-hours:first").find("a").removeClass("ui-state-active"),e.children("a").addClass("ui-state-active"),s.hours=i;var l=this._get(s,"onMinuteShow");return l&&this._updateMinuteDisplay(s),this._updateSelectedValue(s),s._hoursClicked=!0,(s._minutesClicked||o||0==a)&&$.timepicker._hideTimepicker(),!1},selectMinutes:function(t){var e=$(t.currentTarget),n=e.attr("data-timepicker-instance-id"),i=parseInt(e.attr("data-minute")),o=t.data.fromDoubleClick,r=$(n),s=this._getInst(r[0]),a=1==this._get(s,"showHours");return $.timepicker._isDisabledTimepicker(r.attr("id"))?!1:(e.parents(".ui-timepicker-minutes:first").find("a").removeClass("ui-state-active"),e.children("a").addClass("ui-state-active"),s.minutes=i,this._updateSelectedValue(s),s._minutesClicked=!0,s._hoursClicked||o||0==a?($.timepicker._hideTimepicker(),!1):!1)},_updateSelectedValue:function(t){var e=this._getParsedTime(t);t.input&&(t.input.val(e),t.input.trigger("change"));var n=this._get(t,"onSelect");return n&&n.apply(t.input?t.input[0]:null,[e,t]),this._updateAlternate(t,e),e},_getParsedTime:function(t){if(-1==t.hours&&-1==t.minutes)return"";(t.hours<t.hours.starts||t.hours>t.hours.ends)&&(t.hours=0),(t.minutes<t.minutes.starts||t.minutes>t.minutes.ends)&&(t.minutes=0);var e="",n=1==this._get(t,"showPeriod"),i=1==this._get(t,"showLeadingZero"),o=1==this._get(t,"showHours"),r=1==this._get(t,"showMinutes"),s=1==this._get(t,"optionalMinutes"),a=this._get(t,"amPmText"),l=t.hours?t.hours:0,u=t.minutes?t.minutes:0,c=l?l:0,h="";-1==c&&(c=0),-1==u&&(u=0),n&&(0==t.hours&&(c=12),t.hours<12?e=a[0]:(e=a[1],c>12&&(c-=12)));var d=c.toString();i&&10>c&&(d="0"+d);var f=u.toString();return 10>u&&(f="0"+f),o&&(h+=d),!o||!r||s&&0==f||(h+=this._get(t,"timeSeparator")),!r||s&&0==f||(h+=f),o&&e.length>0&&(h+=this._get(t,"periodSeparator")+e),h},_updateAlternate:function(t,e){var n=this._get(t,"altField");n&&$(n).each(function(t,n){$(n).val(e)})},_getTimeAsDateTimepicker:function(t){var e=this._getInst(t);return-1==e.hours&&-1==e.minutes?"":((e.hours<e.hours.starts||e.hours>e.hours.ends)&&(e.hours=0),(e.minutes<e.minutes.starts||e.minutes>e.minutes.ends)&&(e.minutes=0),new Date(0,0,0,e.hours,e.minutes,0))},_getTimeTimepicker:function(t){var e=this._getInst(t);return this._getParsedTime(e)},_getHourTimepicker:function(t){var e=this._getInst(t);return void 0==e?-1:e.hours},_getMinuteTimepicker:function(t){var e=this._getInst(t);return void 0==e?-1:e.minutes}}),$.fn.timepicker=function(t){$.timepicker.initialized||($(document).mousedown($.timepicker._checkExternalClick).find("body").append($.timepicker.tpDiv),$.timepicker.initialized=!0);var e=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"getTime"!=t&&"getTimeAsDate"!=t&&"getHour"!=t&&"getMinute"!=t?"option"==t&&2==arguments.length&&"string"==typeof arguments[1]?$.timepicker["_"+t+"Timepicker"].apply($.timepicker,[this[0]].concat(e)):this.each(function(){"string"==typeof t?$.timepicker["_"+t+"Timepicker"].apply($.timepicker,[this].concat(e)):$.timepicker._attachTimepicker(this,t)}):$.timepicker["_"+t+"Timepicker"].apply($.timepicker,[this[0]].concat(e))},$.timepicker=new Timepicker,$.timepicker.initialized=!1,$.timepicker.uuid=(new Date).getTime(),$.timepicker.version="0.3.2",window["TP_jQuery_"+tpuuid]=$}(jQuery),function(t){window.NestedFormEvents=function(){this.addFields=t.proxy(this.addFields,this),this.removeFields=t.proxy(this.removeFields,this)},NestedFormEvents.prototype={addFields:function(e){var n=e.currentTarget,i=t(n).data("association"),o=t("#"+t(n).data("blueprint-id")),r=o.data("blueprint"),s=(t(n).closest(".fields").closestChild("input, textarea, select").eq(0).attr("name")||"").replace(new RegExp("[[a-z_]+]$"),"");if(s)for(var a=s.match(/[a-z_]+_attributes(?=\]\[(new_)?\d+\])/g)||[],l=s.match(/[0-9]+/g)||[],u=0;u<a.length;u++)l[u]&&(r=r.replace(new RegExp("(_"+a[u]+")_.+?_","g"),"$1_"+l[u]+"_"),r=r.replace(new RegExp("(\\["+a[u]+"\\])\\[.+?\\]","g"),"$1["+l[u]+"]"));var c=new RegExp("new_"+i,"g"),h=this.newId();r=t.trim(r.replace(c,h));var d=this.insertFields(r,i,n);return d.trigger({type:"nested:fieldAdded",field:d}).trigger({type:"nested:fieldAdded:"+i,field:d}),!1},newId:function(){return(new Date).getTime()},insertFields:function(e,n,i){var o=t(i).data("target");return o?t(e).appendTo(t(o)):t(e).insertBefore(i)},removeFields:function(e){var n=t(e.currentTarget),i=n.data("association"),o=n.prev("input[type=hidden]");o.val("1");var r=n.closest(".fields");return r.hide(),r.trigger({type:"nested:fieldRemoved",field:r}).trigger({type:"nested:fieldRemoved:"+i,field:r}),!1}},window.nestedFormEvents=new NestedFormEvents,t(document).delegate("form a.add_nested_fields","click",nestedFormEvents.addFields).delegate("form a.remove_nested_fields","click",nestedFormEvents.removeFields)}(jQuery),/*
 * Copyright 2011, Tobias Lindig
 *
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 *
 */
function(t){t.fn.closestChild=function(e){if(e&&""!=e){var n=[];for(n.push(this);n.length>0;)for(var i=n.shift(),o=i.children(),r=0;r<o.length;++r){var s=t(o[r]);if(s.is(e))return s;n.push(s)}}return t()}}(jQuery),/*! jstz - v1.0.4 - 2012-12-12 */
function(t){var e=function(){"use strict";var t="s",n=function(t){var e=-t.getTimezoneOffset();return null!==e?e:0},i=function(t,e,n){var i=new Date;return void 0!==t&&i.setFullYear(t),i.setDate(n),i.setMonth(e),i},o=function(t){return n(i(t,0,2))},r=function(t){return n(i(t,5,2))},s=function(t){var e=t.getMonth()>7?r(t.getFullYear()):o(t.getFullYear()),i=n(t);return e-i!==0},a=function(){var e=o(),n=r(),i=o()-r();return 0>i?e+",1":i>0?n+",1,"+t:e+",0"},l=function(){var t=a();return new e.TimeZone(e.olson.timezones[t])};return{determine:l,date_is_dst:s}}();e.TimeZone=function(t){"use strict";var n=null,i=function(){return n},o=function(){for(var t=e.olson.ambiguity_list[n],i=t.length,o=0,r=t[0];i>o;o+=1)if(r=t[o],e.date_is_dst(e.olson.dst_start_dates[r]))return void(n=r)},r=function(){return"undefined"!=typeof e.olson.ambiguity_list[n]};return n=t,r()&&o(),{name:i}},e.olson={},e.olson.timezones={"-720,0":"Etc/GMT+12","-660,0":"Pacific/Pago_Pago","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Santiago","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"Etc/GMT+2","-120,1":"Etc/GMT+2","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"Etc/UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Tarawa","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"},e.olson.dst_start_dates=function(){"use strict";var t=new Date(2010,6,15,1,0,0,0);return{"America/Denver":new Date(2011,2,13,3,0,0,0),"America/Mazatlan":new Date(2011,3,3,3,0,0,0),"America/Chicago":new Date(2011,2,13,3,0,0,0),"America/Mexico_City":new Date(2011,3,3,3,0,0,0),"America/Asuncion":new Date(2012,9,7,3,0,0,0),"America/Santiago":new Date(2012,9,3,3,0,0,0),"America/Campo_Grande":new Date(2012,9,21,5,0,0,0),"America/Montevideo":new Date(2011,9,2,3,0,0,0),"America/Sao_Paulo":new Date(2011,9,16,5,0,0,0),"America/Los_Angeles":new Date(2011,2,13,8,0,0,0),"America/Santa_Isabel":new Date(2011,3,5,8,0,0,0),"America/Havana":new Date(2012,2,10,2,0,0,0),"America/New_York":new Date(2012,2,10,7,0,0,0),"Asia/Beirut":new Date(2011,2,27,1,0,0,0),"Europe/Helsinki":new Date(2011,2,27,4,0,0,0),"Europe/Istanbul":new Date(2011,2,28,5,0,0,0),"Asia/Damascus":new Date(2011,3,1,2,0,0,0),"Asia/Jerusalem":new Date(2011,3,1,6,0,0,0),"Asia/Gaza":new Date(2009,2,28,0,30,0,0),"Africa/Cairo":new Date(2009,3,25,0,30,0,0),"Pacific/Auckland":new Date(2011,8,26,7,0,0,0),"Pacific/Fiji":new Date(2010,11,29,23,0,0,0),"America/Halifax":new Date(2011,2,13,6,0,0,0),"America/Goose_Bay":new Date(2011,2,13,2,1,0,0),"America/Miquelon":new Date(2011,2,13,5,0,0,0),"America/Godthab":new Date(2011,2,27,1,0,0,0),"Europe/Moscow":t,"Asia/Yekaterinburg":t,"Asia/Omsk":t,"Asia/Krasnoyarsk":t,"Asia/Irkutsk":t,"Asia/Yakutsk":t,"Asia/Vladivostok":t,"Asia/Kamchatka":t,"Europe/Minsk":t,"Australia/Perth":new Date(2008,10,1,1,0,0,0)}}(),e.olson.ambiguity_list={"America/Denver":["America/Denver","America/Mazatlan"],"America/Chicago":["America/Chicago","America/Mexico_City"],"America/Santiago":["America/Santiago","America/Asuncion","America/Campo_Grande"],"America/Montevideo":["America/Montevideo","America/Sao_Paulo"],"Asia/Beirut":["Asia/Beirut","Europe/Helsinki","Europe/Istanbul","Asia/Damascus","Asia/Jerusalem","Asia/Gaza"],"Pacific/Auckland":["Pacific/Auckland","Pacific/Fiji"],"America/Los_Angeles":["America/Los_Angeles","America/Santa_Isabel"],"America/New_York":["America/Havana","America/New_York"],"America/Halifax":["America/Goose_Bay","America/Halifax"],"America/Godthab":["America/Miquelon","America/Godthab"],"Asia/Dubai":["Europe/Moscow"],"Asia/Dhaka":["Asia/Yekaterinburg"],"Asia/Jakarta":["Asia/Omsk"],"Asia/Shanghai":["Asia/Krasnoyarsk","Australia/Perth"],"Asia/Tokyo":["Asia/Irkutsk"],"Australia/Brisbane":["Asia/Yakutsk"],"Pacific/Noumea":["Asia/Vladivostok"],"Pacific/Tarawa":["Asia/Kamchatka"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"],"Asia/Baghdad":["Europe/Minsk"]},"undefined"!=typeof exports?exports.jstz=e:t.jstz=e}(this),function(t){var e=function(e,n){this.options=n,this.$elementFilestyle=[],this.$element=t(e)};e.prototype={clear:function(){this.$element.val(""),this.$elementFilestyle.find(":text").val(""),this.$elementFilestyle.find(".badge").remove()},destroy:function(){this.$element.removeAttr("style").removeData("filestyle").val(""),this.$elementFilestyle.remove()},disabled:function(t){if(t===!0)this.options.disabled||(this.$element.attr("disabled","true"),this.$elementFilestyle.find("label").attr("disabled","true"),this.options.disabled=!0);else{if(t!==!1)return this.options.disabled;this.options.disabled&&(this.$element.removeAttr("disabled"),this.$elementFilestyle.find("label").removeAttr("disabled"),this.options.disabled=!1)}},buttonBefore:function(t){if(t===!0)this.options.buttonBefore||(this.options.buttonBefore=!0,this.options.input&&(this.$elementFilestyle.remove(),this.constructor(),this.pushNameFiles()));else{if(t!==!1)return this.options.buttonBefore;this.options.buttonBefore&&(this.options.buttonBefore=!1,this.options.input&&(this.$elementFilestyle.remove(),this.constructor(),this.pushNameFiles()))}},icon:function(t){if(t===!0)this.options.icon||(this.options.icon=!0,this.$elementFilestyle.find("label").prepend(this.htmlIcon()));else{if(t!==!1)return this.options.icon;this.options.icon&&(this.options.icon=!1,this.$elementFilestyle.find(".glyphicon").remove())}},input:function(t){if(t===!0)this.options.input||(this.options.input=!0,this.options.buttonBefore?this.$elementFilestyle.append(this.htmlInput()):this.$elementFilestyle.prepend(this.htmlInput()),this.$elementFilestyle.find(".badge").remove(),this.pushNameFiles(),this.$elementFilestyle.find(".group-span-filestyle").addClass("input-group-btn"));else{if(t!==!1)return this.options.input;if(this.options.input){this.options.input=!1,this.$elementFilestyle.find(":text").remove();var e=this.pushNameFiles();e.length>0&&this.options.badge&&this.$elementFilestyle.find("label").append(' <span class="badge">'+e.length+"</span>"),this.$elementFilestyle.find(".group-span-filestyle").removeClass("input-group-btn")}}},size:function(t){if(void 0===t)return this.options.size;var e=this.$elementFilestyle.find("label"),n=this.$elementFilestyle.find("input");e.removeClass("btn-lg btn-sm"),n.removeClass("input-lg input-sm"),"nr"!=t&&(e.addClass("btn-"+t),n.addClass("input-"+t))},buttonText:function(t){return void 0===t?this.options.buttonText:(this.options.buttonText=t,void this.$elementFilestyle.find("label span").html(this.options.buttonText))},buttonName:function(t){return void 0===t?this.options.buttonName:(this.options.buttonName=t,void this.$elementFilestyle.find("label").attr({"class":"btn "+this.options.buttonName}))},iconName:function(t){return void 0===t?this.options.iconName:void this.$elementFilestyle.find(".glyphicon").attr({"class":".glyphicon "+this.options.iconName})},htmlIcon:function(){return this.options.icon?'<span class="glyphicon '+this.options.iconName+'"></span> ':""},htmlInput:function(){return this.options.input?'<input type="text" class="form-control '+("nr"==this.options.size?"":"input-"+this.options.size)+'" disabled> ':""},pushNameFiles:function(){var t="",e=[];void 0===this.$element[0].files?e[0]={name:this.$element[0]&&this.$element[0].value}:e=this.$element[0].files;for(var n=0;n<e.length;n++)t+=e[n].name.split("\\").pop()+", ";return""!==t?this.$elementFilestyle.find(":text").val(t.replace(/\, $/g,"")):this.$elementFilestyle.find(":text").val(""),e},constructor:function(){var e=this,n="",i=e.$element.attr("id"),o="";""!==i&&i||(i="filestyle-"+t(".bootstrap-filestyle").length,e.$element.attr({id:i})),o='<span class="group-span-filestyle '+(e.options.input?"input-group-btn":"")+'"><label for="'+i+'" class="btn '+e.options.buttonName+" "+("nr"==e.options.size?"":"btn-"+e.options.size)+'" '+(e.options.disabled?'disabled="true"':"")+">"+e.htmlIcon()+e.options.buttonText+"</label></span>",n=e.options.buttonBefore?o+e.htmlInput():e.htmlInput()+o,e.$elementFilestyle=t('<div class="bootstrap-filestyle input-group">'+n+"</div>"),e.$elementFilestyle.find(".group-span-filestyle").attr("tabindex","0").keypress(function(t){return 13===t.keyCode||32===t.charCode?(e.$elementFilestyle.find("label").click(),!1):void 0}),e.$element.css({position:"absolute",clip:"rect(0px 0px 0px 0px)"}).attr("tabindex","-1").after(e.$elementFilestyle),e.options.disabled&&e.$element.attr("disabled","true"),e.$element.change(function(){var t=e.pushNameFiles();0==e.options.input&&e.options.badge?0==e.$elementFilestyle.find(".badge").length?e.$elementFilestyle.find("label").append(' <span class="badge">'+t.length+"</span>"):0==t.length?e.$elementFilestyle.find(".badge").remove():e.$elementFilestyle.find(".badge").html(t.length):e.$elementFilestyle.find(".badge").remove()}),window.navigator.userAgent.search(/firefox/i)>-1&&e.$elementFilestyle.find("label").click(function(){return e.$element.click(),!1})}};var n=t.fn.filestyle;t.fn.filestyle=function(n,i){var o="",r=this.each(function(){if("file"===t(this).attr("type")){var r=t(this),s=r.data("filestyle"),a=t.extend({},t.fn.filestyle.defaults,n,"object"==typeof n&&n);s||(r.data("filestyle",s=new e(this,a)),s.constructor()),"string"==typeof n&&(o=s[n](i))}});return void 0!==typeof o?o:r},t.fn.filestyle.defaults={buttonText:"Choose file",iconName:"glyphicon-folder-open",buttonName:"btn-default",size:"nr",input:!0,badge:!0,icon:!0,buttonBefore:!1,disabled:!1},t.fn.filestyle.noConflict=function(){return t.fn.filestyle=n,this},t(function(){t(".filestyle").each(function(){var e=t(this),n={input:"false"===e.attr("data-input")?!1:!0,icon:"false"===e.attr("data-icon")?!1:!0,buttonBefore:"true"===e.attr("data-buttonBefore")?!0:!1,disabled:"true"===e.attr("data-disabled")?!0:!1,size:e.attr("data-size"),buttonText:e.attr("data-buttonText"),buttonName:e.attr("data-buttonName"),iconName:e.attr("data-iconName"),badge:"false"===e.attr("data-badge")?!1:!0};e.filestyle(n)})})}(window.jQuery),function(){function t(t){function e(e,n,i,o,r,s){for(;r>=0&&s>r;r+=t){var a=o?o[r]:r;i=n(i,e[a],a,e)}return i}return function(n,i,o,r){i=w(i,r,4);var s=!S(n)&&y.keys(n),a=(s||n).length,l=t>0?0:a-1;return arguments.length<3&&(o=n[s?s[l]:l],l+=t),e(n,i,o,s,l,a)}}function e(t){return function(e,n,i){n=b(n,i);for(var o=T(e),r=t>0?0:o-1;r>=0&&o>r;r+=t)if(n(e[r],r,e))return r;return-1}}function n(t,e,n){return function(i,o,r){var s=0,a=T(i);if("number"==typeof r)t>0?s=r>=0?r:Math.max(r+a,s):a=r>=0?Math.min(r+1,a):r+a+1;else if(n&&r&&a)return r=n(i,o),i[r]===o?r:-1;if(o!==o)return r=e(c.call(i,s,a),y.isNaN),r>=0?r+s:-1;for(r=t>0?s:a-1;r>=0&&a>r;r+=t)if(i[r]===o)return r;return-1}}function i(t,e){var n=A.length,i=t.constructor,o=y.isFunction(i)&&i.prototype||a,r="constructor";for(y.has(t,r)&&!y.contains(e,r)&&e.push(r);n--;)r=A[n],r in t&&t[r]!==o[r]&&!y.contains(e,r)&&e.push(r)}var o=this,r=o._,s=Array.prototype,a=Object.prototype,l=Function.prototype,u=s.push,c=s.slice,h=a.toString,d=a.hasOwnProperty,f=Array.isArray,p=Object.keys,m=l.bind,g=Object.create,v=function(){},y=function(t){return t instanceof y?t:this instanceof y?void(this._wrapped=t):new y(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):o._=y,y.VERSION="1.8.3";var w=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,o){return t.call(e,n,i,o)};case 4:return function(n,i,o,r){return t.call(e,n,i,o,r)}}return function(){return t.apply(e,arguments)}},b=function(t,e,n){return null==t?y.identity:y.isFunction(t)?w(t,e,n):y.isObject(t)?y.matcher(t):y.property(t)};y.iteratee=function(t,e){return b(t,e,1/0)};var C=function(t,e){return function(n){var i=arguments.length;if(2>i||null==n)return n;for(var o=1;i>o;o++)for(var r=arguments[o],s=t(r),a=s.length,l=0;a>l;l++){var u=s[l];e&&void 0!==n[u]||(n[u]=r[u])}return n}},k=function(t){if(!y.isObject(t))return{};if(g)return g(t);v.prototype=t;var e=new v;return v.prototype=null,e},x=function(t){return function(e){return null==e?void 0:e[t]}},_=Math.pow(2,53)-1,T=x("length"),S=function(t){var e=T(t);return"number"==typeof e&&e>=0&&_>=e};y.each=y.forEach=function(t,e,n){e=w(e,n);var i,o;if(S(t))for(i=0,o=t.length;o>i;i++)e(t[i],i,t);else{var r=y.keys(t);for(i=0,o=r.length;o>i;i++)e(t[r[i]],r[i],t)}return t},y.map=y.collect=function(t,e,n){e=b(e,n);for(var i=!S(t)&&y.keys(t),o=(i||t).length,r=Array(o),s=0;o>s;s++){var a=i?i[s]:s;r[s]=e(t[a],a,t)}return r},y.reduce=y.foldl=y.inject=t(1),y.reduceRight=y.foldr=t(-1),y.find=y.detect=function(t,e,n){var i;return i=S(t)?y.findIndex(t,e,n):y.findKey(t,e,n),void 0!==i&&-1!==i?t[i]:void 0},y.filter=y.select=function(t,e,n){var i=[];return e=b(e,n),y.each(t,function(t,n,o){e(t,n,o)&&i.push(t)}),i},y.reject=function(t,e,n){return y.filter(t,y.negate(b(e)),n)},y.every=y.all=function(t,e,n){e=b(e,n);for(var i=!S(t)&&y.keys(t),o=(i||t).length,r=0;o>r;r++){var s=i?i[r]:r;if(!e(t[s],s,t))return!1}return!0},y.some=y.any=function(t,e,n){e=b(e,n);for(var i=!S(t)&&y.keys(t),o=(i||t).length,r=0;o>r;r++){var s=i?i[r]:r;if(e(t[s],s,t))return!0}return!1},y.contains=y.includes=y.include=function(t,e,n,i){return S(t)||(t=y.values(t)),("number"!=typeof n||i)&&(n=0),y.indexOf(t,e,n)>=0},y.invoke=function(t,e){var n=c.call(arguments,2),i=y.isFunction(e);return y.map(t,function(t){var o=i?e:t[e];return null==o?o:o.apply(t,n)})},y.pluck=function(t,e){return y.map(t,y.property(e))},y.where=function(t,e){return y.filter(t,y.matcher(e))},y.findWhere=function(t,e){return y.find(t,y.matcher(e))},y.max=function(t,e,n){var i,o,r=-(1/0),s=-(1/0);if(null==e&&null!=t){t=S(t)?t:y.values(t);for(var a=0,l=t.length;l>a;a++)i=t[a],i>r&&(r=i)}else e=b(e,n),y.each(t,function(t,n,i){o=e(t,n,i),(o>s||o===-(1/0)&&r===-(1/0))&&(r=t,s=o)});return r},y.min=function(t,e,n){var i,o,r=1/0,s=1/0;if(null==e&&null!=t){t=S(t)?t:y.values(t);for(var a=0,l=t.length;l>a;a++)i=t[a],r>i&&(r=i)}else e=b(e,n),y.each(t,function(t,n,i){o=e(t,n,i),(s>o||o===1/0&&r===1/0)&&(r=t,s=o)});return r},y.shuffle=function(t){for(var e,n=S(t)?t:y.values(t),i=n.length,o=Array(i),r=0;i>r;r++)e=y.random(0,r),e!==r&&(o[r]=o[e]),o[e]=n[r];return o},y.sample=function(t,e,n){return null==e||n?(S(t)||(t=y.values(t)),t[y.random(t.length-1)]):y.shuffle(t).slice(0,Math.max(0,e))},y.sortBy=function(t,e,n){return e=b(e,n),y.pluck(y.map(t,function(t,n,i){return{value:t,index:n,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return t.index-e.index}),"value")};var E=function(t){return function(e,n,i){var o={};return n=b(n,i),y.each(e,function(i,r){var s=n(i,r,e);t(o,i,s)}),o}};y.groupBy=E(function(t,e,n){y.has(t,n)?t[n].push(e):t[n]=[e]}),y.indexBy=E(function(t,e,n){t[n]=e}),y.countBy=E(function(t,e,n){y.has(t,n)?t[n]++:t[n]=1}),y.toArray=function(t){return t?y.isArray(t)?c.call(t):S(t)?y.map(t,y.identity):y.values(t):[]},y.size=function(t){return null==t?0:S(t)?t.length:y.keys(t).length},y.partition=function(t,e,n){e=b(e,n);var i=[],o=[];return y.each(t,function(t,n,r){(e(t,n,r)?i:o).push(t)}),[i,o]},y.first=y.head=y.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:y.initial(t,t.length-e)},y.initial=function(t,e,n){return c.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},y.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:y.rest(t,Math.max(0,t.length-e))},y.rest=y.tail=y.drop=function(t,e,n){return c.call(t,null==e||n?1:e)},y.compact=function(t){return y.filter(t,y.identity)};var D=function(t,e,n,i){for(var o=[],r=0,s=i||0,a=T(t);a>s;s++){var l=t[s];if(S(l)&&(y.isArray(l)||y.isArguments(l))){e||(l=D(l,e,n));var u=0,c=l.length;for(o.length+=c;c>u;)o[r++]=l[u++]}else n||(o[r++]=l)}return o};y.flatten=function(t,e){return D(t,e,!1)},y.without=function(t){return y.difference(t,c.call(arguments,1))},y.uniq=y.unique=function(t,e,n,i){y.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=b(n,i));for(var o=[],r=[],s=0,a=T(t);a>s;s++){var l=t[s],u=n?n(l,s,t):l;e?(s&&r===u||o.push(l),r=u):n?y.contains(r,u)||(r.push(u),o.push(l)):y.contains(o,l)||o.push(l)}return o},y.union=function(){return y.uniq(D(arguments,!0,!0))},y.intersection=function(t){for(var e=[],n=arguments.length,i=0,o=T(t);o>i;i++){var r=t[i];if(!y.contains(e,r)){for(var s=1;n>s&&y.contains(arguments[s],r);s++);s===n&&e.push(r)}}return e},y.difference=function(t){var e=D(arguments,!0,!0,1);return y.filter(t,function(t){return!y.contains(e,t)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(t){for(var e=t&&y.max(t,T).length||0,n=Array(e),i=0;e>i;i++)n[i]=y.pluck(t,i);return n},y.object=function(t,e){for(var n={},i=0,o=T(t);o>i;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},y.findIndex=e(1),y.findLastIndex=e(-1),y.sortedIndex=function(t,e,n,i){n=b(n,i,1);for(var o=n(e),r=0,s=T(t);s>r;){var a=Math.floor((r+s)/2);n(t[a])<o?r=a+1:s=a}return r},y.indexOf=n(1,y.findIndex,y.sortedIndex),y.lastIndexOf=n(-1,y.findLastIndex),y.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),o=Array(i),r=0;i>r;r++,t+=n)o[r]=t;return o};var R=function(t,e,n,i,o){if(!(i instanceof e))return t.apply(n,o);var r=k(t.prototype),s=t.apply(r,o);return y.isObject(s)?s:r};y.bind=function(t,e){if(m&&t.bind===m)return m.apply(t,c.call(arguments,1));if(!y.isFunction(t))throw new TypeError("Bind must be called on a function");var n=c.call(arguments,2),i=function(){return R(t,i,e,this,n.concat(c.call(arguments)))};return i},y.partial=function(t){var e=c.call(arguments,1),n=function(){for(var i=0,o=e.length,r=Array(o),s=0;o>s;s++)r[s]=e[s]===y?arguments[i++]:e[s];for(;i<arguments.length;)r.push(arguments[i++]);return R(t,n,this,this,r)};return n},y.bindAll=function(t){var e,n,i=arguments.length;if(1>=i)throw new Error("bindAll must be passed function names");for(e=1;i>e;e++)n=arguments[e],t[n]=y.bind(t[n],t);return t},y.memoize=function(t,e){var n=function(i){var o=n.cache,r=""+(e?e.apply(this,arguments):i);return y.has(o,r)||(o[r]=t.apply(this,arguments)),o[r]};return n.cache={},n},y.delay=function(t,e){var n=c.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},y.defer=y.partial(y.delay,y,1),y.throttle=function(t,e,n){var i,o,r,s=null,a=0;n||(n={});var l=function(){a=n.leading===!1?0:y.now(),s=null,r=t.apply(i,o),s||(i=o=null)};return function(){var u=y.now();a||n.leading!==!1||(a=u);var c=e-(u-a);return i=this,o=arguments,0>=c||c>e?(s&&(clearTimeout(s),s=null),a=u,r=t.apply(i,o),s||(i=o=null)):s||n.trailing===!1||(s=setTimeout(l,c)),r}},y.debounce=function(t,e,n){var i,o,r,s,a,l=function(){var u=y.now()-s;e>u&&u>=0?i=setTimeout(l,e-u):(i=null,n||(a=t.apply(r,o),i||(r=o=null)))};return function(){r=this,o=arguments,s=y.now();var u=n&&!i;return i||(i=setTimeout(l,e)),u&&(a=t.apply(r,o),r=o=null),a}},y.wrap=function(t,e){return y.partial(e,t)},y.negate=function(t){return function(){return!t.apply(this,arguments)}},y.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},y.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},y.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=null),n}},y.once=y.partial(y.before,2);var M=!{toString:null}.propertyIsEnumerable("toString"),A=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(t){if(!y.isObject(t))return[];if(p)return p(t);var e=[];for(var n in t)y.has(t,n)&&e.push(n);return M&&i(t,e),e},y.allKeys=function(t){if(!y.isObject(t))return[];var e=[];for(var n in t)e.push(n);return M&&i(t,e),e},y.values=function(t){for(var e=y.keys(t),n=e.length,i=Array(n),o=0;n>o;o++)i[o]=t[e[o]];return i},y.mapObject=function(t,e,n){e=b(e,n);for(var i,o=y.keys(t),r=o.length,s={},a=0;r>a;a++)i=o[a],s[i]=e(t[i],i,t);return s},y.pairs=function(t){for(var e=y.keys(t),n=e.length,i=Array(n),o=0;n>o;o++)i[o]=[e[o],t[e[o]]];return i},y.invert=function(t){for(var e={},n=y.keys(t),i=0,o=n.length;o>i;i++)e[t[n[i]]]=n[i];return e},y.functions=y.methods=function(t){var e=[];for(var n in t)y.isFunction(t[n])&&e.push(n);return e.sort()},y.extend=C(y.allKeys),y.extendOwn=y.assign=C(y.keys),y.findKey=function(t,e,n){e=b(e,n);for(var i,o=y.keys(t),r=0,s=o.length;s>r;r++)if(i=o[r],e(t[i],i,t))return i},y.pick=function(t,e,n){var i,o,r={},s=t;if(null==s)return r;y.isFunction(e)?(o=y.allKeys(s),i=w(e,n)):(o=D(arguments,!1,!1,1),i=function(t,e,n){return e in n},s=Object(s));for(var a=0,l=o.length;l>a;a++){var u=o[a],c=s[u];i(c,u,s)&&(r[u]=c)}return r},y.omit=function(t,e,n){if(y.isFunction(e))e=y.negate(e);else{var i=y.map(D(arguments,!1,!1,1),String);e=function(t,e){return!y.contains(i,e)}}return y.pick(t,e,n)},y.defaults=C(y.allKeys,!0),y.create=function(t,e){var n=k(t);return e&&y.extendOwn(n,e),n},y.clone=function(t){return y.isObject(t)?y.isArray(t)?t.slice():y.extend({},t):t},y.tap=function(t,e){return e(t),t},y.isMatch=function(t,e){var n=y.keys(e),i=n.length;if(null==t)return!i;for(var o=Object(t),r=0;i>r;r++){var s=n[r];if(e[s]!==o[s]||!(s in o))return!1}return!0};var O=function(t,e,n,i){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof y&&(t=t._wrapped),e instanceof y&&(e=e._wrapped);var o=h.call(t);if(o!==h.call(e))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var r="[object Array]"===o;if(!r){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(y.isFunction(s)&&s instanceof s&&y.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],i=i||[];for(var l=n.length;l--;)if(n[l]===t)return i[l]===e;if(n.push(t),i.push(e),r){if(l=t.length,l!==e.length)return!1;for(;l--;)if(!O(t[l],e[l],n,i))return!1}else{var u,c=y.keys(t);if(l=c.length,y.keys(e).length!==l)return!1;for(;l--;)if(u=c[l],!y.has(e,u)||!O(t[u],e[u],n,i))return!1}return n.pop(),i.pop(),!0};y.isEqual=function(t,e){return O(t,e)},y.isEmpty=function(t){return null==t?!0:S(t)&&(y.isArray(t)||y.isString(t)||y.isArguments(t))?0===t.length:0===y.keys(t).length},y.isElement=function(t){return!(!t||1!==t.nodeType)},y.isArray=f||function(t){return"[object Array]"===h.call(t)},y.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){y["is"+t]=function(e){return h.call(e)==="[object "+t+"]"}}),y.isArguments(arguments)||(y.isArguments=function(t){return y.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(t){return"function"==typeof t||!1}),y.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},y.isNaN=function(t){return y.isNumber(t)&&t!==+t},y.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===h.call(t)},y.isNull=function(t){return null===t},y.isUndefined=function(t){return void 0===t},y.has=function(t,e){return null!=t&&d.call(t,e)},y.noConflict=function(){return o._=r,this},y.identity=function(t){return t},y.constant=function(t){return function(){return t}},y.noop=function(){},y.property=x,y.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},y.matcher=y.matches=function(t){return t=y.extendOwn({},t),function(e){return y.isMatch(e,t)}},y.times=function(t,e,n){var i=Array(Math.max(0,t));e=w(e,n,1);for(var o=0;t>o;o++)i[o]=e(o);return i},y.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},y.now=Date.now||function(){return(new Date).getTime()};var H={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},P=y.invert(H),L=function(t){var e=function(e){return t[e]},n="(?:"+y.keys(t).join("|")+")",i=RegExp(n),o=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(o,e):t}};y.escape=L(H),y.unescape=L(P),y.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),y.isFunction(i)?i.call(t):i};var I=0;y.uniqueId=function(t){var e=++I+"";return t?t+e:e},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var j=/(.)^/,N={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},$=/\\|'|\r|\n|\u2028|\u2029/g,F=function(t){return"\\"+N[t]};y.template=function(t,e,n){!e&&n&&(e=n),e=y.defaults({},e,y.templateSettings);var i=RegExp([(e.escape||j).source,(e.interpolate||j).source,(e.evaluate||j).source].join("|")+"|$","g"),o=0,r="__p+='";t.replace(i,function(e,n,i,s,a){return r+=t.slice(o,a).replace($,F),o=a+e.length,n?r+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?r+="'+\n((__t=("+i+"))==null?'':__t)+\n'":s&&(r+="';\n"+s+"\n__p+='"),e}),r+="';\n",e.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{var s=new Function(e.variable||"obj","_",r)}catch(a){throw a.source=r,a}var l=function(t){return s.call(this,t,y)},u=e.variable||"obj";return l.source="function("+u+"){\n"+r+"}",l},y.chain=function(t){var e=y(t);return e._chain=!0,e};var W=function(t,e){return t._chain?y(e).chain():e};y.mixin=function(t){y.each(y.functions(t),function(e){var n=y[e]=t[e];y.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),W(this,n.apply(y,t))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=s[t];y.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],W(this,n)}}),y.each(["concat","join","slice"],function(t){var e=s[t];y.prototype[t]=function(){return W(this,e.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return y})}.call(this),function(t){var e="object"==typeof self&&self.self==self&&self||"object"==typeof global&&global.global==global&&global;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(n,i,o){e.Backbone=t(e,o,n,i)});else if("undefined"!=typeof exports){var n,i=require("underscore");try{n=require("jquery")}catch(o){}t(e,exports,i,n)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(function(t,e,n,i){var o=t.Backbone,r=[],s=r.slice;e.VERSION="1.2.0",e.$=i,e.noConflict=function(){return t.Backbone=o,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a=e.Events={},l=/\s+/,u=function(t,e,i,o,r){var s,a=0;if(i&&"object"==typeof i)for(s=n.keys(i);a<s.length;a++)e=t(e,s[a],i[s[a]],r);else if(i&&l.test(i))for(s=i.split(l);a<s.length;a++)e=t(e,s[a],o,r);else e=t(e,i,o,r);return e};a.on=function(t,e,n){return c(this,t,e,n)};var c=function(t,e,n,i,o){if(t._events=u(h,t._events||{},e,n,{context:i,ctx:t,listening:o}),o){var r=t._listeners||(t._listeners={});r[o.id]=o}return t};a.listenTo=function(t,e,i){if(!t)return this;var o=t._listenId||(t._listenId=n.uniqueId("l")),r=this._listeningTo||(this._listeningTo={}),s=r[o];if(!s){var a=this._listenId||(this._listenId=n.uniqueId("l"));s=r[o]={obj:t,objId:o,id:a,listeningTo:r,count:0}}return c(t,e,i,this,s),this};var h=function(t,e,n,i){if(n){var o=t[e]||(t[e]=[]),r=i.context,s=i.ctx,a=i.listening;a&&a.count++,o.push({callback:n,context:r,ctx:r||s,listening:a})}return t};a.off=function(t,e,n){return this._events?(this._events=u(d,this._events,t,e,{context:n,listeners:this._listeners}),this):this},a.stopListening=function(t,e,i){var o=this._listeningTo;if(!o)return this;for(var r=t?[t._listenId]:n.keys(o),s=0;s<r.length;s++){var a=o[r[s]];if(!a)break;a.obj.off(e,i,this)}return n.isEmpty(o)&&(this._listeningTo=void 0),this};var d=function(t,e,i,o){if(t){var r,s=0,a=o.context,l=o.listeners;if(e||i||a){for(var u=e?[e]:n.keys(t);s<u.length;s++){e=u[s];var c=t[e];if(!c)break;for(var h=[],d=0;d<c.length;d++){var f=c[d];i&&i!==f.callback&&i!==f.callback._callback||a&&a!==f.context?h.push(f):(r=f.listening,r&&0===--r.count&&(delete l[r.id],delete r.listeningTo[r.objId]))}h.length?t[e]=h:delete t[e]}return n.size(t)?t:void 0}for(var p=n.keys(l);s<p.length;s++)r=l[p[s]],delete l[r.id],delete r.listeningTo[r.objId]}};a.once=function(t,e,i){var o=u(f,{},t,e,n.bind(this.off,this));return this.on(o,void 0,i)},a.listenToOnce=function(t,e,i){var o=u(f,{},e,i,n.bind(this.stopListening,this,t));return this.listenTo(t,o)};var f=function(t,e,i,o){if(i){var r=t[e]=n.once(function(){o(e,r),i.apply(this,arguments)});r._callback=i}return t};a.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),i=0;e>i;i++)n[i]=arguments[i+1];return u(p,this._events,t,void 0,n),this};var p=function(t,e,n,i){if(t){var o=t[e],r=t.all;o&&r&&(r=r.slice()),o&&m(o,i),r&&m(r,[e].concat(i))}return t},m=function(t,e){var n,i=-1,o=t.length,r=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++i<o;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<o;)(n=t[i]).callback.call(n.ctx,r);return;case 2:for(;++i<o;)(n=t[i]).callback.call(n.ctx,r,s);return;case 3:for(;++i<o;)(n=t[i]).callback.call(n.ctx,r,s,a);return;default:for(;++i<o;)(n=t[i]).callback.apply(n.ctx,e);return}},g=function(t,e,i){switch(t){case 1:return function(){return n[e](this[i])};case 2:return function(t){return n[e](this[i],t)};case 3:return function(t,o){return n[e](this[i],t,o)};case 4:return function(t,o,r){return n[e](this[i],t,o,r)};default:return function(){var t=s.call(arguments);return t.unshift(this[i]),n[e].apply(n,t)}}},v=function(t,e,i){n.each(e,function(e,o){n[o]&&(t.prototype[o]=g(e,o,i))})};a.bind=a.on,a.unbind=a.off,n.extend(e,a);var y=e.Model=function(t,e){var i=t||{};e||(e={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(i=this.parse(i,e)||{}),i=n.defaults({},i,n.result(this,"defaults")),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(y.prototype,a,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,i){var o,r,s,a,l,u,c,h;if(null==t)return this;if("object"==typeof t?(r=t,i=e):(r={})[t]=e,i||(i={}),!this._validate(r,i))return!1;s=i.unset,l=i.silent,a=[],u=this._changing,this._changing=!0,u||(this._previousAttributes=n.clone(this.attributes),this.changed={}),h=this.attributes,c=this._previousAttributes,this.idAttribute in r&&(this.id=r[this.idAttribute]);for(o in r)e=r[o],n.isEqual(h[o],e)||a.push(o),n.isEqual(c[o],e)?delete this.changed[o]:this.changed[o]=e,s?delete h[o]:h[o]=e;if(!l){a.length&&(this._pending=i);for(var d=0;d<a.length;d++)this.trigger("change:"+a[d],this,h[a[d]],i)}if(u)return this;if(!l)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(t,e){
return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?n.clone(this.changed):!1;var e,i=!1,o=this._changing?this._previousAttributes:this.attributes;for(var r in t)n.isEqual(o[r],e=t[r])||((i||(i={}))[r]=e);return i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=t?n.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=this,i=t.success;return t.success=function(n){return e.set(e.parse(n,t),t)?(i&&i.call(t.context,e,n,t),void e.trigger("sync",e,n,t)):!1},F(this,t),this.sync("read",this,t)},save:function(t,e,i){var o,r,s,a,l=this.attributes;if(null==t||"object"==typeof t?(o=t,i=e):(o={})[t]=e,i=n.extend({validate:!0},i),a=i.wait,o&&!a){if(!this.set(o,i))return!1}else if(!this._validate(o,i))return!1;o&&a&&(this.attributes=n.extend({},l,o)),void 0===i.parse&&(i.parse=!0);var u=this,c=i.success;return i.success=function(t){u.attributes=l;var e=i.parse?u.parse(t,i):t;return a&&(e=n.extend(o||{},e)),n.isObject(e)&&!u.set(e,i)?!1:(c&&c.call(i.context,u,t,i),void u.trigger("sync",u,t,i))},F(this,i),r=this.isNew()?"create":i.patch?"patch":"update","patch"!==r||i.attrs||(i.attrs=o),s=this.sync(r,this,i),o&&a&&(this.attributes=l),s},destroy:function(t){t=t?n.clone(t):{};var e=this,i=t.success,o=t.wait,r=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){o&&r(),i&&i.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var s=!1;return this.isNew()?n.defer(t.success):(F(this,t),s=this.sync("delete",this,t)),o||r(),s},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||$();if(this.isNew())return t;var e=this.id||this.attributes[this.idAttribute];return t.replace(/([^\/])$/,"$1/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;return i?(this.trigger("invalid",this,i,n.extend(e,{validationError:i})),!1):!0}});var w={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};v(y,w,"attributes");var b=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},C={add:!0,remove:!0,merge:!0},k={add:!0,remove:!1};n.extend(b.prototype,a,{model:y,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,k))},remove:function(t,e){var i,o=!n.isArray(t);return t=o?[t]:n.clone(t),e||(e={}),i=this._removeModels(t,e),!e.silent&&i&&this.trigger("update",this,e),o?t[0]:t},set:function(t,e){e=n.defaults({},e,C),e.parse&&(t=this.parse(t,e));var i=!n.isArray(t);t=i?t?[t]:[]:t.slice();var o,r,s,a,l,u=e.at;null!=u&&(u=+u),0>u&&(u+=this.length+1);for(var c=this.comparator&&null==u&&e.sort!==!1,h=n.isString(this.comparator)?this.comparator:null,d=[],f=[],p={},m=e.add,g=e.merge,v=e.remove,y=!c&&m&&v?[]:!1,w=!1,b=0;b<t.length;b++){if(s=t[b],a=this.get(s))v&&(p[a.cid]=!0),g&&s!==a&&(s=this._isModel(s)?s.attributes:s,e.parse&&(s=a.parse(s,e)),a.set(s,e),c&&!l&&a.hasChanged(h)&&(l=!0)),t[b]=a;else if(m){if(r=t[b]=this._prepareModel(s,e),!r)continue;d.push(r),this._addReference(r,e)}r=a||r,r&&(o=this.modelId(r.attributes),!y||!r.isNew()&&p[o]||(y.push(r),w=w||!this.models[b]||r.cid!==this.models[b].cid),p[o]=!0)}if(v){for(var b=0;b<this.length;b++)p[(r=this.models[b]).cid]||f.push(r);f.length&&this._removeModels(f,e)}if(d.length||w)if(c&&(l=!0),this.length+=d.length,null!=u)for(var b=0;b<d.length;b++)this.models.splice(u+b,0,d[b]);else{y&&(this.models.length=0);for(var k=y||d,b=0;b<k.length;b++)this.models.push(k[b])}if(l&&this.sort({silent:!0}),!e.silent){for(var x=null!=u?n.clone(e):e,b=0;b<d.length;b++)null!=u&&(x.index=u+b),(r=d[b]).trigger("add",r,this,x);(l||w)&&this.trigger("sort",this,e),(d.length||f.length)&&this.trigger("update",this,e)}return i?t[0]:t},reset:function(t,e){e=e?n.clone(e):{};for(var i=0;i<this.models.length;i++)this._removeReference(this.models[i],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(){return s.apply(this.models,arguments)},get:function(t){if(null==t)return void 0;var e=this.modelId(this._isModel(t)?t.attributes:t);return this._byId[t]||this._byId[e]||this._byId[t.cid]},at:function(t){return 0>t&&(t+=this.length),this.models[t]},where:function(t,e){var i=n.matches(t);return this[e?"find":"filter"](function(t){return i(t.attributes)})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),n.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return n.invoke(this.models,"get",t)},fetch:function(t){t=t?n.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success,i=this;return t.success=function(n){var o=t.reset?"reset":"set";i[o](n,t),e&&e.call(t.context,i,n,t),i.trigger("sync",i,n,t)},F(this,t),this.sync("read",this,t)},create:function(t,e){e=e?n.clone(e):{};var i=e.wait;if(!(t=this._prepareModel(t,e)))return!1;i||this.add(t,e);var o=this,r=e.success;return e.success=function(t,e,n){i&&o.add(t,n),r&&r.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;e=e?n.clone(e):{},e.collection=this;var i=new this.model(t,e);return i.validationError?(this.trigger("invalid",this,i.validationError,e),!1):i},_removeModels:function(t,e){for(var n,i,o,r=!1,n=0,s=0;n<t.length;n++){var o=t[n]=this.get(t[n]);if(o){var a=this.modelId(o.attributes);null!=a&&delete this._byId[a],delete this._byId[o.cid];var i=this.indexOf(o);this.models.splice(i,1),this.length--,e.silent||(e.index=i,o.trigger("remove",o,this,e)),t[s++]=o,this._removeReference(o,e),r=!0}}return t.length!==s&&(t=t.slice(0,s)),r},_isModel:function(t){return t instanceof y},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){if("add"!==t&&"remove"!==t||n===this){if("destroy"===t&&this.remove(e,i),"change"===t){var o=this.modelId(e.previousAttributes()),r=this.modelId(e.attributes);o!==r&&(null!=o&&delete this._byId[o],null!=r&&(this._byId[r]=e))}this.trigger.apply(this,arguments)}}});var x={forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:2,contains:2,invoke:2,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3};v(b,x,"models");var _=["groupBy","countBy","sortBy","indexBy"];n.each(_,function(t){n[t]&&(b.prototype[t]=function(e,i){var o=n.isFunction(e)?e:function(t){return t.get(e)};return n[t](this.models,o,i)})});var T=e.View=function(t){this.cid=n.uniqueId("view"),t||(t={}),n.extend(this,n.pick(t,E)),this._ensureElement(),this.initialize.apply(this,arguments)},S=/^(\S+)\s*(.*)$/,E=["model","collection","el","id","attributes","className","tagName","events"];n.extend(T.prototype,a,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(!t&&!(t=n.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var i=t[e];if(n.isFunction(i)||(i=this[t[e]]),i){var o=e.match(S);this.delegate(o[1],o[2],n.bind(i,this))}}return this},delegate:function(t,e,n){this.$el.on(t+".delegateEvents"+this.cid,e,n)},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){this.$el.off(t+".delegateEvents"+this.cid,e,n)},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t["class"]=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,i,o){var r=D[t];n.defaults(o||(o={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var s={type:r,dataType:"json"};if(o.url||(s.url=n.result(i,"url")||$()),null!=o.data||!i||"create"!==t&&"update"!==t&&"patch"!==t||(s.contentType="application/json",s.data=JSON.stringify(o.attrs||i.toJSON(o))),o.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),o.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){s.type="POST",o.emulateJSON&&(s.data._method=r);var a=o.beforeSend;o.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",r),a?a.apply(this,arguments):void 0}}"GET"===s.type||o.emulateJSON||(s.processData=!1);var l=o.error;o.error=function(t,e,n){o.textStatus=e,o.errorThrown=n,l&&l.call(o.context,t,e,n)};var u=o.xhr=e.ajax(n.extend(s,o));return i.trigger("request",i,u,o),u};var D={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var R=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},M=/\((.*?)\)/g,A=/(\(\?)?:\w+/g,O=/\*\w+/g,H=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(R.prototype,a,{initialize:function(){},route:function(t,i,o){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(i)&&(o=i,i=""),o||(o=this[i]);var r=this;return e.history.route(t,function(n){var s=r._extractParameters(t,n);r.execute(o,s,i)!==!1&&(r.trigger.apply(r,["route:"+i].concat(s)),r.trigger("route",i,s),e.history.trigger("route",r,i,s))}),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(H,"\\$&").replace(M,"(?:$1)?").replace(A,function(t,e){return e?t:"([^/?]+)"}).replace(O,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var i=t.exec(e).slice(1);return n.map(i,function(t,e){return e===i.length-1?t||null:t?decodeURIComponent(t):null})}});var P=e.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},L=/^[#\/]|\s+$/g,I=/^\/+|\/+$/g,j=/#.*$/;P.started=!1,n.extend(P.prototype,a,{interval:50,atRoot:function(){var t=this.location.pathname.replace(/[^\/]$/,"$&/");return t===this.root&&!this.getSearch()},matchRoot:function(){var t=this.decodeFragment(this.location.pathname),e=t.slice(0,this.root.length-1)+"/";return e===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(L,"")},start:function(t){if(P.started)throw new Error("Backbone.history has already been started");if(P.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window,this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(I,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){var i=document.createElement("iframe");i.src="javascript:0",i.style.display="none",i.tabIndex=-1;var o=document.body;this.iframe=o.insertBefore(i,o.firstChild).contentWindow,this.iframe.document.open().close(),this.iframe.location.hash="#"+this.fragment}var r=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};return this._usePushState?r("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?r("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.options.silent?void 0:this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe.frameElement),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),P.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe)),e===this.fragment?!1:(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(t){return this.matchRoot()?(t=this.fragment=this.getFragment(t),n.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0})):!1},navigate:function(t,e){if(!P.started)return!1;e&&e!==!0||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;(""===t||"?"===t.charAt(0))&&(n=n.slice(0,-1)||"/");var i=n+t;if(t=this.decodeFragment(t.replace(j,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe)&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var i=t.href.replace(/(javascript:|#).*$/,"");t.replace(i+"#"+e)}else t.hash="#"+e}}),e.history=new P;var N=function(t,e){var i,o=this;i=t&&n.has(t,"constructor")?t.constructor:function(){return o.apply(this,arguments)},n.extend(i,o,e);var r=function(){this.constructor=i};return r.prototype=o.prototype,i.prototype=new r,t&&n.extend(i.prototype,t),i.__super__=o.prototype,i};y.extend=b.extend=R.extend=T.extend=P.extend=N;var $=function(){throw new Error('A "url" property or function must be specified')},F=function(t,e){var n=e.error;e.error=function(i){n&&n.call(e.context,t,i,e),t.trigger("error",t,i,e)}};return e}),function(t){Backbone._sync=Backbone.sync,Backbone.sync=function(e,n,i){if(!i.noCSRF){var o=i.beforeSend;i.beforeSend=function(e){var n=t('meta[name="csrf-token"]').attr("content");return n&&e.setRequestHeader("X-CSRF-Token",n),o?o.apply(this,arguments):void 0}}return null!=i.data||!n||"create"!==e&&"update"!==e&&"patch"!==e||(i.contentType="application/json",data=JSON.stringify(i.attrs||n.toJSON(i)),n.paramRoot?(data={},data[n.paramRoot]=n.toJSON(i)):data=n.toJSON(),i.data=JSON.stringify(data)),Backbone._sync(e,n,i)}}(jQuery),function(t){return t.extend(t.fn,{backboneLink:function(e){return t(this).find(":input").each(function(){var n,i;return n=t(this),i=n.attr("name"),e.bind("change:"+i,function(){return n.val(e.get(i))}),t(this).bind("change",function(){var i;return n=t(this),i={},i[n.attr("name")]=n.val(),e.set(i)})})}})}(jQuery),function(){window.Mockaroo={model:{},collection:{},router:{},view:{}},window.setCaretPosition=function(t,e){var n;return null!==t?t.createTextRange?(n=t.createTextRange(),n.move("character",e),n.select()):t.selectionStart?(t.focus(),t.setSelectionRange(e,e)):t.focus():void 0}}.call(this),function(){var t;t=!1,Mockaroo.view.AdvancedFieldOptionsDialog=Backbone.View.extend({events:{"click .apply":"onApplyClick","click .remove-row":"onRemoveClick","click .move-up":"onMoveUpClick","click .move-down":"onMoveDownClick","click .add-row":"onAddRowClick","change .add-rule-for-all-values":"onAddRuleSelect"},initialize:function(t){return this.loading(!0),_.defaults(this,t),$(document).one("turbolinks:load",function(t){return function(){return t.stopListening()}}(this)),this.$tableContainer=$("#weighting_container"),this.updateHeight(),this.data=t.weightsJson?JSON.parse(t.weightsJson):[],this.$tableContainer.html(""),this.buildAddAllList(t.availableCriteria),this.columns=[{data:"_delete",header:"",readOnly:!0,width:52,renderer:function(t,e,n){return $(e).html("<i rel='tooltip' title='remove rule' data-row='"+n+"' class='remove-row fa fa-close'></i>"+("<i rel='tooltip' title='move rule up' data-row='"+n+"' class='move-up fa fa-arrow-up'></i>")+("<i rel='tooltip' title='move rule down' data-row='"+n+"' class='move-down fa fa-arrow-down'></i>"))}},{data:"rule",width:250,placeholder:'example: my_field == "some value"',header:"Rule"}]},updateHeight:function(){return this.height=$(window).height()-420,this.$el.find(".modal-body").height(this.height+130),this.$tableContainer.height(this.height)},buildAddAllList:function(t){var e,n,i,o;for(this.$addAllList=this.$el.find(".add-rule-for-all-values"),this.otherFieldValues={},this.$el.find(".add-all").toggle(t.length>0),this.$addAllList[0].options.length=1,o=[],n=0,i=t.length;i>n;n++)e=t[n],e.name!==this.fieldName?(this.otherFieldValues[e.name]=e.values,o.push(this.$addAllList.append($("<option>",{value:e.column,text:e.name,"data-values":e.values,"data-list-id":e.listId})))):o.push(void 0);return o},show:function(t){return this.$el.is(":visible")?void 0:(this.modal=this.$el.modal("show"),this.modal.one("shown.bs.modal",function(t){return function(){return t.listId?t.fetchValuesFor(t.listId,t.column,function(e){return t.loadValues(e)}):t.loadValues(t.values)}}(this)),this.modal.one("hidden.bs.modal",function(t){return function(){return t.undelegateEvents(),Handsontable.hooks.remove("afterChange",t.onAfterCellChange),t.table?t.table.destroy():void 0}}(this)))},close:function(){return this.$el.modal("hide")},fetchValuesFor:function(t,e,n){return $.ajax({url:"/lists/"+t+"/columns/"+encodeURIComponent(e),success:n})},loading:function(t){return this.$el.find(".loading").toggle(t),this.$el.find(".throbber").toggle(t),this.$el.find(".loaded").toggle(!t)},loadValues:function(t){var e,n,i,o,r,s,a,l,u,c,h,d,f;for(this.loading(!1),this.values=t,n=0,s=t.length;s>n;n++)f=t[n],this.columns.push({data:"frequencies."+f,header:f});if(0===this.data.length)this.data.push({frequencies:this.createDefaultFrequencies()});else for(c=this.data,i=0,a=c.length;a>i;i++){for(d=c[i],h=d.frequencies,o=0,l=h.length;l>o;o++)e=h[o],-1===t.indexOf(e)&&delete d.frequencies[e];for(r=0,u=t.length;u>r;r++)f=t[r],void 0===d.frequencies[f]&&(d.frequencies[f]=1)}return console.log(this.columns),this.table=new Handsontable(this.$tableContainer[0],{data:this.data,minSpareRows:0,width:880,height:this.height,rowHeaders:!1,colHeaders:this.columns.map(function(t){return t.header}),columns:this.columns,contextMenu:!1,allowRemoveColumn:!1,allowReadOnly:!1,allowInsertColumn:!1}),this.onAfterCellChange=function(t){return function(e,n){return e&&e.forEach(function(e){var n,i,o;return d=e[0],i=t.table.propToCol(e[1]),o=e[3],n=$(t.table.getCell(d,i)),n.tooltip("destroy"),$.post("/formulas/validate",{formula:o},function(t){return t.error?n.css("color","red").tooltip({container:"body",placement:"bottom",title:t.error}):n.css("color","black").tooltip("destroy")})})}}(this),Handsontable.hooks.add("afterChange",this.onAfterCellChange)},onAddRuleSelect:function(t){var e,n,i,o,r;return e=$(t.target),o=e.find(":selected"),n=e.val(),r=this.otherFieldValues[n],i=function(t){return function(e){return t.addAll(o.text(),e)}}(this),r?i(r):this.fetchValuesFor(o.data("list-id"),n,i),e[0].selectedIndex=0},addAll:function(t,e){var n,i,o,r,s,a,l,u,c;for(n=[],l=this.table.getData(),o=0,s=l.length;s>o;o++)u=l[o],u.rule&&n.push(u);for(i=t.match(/^[a-z][A-Za-z0-9_]*$/)?t:'field("'+t+'")',r=0,a=e.length;a>r;r++)c=e[r],n.push({rule:i+" == "+this.escapeQuotes(c),frequencies:this.createDefaultFrequencies()});return this.table.loadData(n)},escapeQuotes:function(t){return"string"==typeof t?'"'+t.replace('"','"')+'"':t},createDefaultFrequencies:function(){var t,e,n,i,o;for(t={},i=this.values,e=0,n=i.length;n>e;e++)o=i[e],t[o]=1;return t},clearTooltips:function(){return $("*[rel=tooltip").tooltip("destroy"),$(".tooltip").remove()},onRemoveClick:function(t){return this.clearTooltips(),this.table.alter("remove_row",$(t.target).data("row"))},onMoveUpClick:function(t){return this.moveRow(parseInt($(t.target).data("row")),-1)},onMoveDownClick:function(t){return this.moveRow(parseInt($(t.target).data("row")),1)},moveRow:function(t,e){var n,i;return n=this.table.getData(),console.log(arguments),0===t&&-1===e||t===n.length-1&&1===e?void 0:(this.clearTooltips(),i=n[t],n[t]=n[t+e],n[t+e]=i,this.table.loadData(n))},onAddRowClick:function(t){var e,n;return e=this.table.getData(),n=JSON.parse(JSON.stringify(e[e.length-1])),delete n.rule,e.push(n),this.table.loadData(e)},onSelectionChanged:function(t,e,n,i){return this.selectedRow=n},onApplyClick:function(){var t,e,n,i,o;try{for(t=this.table.getData(),n=0,i=t.length;i>n;n++)o=t[n],delete o._delete;return this.success(t)}catch(r){return e=r,console.log("error",e)}}})}.call(this),function(){Mockaroo.view.AdvancedFormulaDialog=Backbone.View.extend({events:{"click .apply":"onApplyClick"},initialize:function(t){return _.defaults(this,t),$(document).one("turbolinks:load",function(t){return function(){return t.stopListening()}}(this)),this.$el.find("textarea").val(this.formula)},show:function(t){return $(".tooltip").hide(),this.$el.is(":visible")?void 0:(this.modal=this.$el.modal("show"),this.modal.one("hidden.bs.modal",function(t){return function(){return t.undelegateEvents()}}(this)))},close:function(){return this.$el.modal("hide")},onApplyClick:function(){return this.success(this.$el.find("textarea").val())}})}.call(this),function(){Mockaroo.view.Comment=Backbone.View.extend({events:{submit:"onSubmit"},initialize:function(){return $(document).one("turbolinks:load",function(t){return function(){return t.stopListening()}}(this))},onSubmit:function(){return $("#comment_submit").attr("disabled","disabled"),$(".throbber").show()}})}.call(this),function(){Mockaroo.view.Download=Backbone.View.extend({events:{"click #cancel":"cancel"},initialize:function(t){return $(document).one("turbolinks:load",function(t){return function(){return t.stopListening(),t.stopPolling()}}(this)),this.download=t.download,this.working()&&(this.poll=setInterval(function(t){return function(){return t.checkStatus()}}(this),1e3)),this.updateVisuals()},checkStatus:function(){return $.ajax({url:"/downloads/"+this.download.id+".json"}).success(function(t){return function(e){return t.download=e,t.updateVisuals()}}(this))},working:function(){return this.download.success!==!1&&this.download.success!==!0},cancel:function(t){var e;return confirm("Are you sure you want to cancel data generation?")?(this.stopPolling(),e=$(t.currentTarget),location.href=e.attr("data-url")):void 0},stopPolling:function(){return this.poll?clearInterval(this.poll):void 0},updateVisuals:function(){var t;return this.working()||this.stopPolling(),$("#pct_bar").css("width",this.download.success===!0?"100%":this.download.stats.pct_complete+"%"),this.download.success?(t=this.download.downloaded?"download downloaded":"download",this.download.url&&$("#pct_label").html("<i class='fa fa-download'></i><a class='"+t+"' href='/downloads/"+this.download.id+"/download' data-no-turbolink>"+this.download.filename+"</a>"),$("#pct_bar").addClass("progress-bar-success"),$("#done_span").html("done.")):this.download.success===!1?($("#pct_label").html("<span class='error'>Failed:<br/><br/><pre>"+this.download.error_message+"</pre></span>"),$("#pct_bar").addClass("progress-bar-danger")):this.download.stats.status?$("#pct_label").html(this.download.stats.status):this.download.queued||($("#status").html("Generating data..."),$("#pct_label").html(this.download.stats.pct_complete+"% complete <span class='light'>("+this.download.stats.at+" of "+this.download.stats.total+" rows generated)</span>")),null!==this.download.success?($("#pct_bar_wrap").removeClass("progress-striped active"),$('*[data-hide-when-done="true"]').hide()):void 0}})}.call(this),function(){Mockaroo.view.EmailField=Backbone.View.extend({initialize:function(t){return _.extend(this,{values:[]},t),$(document).one("turbolinks:load",function(t){return function(){return t.stopListening()}}(this)),this.$input=this.$el.find("input"),this.tagsInput=this.$input.tagsinput({typeahead:{source:$.get("/profiles/emails.json")}})[0],this.$input.on("beforeItemAdd",function(t){return function(e){return t.onBeforeItemAdd(e)}}(this)),this.$input.on("itemRemoved",function(t){return function(e){return t.onItemRemoved(e)}}(this)),this.errorContainer=this.$el.find(".error-container")},onBeforeItemAdd:function(t){var e;return e=t.item,$.ajax({url:"/profiles/exists?email="+encodeURIComponent(e)}).success(function(t){return function(n){if(n.exists){if(t.errorContainer)return t.errorContainer.html("")}else if(t.tagsInput.$container.find(".tag:contains("+e+")").addClass("invalid"),t.errorContainer)return t.errorContainer.html("User "+e+" not found.")}}(this))},onItemRemoved:function(){return this.errorContainer.html("")},onKeyUp:function(t){return console.log(t.keyCode)},destroy:function(){return this.$input.tagsinput("destroy")},getValues:function(){return this.$input.tagsinput("items")}})}.call(this),function(){var t;t=null,Mockaroo.view.Header=Backbone.View.extend({events:{"click a.download":"decrementDownloadCount","click a#search_link":"onSearchClick",keydown:"onKeyDown"},decrementDownloadCount:function(t){var e,n,i;return n=$(t.target),n.hasClass("downloaded")?void 0:(n.addClass("downloaded"),e=$("#download_count"),i=parseInt(e.html())-1,0===i?e.fadeOut(500,function(){return e.remove()}):e.html(i.toString()))},onKeyDown:function(t){return t.target===this.el&&84===t.keyCode?this.onSearchClick():void 0},onSearchClick:function(){var t;return t=$("#search_dialog_wrap")[0],t?(this.searchDialog||(this.searchDialog=ReactApp.SearchDialog.mount(t)),this.searchDialog.show()):void 0}}),$(document).on("turbolinks:load",function(e){return function(){return new Mockaroo.view.Header({el:$("body")}),$("#search_link").tooltip({container:"body"}),$(document).one("turbolinks:load",function(){return t?ReactApp.SearchDialog.unmount($("#search_dialog_wrap")[0]):void 0})}}(this))}.call(this),function(){Mockaroo.view.Project=Backbone.View.extend({events:{"click a.delete-link":"deleteResource"},initialize:function(t){return _.extend(this,t),$(document).one("turbolinks:load",function(t){return function(){return t.stopListening()}}(this)),new Mockaroo.view.EmailField({el:this.$el.find(".email-field")})},deleteResource:function(t){var e,n;return e=$(t.currentTarget),n=e.data(),confirm("Delete "+n.name+"?")?$.ajax({url:n.url,method:"delete"}).success(function(){return e.closest("tr").fadeOut(1e3,function(){return e.remove()}),toastr.success(n.name+" deleted")}):void 0}})}.call(this),function(){var t,e,n;e=function(t){var e;return e=/([^,]+)$/.exec(t),e&&e[1]?e[1].trim():""},t=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:function(t){return Bloodhound.tokenizers.whitespace(e(t))},prefetch:"/locations/countries.json"}),n=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:function(t){return Bloodhound.tokenizers.whitespace(e(t))},prefetch:"/locations/states.json"}),Mockaroo.view.Schema=Backbone.View.extend({events:{"change input.forgery-type":"onFieldTypeChange","keydown input.null-percentage":"preventNonNumericCharacters","blur input.null-percentage":"fillWithZeroIfBlank",'keydown *[data-action="type"]':"onTypeKeyDown",'click *[data-action="type"]':"openTypeDialog",'change select[data-action="file_format"]':"onFileFormatChange","click #show_save_dialog":"showSaveDialog","keypress #schema_name":"handleSchemaInputKeypress","click #save_dialog_button":"onDialogSave","click #save_link":"save","click #clone_link":"cloneSchema","click a[rel=sign_in_and_save]":"signInAndSave","click #download":"download","change select.list-selection-style":"onListSelectionStyleChange","click #paste_csv":"pasteCsv","click .paste-csv-apply":"pasteCsvApply","change select.list-id":"onListChange","change select.list-column":"onListColumnChange","click #preview":"preview","click .edit-distribution":"onEditDistributionClick","click .btn-advanced-formula":"onAdvancedFormulaClick","dblclick .fields .handle":"onReorderColumnsDblClick","mousedown .fields .handle":"preventTooltips","mouseup .fields .handle":"restoreTooltips","change input, select":"markDirty","keydown window":"windowKeyDown"},initialize:function(t){return _.defaults(this,t),this.typeList=$('*[data-action="type"]'),this.typeList.each(function(t){return function(e,n){return t.onFieldTypeChange({currentTarget:n})}}(this)),this.initColumnsTable(),this.onFileFormatChange(),this.originalAction=this.$el.attr("action"),this.copyValues=!0,this.schemaId&&this.makeNameEditable(),$(document).on("page:before-change",this.dirtyChecker=function(t){return function(){return!t.dirty||confirm("Warning: There are unsaved changes to your schema that will be lost.  Discard these changes?")}}(this)),$(document).one("turbolinks:load",function(t){return function(){return t.close()}}(this)),$(window).on("keydown",function(t){return function(e){return t.windowKeyDown(e)}}(this))},windowKeyDown:function(t){return(t.metaKey||t.ctrlKey)&&83===t.keyCode?(event.preventDefault(),window.MOCKAROO_USER_ID&&(this.schemaId?(toastr.info("Saving Changes..."),this.save()):this.showSaveDialog(t)),!1):void 0},markDirty:function(){return this.dirty=!0},makeNameEditable:function(){return this.$el.find("h2.name").editable({type:"text",mode:"inline",url:"/schemas/"+this.schemaId+".json",pk:this.schemaId,ajaxOptions:{method:"put",dataType:"json"},params:function(t){return{"schema[name]":t.value}},success:function(t,e){return $(".resource-name").html(e),toastr.success("Schema renamed to "+e)}})},close:function(){return $(document).off("nested:fieldAdded",this.fieldAddedListener),$(document).off("page:before-change",this.dirtyChecker),$(window).off("keydown",this.windowKeyDown),this.stopListening()},initColumnsTable:function(){return $("#fields").sortable({handle:".handle",stop:this.updatePositionsOnSort,items:"> .fields"}),this.updatePositionsOnSort(),this.fieldAddedListener=function(t){return function(e){return t.onFieldAdded(e.field);
}}(this),this.fieldRemovedListener=function(t){return function(e){return t.onFieldRemoved()}}(this),$(document).on("nested:fieldAdded",this.fieldAddedListener),$(document).on("nested:fieldRemoved",this.fieldRemovedListener),this.applyJQueryUIClasses($(".schema-form .column-fields")),this.syncListSelectionStyles()},onFieldTypeChange:function(t){var e,n,i;return e=$(t.currentTarget),n=e.closest(".fields"),i=n.find("input.forgery-type").val(),n.find("div[options-for]").hide(),n.find('div[options-for*="'+i+'"]').show(),n.find("div[options-unless]").show(),n.find('div[options-unless*="'+i+'"]').hide(),n.find('div[options-for="'+i.replace(/\..*/,"")+'"]').show(),n.find(".options-null").toggle("Generators::Custom.blank"!==i),this.syncListSelectionStyles},onFileFormatChange:function(){var t;return t=$('select[data-action="file_format"]').val(),$("*[data-for-format]").each(function(e,n){var i;return i=$(n),i.toggle(-1!==i.attr("data-for-format").indexOf(t))})},updatePositionsOnSort:function(t,e){return $('input[data-action="position"]').each(function(t,e){return $(e).val(t+1)})},onFieldAdded:function(t){return this.copyValues&&this.copyValuesFromPreviousColumn(t),this.applyJQueryUIClasses(t),this.nextColumnName&&$(t).find(".column-name").val(this.nextColumnName),$(t).find("input:first-child").first().one("focus",function(){return $(this).select()}).focus(),this.updatePositionsOnSort(),this.syncListSelectionStyles(),this.updateAdvancedFormulaStyle(t)},pasteCsv:function(t){var e;return this.pasteCsvEvent=t,t.preventDefault(),e=$("#csv_header_paste"),e.val(""),$("#paste_dialog").modal("show").on("shown.bs.modal",function(){return e.focus()}),!1},pasteCsvApply:function(t){var e,n,i,o,r,s;r=Papa.parse($("#csv_header_paste").val());try{for("true"===$(t.currentTarget).attr("data-remove-all")&&$(".remove-field").click(),o=r.data[0],s=[],n=0,i=o.length;i>n;n++)e=o[n],this.nextColumnName=e,this.copyValues=!1,s.push(nestedFormEvents.addFields(this.pasteCsvEvent));return s}finally{delete this.nextColumnName,delete this.pasteCsvEvent,this.copyValues=!0,$("#paste_dialog").modal("hide")}},copyValuesFromPreviousColumn:function(t){var e,n,i;return e=$(t),i=e.prevAll(".fields:visible").first(),i.length?(e.find("[data-action=type]").val(i.find("[data-action=type]").val()),e.find(".forgery-type").val(i.find(".forgery-type").val()),e.find(".forgery-type").change(),n=e.find("*[name]"),i.find("*[name]").each(function(t,e){var i,o;return i=$(e),i.data("no-copy")?void 0:(o=$(n[t]),"checkbox"===i.attr("type")?o.prop("checked",i.prop("checked")):i.attr("name")&&(o.val(i.val()),"true"===o.attr("data-fire-change"))?o.change():void 0)})):void 0},applyJQueryUIClasses:function(i){return $(i).find("input.date").each(function(){return $(this).removeAttr("id").removeClass("hasDatepicker"),$(this).datepicker()}),$(i).find(".country-typeahead").typeahead({source:t.ttAdapter(),updater:function(t){return(this.$element.val().replace(/[^,]*$/,"")+" "+t).trim()},matcher:function(t){var n;return n=e(this.query),n?" "===n?!0:~t.toLowerCase().indexOf(n.toLowerCase().trim()):!1},highlighter:function(t){var n;return n=e(this.query).replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),t.replace(new RegExp("("+n+")","ig"),function(t,e){return"<strong>"+e+"</strong>"})}}),$(i).find(".country-typeahead").typeahead(this.createTypeaheadConfig(t)),$(i).find(".state-typeahead").typeahead(this.createTypeaheadConfig(n)),$(i).find(".time").timepicker({showPeriod:!0,showLeadingZero:!1})},createTypeaheadConfig:function(t){return{source:t.ttAdapter(),updater:function(t){return(this.$element.val().replace(/[^,]*$/,"")+" "+t).trim()},matcher:function(t){var n;return n=e(this.query),n?" "===n?!0:~t.toLowerCase().indexOf(n.toLowerCase().trim()):!1},highlighter:function(t){var n;return n=e(this.query).replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),t.replace(new RegExp("("+n+")","ig"),function(t,e){return"<strong>"+e+"</strong>"})}}},handleSchemaInputKeypress:function(t){var e;return e=t.keyCode||t.charCode||0,13===e||10===e?this.save():void 0},showSaveDialog:function(){var t;return t=this,$("#save_dialog").modal("show").on("shown.bs.modal",function(){return $("#schema_name").focus(),$("#save_dialog_button").removeAttr("disabled")})},onDialogSave:function(){return $("#schema_name").val()?($("#save_dialog_button").attr("disabled","disabled"),this.save()):$("#schema_name_error").removeClass("hide")},save:function(){return this.$el.attr("action",this.originalAction),this.$el.attr("target","_self"),this.$el.submit()},cloneSchema:function(){return this.$el.attr("action","/schemas/clone"),this.$el.attr("target","_blank"),this.$el.submit()},signInAndSave:function(t){return this.save()},onTypeKeyDown:function(t){return 13===t.which||32===t.which?(t.preventDefault(),this.openTypeDialog(t)):void 0},openTypeDialog:function(t){var e,n,i,o;return e=$(t.currentTarget).closest(".fields"),i=e.find('input[data-action="type"]'),o=e.find(".column-type-id"),n=e.find(".forgery-type"),TypeDialog.instance.show(i),TypeDialog.instance.onTypeSelected=function(t){return function(t){return i.val(t.label),o.val(t.id),i.focus(),n.val(t.forgery_type),n.trigger("change"),TypeDialog.instance.hide(),setCaretPosition(i[0],0)}}(this)},download:function(){return $("input[name=preview]").val("false"),this.$el.attr("target","_self"),this.$el.attr("action","/schemas/download"),this.$el.submit()},preview:function(){var t,e;return $("input[name=preview]").val("true"),this.$el.attr("target","preview"),this.$el.attr("action","/schemas/download"),t=$("#preview_dialog"),t.find(".modal-dialog").height($(window).height()-60),t.find(".modal-body").height($(window).height()-190),t.modal("show"),$("#preview_row_count").html(parseInt($("#num_rows").val())>100?"showing first 100 rows":""),$("#preview_loading").show(),e=$("#preview_iframe"),e.hide(),e.load(function(){return e.unbind("load"),e.show(),$("#preview_loading").hide()}),this.$el.submit()},preventNonNumericCharacters:function(t){return-1!==$.inArray(t.keyCode,[46,8,9,27,13,190])||65===t.keyCode&&t.ctrlKey===!0||t.keyCode>=35&&t.keyCode<=39?void 0:t.key.match(/\D/)?t.preventDefault():void 0},fillWithZeroIfBlank:function(t){var e;return e=$(t.currentTarget),""===e.val()?e.val("0"):void 0},onListSelectionStyleChange:function(t){var e;return e=$(t.currentTarget),e.blur(),this.syncListSelectionStyles(),"custom"===e.val()?this.editDistribution(e.closest(".fields")):void 0},onListChange:function(t){var e,n,i,o,r,s;for(n=$(t.currentTarget),o=this.listColumns[n.val()]||[],e=n.siblings(".list-column"),e.html(""),r=0,s=o.length;s>r;r++)i=o[r],e.append($("<option>").text(i).attr("value",i));return e.toggle(o.length>0),this.syncListSelectionStyles()},onFieldRemoved:function(){return this.syncListSelectionStyles()},onListColumnChange:function(){return this.syncListSelectionStyles()},syncListSelectionStyles:function(){var t,e;return e={},t={},$(".fields").each(function(n,i){var o,r,s,a,l,u,c;return o=$(i),r=o.find(".list-selection-style"),o.find(".edit-distribution").toggle("custom"===r.val()),"Generators::Custom.my_list"===o.find("input.forgery-type").val()&&o.is(":visible")?(l=o.find(".list-id").val(),s=o.find(".list-column").val(),a=l+":"+s,t[a]=t[a]?t[a]+1:1,c=l+":"+t[a],u=e[c],r.prop("disabled",void 0!==u),u?r.val(u):e[c]=r.val()):void 0})},onEditDistributionClick:function(t){return this.editDistribution($(t.currentTarget).closest(".fields"))},splitList:function(t){return t.split(/\s*,\s*|\s*\|\s*/)},editDistribution:function(t){var e,n,i,o,r,s,a,l,u;for(n=[],a=t.closest(".column-fields").find(".fields"),o=0,r=a.length;r>o;o++)i=a[o],e=$(i),$.contains(e[0],t[0])||"1"===e.find("[name*=_destroy]").val()||(l=e.find(".forgery-type").val(),s=e.find(".column-name").val(),s.length&&("Generators::Custom.custom_list"===l?(u=this.splitList(e.find(".custom-list-values").val()),s.length&&n.push({name:s,values:u})):"Generators::Custom.my_list"===l&&n.push({name:s,listId:e.find(".list-id").val(),column:e.find(".list-column").val()})));return this.editDistributionDialog=new Mockaroo.view.AdvancedFieldOptionsDialog({el:$("#advanced_field_options_dialog"),schema:this,listId:"Generators::Custom.my_list"===t.find(".forgery-type").val()?t.find(".list-id").val():void 0,values:this.splitList(t.find(".custom-list-values").val()),column:t.find(".list-column").val(),fieldName:t.find(".column-name").val(),availableCriteria:n,weightsJson:t.find(".list-weights").val(),success:function(e){return function(n){return t.find(".list-weights").val(JSON.stringify(n)),e.editDistributionDialog.close()}}(this)}),this.editDistributionDialog.show($(this))},updateAdvancedFormulaStyle:function(t){var e;return e=t.find(".advanced-formula").val().length>0,t.find(".btn-advanced-formula").attr("title",e?"This field has a formula.  Click to edit.":"Alter the value of this field using a formula.").tooltip("destroy").tooltip().toggleClass("btn-primary",e).toggleClass("btn-default",!e),t.find(".btn-advanced-formula i").toggleClass("icon-formula-white",e).toggleClass("icon-formula",!e)},onAdvancedFormulaClick:function(t){var e,n;return e=$(t.currentTarget).closest(".fields"),n=e.find(".advanced-formula"),this.advancedFormulaDialog=new Mockaroo.view.AdvancedFormulaDialog({el:$("#advanced_formula_dialog"),formula:n.val(),success:function(t){return function(i){return n.val(i),t.advancedFormulaDialog.close(),t.updateAdvancedFormulaStyle(e)}}(this)}),this.advancedFormulaDialog.show()},preventTooltips:function(t){return $(document.body).addClass("no-tooltips")},restoreTooltips:function(){return $(document.body).removeClass("no-tooltips"),$(".tooltip").remove()},onReorderColumnsDblClick:function(t){var e,n,i,o,r,s,a;for(e=[],this.restoreTooltips(),a=$(".fields").toArray(),r=0,s=a.length;s>r;r++)i=a[r],"none"!==i.style.display&&e.push({name:$(i).find(".column-name").val(),el:i});return n=document.getElementById("reorder_columns_dialog"),o=ReactApp.ReorderColumnsDialog.mount(n,{columns:e,onHide:function(t){return function(){return ReactApp.ReorderColumnsDialog.unmount(n)}}(this),onApply:function(t){return function(e){var n,i,o,r,s;for(i=$(".fields"),n=$("#fields"),r=0,s=e.length;s>r;r++)o=e[r],$(i[o]).appendTo(n);return t.updatePositionsOnSort()}}(this)}),$(document).one("turbolinks:load",function(t){return function(){return ReactApp.ReorderColumnsDialog.unmount(n)}}(this))}})}.call(this),function(){Mockaroo.view.Selection=Backbone.View.extend({events:{"change #check_all":"onCheckAllClick",'change input[name="ids[]"]':"onCheckClick","click #delete":"onDeleteClick"},onCheckClick:function(t){return $("#delete").prop("disabled",0===$('input[name="ids[]"]:checked').length)},onCheckAllClick:function(t){return $('input[name="ids[]"]').prop("checked",$(t.currentTarget).prop("checked")),this.onCheckClick()},onDeleteClick:function(t){return confirm("Are you sure?")?$("form#index").submit():void 0}})}.call(this),function(){Mockaroo.view.Stripe=Backbone.View.extend({events:{"click .btn-payment":"handleClick"},initialize:function(t){return this.key=t.key,$(document).one("turbolinks:load",function(t){return function(){return t.stopListening(),t.handler?t.handler.close():void 0}}(this))},handleClick:function(t){return this.handler||(this.handler=StripeCheckout.configure({key:this.key,billingAddress:!0,token:function(t){return function(e){var n;return n=t.btn.closest("form"),n.find("input[name=stripeToken]").val(e.id),n.closest("form").submit()}}(this)})),this.btn=$(t.currentTarget),this.handler.open(_.defaults(this.btn.data(),{allowRememberMe:!1,zipCode:!0})),t.preventDefault()}})}.call(this),function(){Mockaroo.view.UsageReport=Backbone.View.extend({initialize:function(){return $(document).one("turbolinks:load",function(t){return function(){return t.stopListening()}}(this))},createUsersChart:function(t,e,n){return this.createLineChart(t,e,{title:n,yAxisLabel:"# Users",seriesTitle:"Users"})},createSchemasChart:function(t,e){return this.createLineChart(t,e,{title:"Total Schemas by Month",yAxisLabel:"# Schemas",seriesTitle:"Schemas"})},createSessionsChart:function(t,e){return this.createLineChart(t,e,{title:"Unique Visitors by Month",yAxisLabel:"# Unique Visitors",seriesTitle:"Unique Visitors"})},createBrowsersChart:function(t,e){return this.createPieChart(t,e,{type:"pie",title:"Browsers",yAxisLabel:"# Unique Visits",seriesTitle:"Browsers"})},createPlatformsChart:function(t,e){return this.createPieChart(t,e,{type:"pie",title:"Platforms",yAxisLabel:"# Unique Visits",seriesTitle:"Platforms"})},createLineChart:function(t,e,n){return $(t).highcharts({chart:{type:"line"},title:{text:n.title},xAxis:{categories:e.categories},yAxis:{title:{text:n.yAxisLabel,plotLines:[{value:0,width:1,color:"#808080"}]}},series:[{name:n.seriesTitle,data:e.values}]})},createPieChart:function(t,e,n){return $(t).highcharts({chart:{type:"pie"},title:{text:n.title},tooltip:{pointFormat:"<b>{point.y}%</b>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{formatter:function(){return"<b>"+this.point.name+"</b>: "+this.point.y+"%"}}}},series:[{type:"pie",name:n.seriesTitle,data:e.values}]})}})}.call(this),function(){Mockaroo.collection.DataTypes=Backbone.Collection.extend({search:function(t){var e;return e=new RegExp(t,"gi"),_(this.filter(function(t){return-1!==t.get("label").search(e)}))},groups:function(){return this.map(function(t){return t.get("group")})}})}.call(this),function(){$(document).on("turbolinks:load",function(){var t;return t=function(t){var e;return e=$(t).data("popover-template"),$($.parseHTML($(e).html()))},$("body").popover({selector:'[rel="popover"]',html:!0,trigger:"focus",title:function(){return t(this).find(".popover-title").html()},content:function(){return t(this).find(".popover-content").html()}}),$("body").tooltip({selector:"[rel=tooltip], .tooltip-attach",container:"body"}),$("input[type=file]").filestyle({iconName:"fa fa-folder-open"})}),$(function(t){return function(){return $.fn.editableform.buttons='<button type="submit" class="btn btn-primary btn-sm editable-submit"><i class="fa fa-check"></i></button><button type="button" class="btn btn-default btn-sm editable-cancel"><i class="fa fa-remove"></i></button>'}}(this))}.call(this),function(t){"use strict";function e(e,n){var s=m?n:h(n),a=s.worker&&Papa.WORKERS_SUPPORTED&&p;if(a){var u=l();u.userStep=s.step,u.userChunk=s.chunk,u.userComplete=s.complete,u.userError=s.error,s.step=f(s.step),s.chunk=f(s.chunk),s.complete=f(s.complete),s.error=f(s.error),delete s.worker,u.postMessage({input:e,config:s,workerId:u.id})}else if("string"==typeof e){if(!s.download){var c=new r(s),d=c.parse(e);return d}var g=new i(s);g.stream(e)}else if(t.File&&e instanceof File||e instanceof Object)if(s.step||s.chunk){var g=new o(s);g.stream(e)}else{var c=new r(s);if(m){var v=new FileReaderSync,y=v.readAsText(e,s.encoding);return c.parse(y)}v=new FileReader,v.onload=function(t){var e=new r(s);e.parse(t.target.result)},v.onerror=function(){f(s.error)&&s.error(v.error,e)},v.readAsText(e,s.encoding)}}function n(e,n){function i(){"object"==typeof n&&("string"==typeof n.delimiter&&1==n.delimiter.length&&-1==t.Papa.BAD_DELIMITERS.indexOf(n.delimiter)&&(u=n.delimiter),("boolean"==typeof n.quotes||n.quotes instanceof Array)&&(l=n.quotes),"string"==typeof n.newline&&(c=n.newline))}function o(t){if("object"!=typeof t)return[];var e=[];for(var n in t)e.push(n);return e}function r(t,e){var n="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var i=t instanceof Array&&t.length>0,o=!(e[0]instanceof Array);if(i){for(var r=0;r<t.length;r++)r>0&&(n+=u),n+=s(t[r],r);e.length>0&&(n+=c)}for(var a=0;a<e.length;a++){for(var l=i?t.length:e[a].length,h=0;l>h;h++){h>0&&(n+=u);var d=i&&o?t[h]:h;n+=s(e[a][d],h)}a<e.length-1&&(n+=c)}return n}function s(e,n){if("undefined"==typeof e||null===e)return"";e=e.toString().replace(/"/g,'""');var i="boolean"==typeof l&&l||l instanceof Array&&l[n]||a(e,t.Papa.BAD_DELIMITERS)||e.indexOf(u)>-1||" "==e.charAt(0)||" "==e.charAt(e.length-1);return i?'"'+e+'"':e}function a(t,e){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return!0;return!1}var l=!1,u=",",c="\r\n";if(i(),"string"==typeof e&&(e=JSON.parse(e)),e instanceof Array){if(!e.length||e[0]instanceof Array)return r(null,e);if("object"==typeof e[0])return r(o(e[0]),e)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),e.data instanceof Array&&(e.fields||(e.fields=e.data[0]instanceof Array?e.fields:o(e.data[0])),e.data[0]instanceof Array||"object"==typeof e.data[0]||(e.data=[e.data])),r(e.fields||[],e.data||[]);throw"exception: Unable to serialize unrecognized input"}function i(e){function n(){if(c)return void i();if(a=new XMLHttpRequest,m||(a.onload=i,a.onerror=o),a.open("GET",l,!m),e.step){var t=h+e.chunkSize-1;p&&t>p&&(t=p),a.setRequestHeader("Range","bytes="+h+"-"+t)}a.send(),m&&0==a.status?o():h+=e.chunkSize}function i(){if(4==a.readyState){if(a.status<200||a.status>=400)return void o();if(g+=v+a.responseText,v="",c=!e.step||h>s(a),!c){var n=g.lastIndexOf("\n");if(0>n&&(n=g.lastIndexOf("\r")),!(n>-1))return void u();v=g.substring(n+1),g=g.substring(0,n)}var i=y.parse(g);g="",m?t.postMessage({results:i,workerId:Papa.WORKER_ID,finished:c}):f(e.chunk)&&(console.log("CHUNKED"),e.chunk(i),i=void 0),c||i.meta.paused||u()}}function o(){f(e.error)?e.error(a.statusText):m&&e.error&&t.postMessage({workerId:Papa.WORKER_ID,error:a.statusText,finished:!1})}function s(t){var e=t.getResponseHeader("Content-Range");return parseInt(e.substr(e.lastIndexOf("/")+1))}e=e||{},e.chunkSize||(e.chunkSize=Papa.RemoteChunkSize);var a,l,u,c,h=0,p=0,g="",v="",y=new r(d(e));y.streamer=this,this.resume=function(){u()},this.finished=function(){return c},this.stream=function(t){l=t,(u=m?function(){n(),i()}:function(){n()})()}}function o(e){function n(){c||i()}function i(){var t=Math.min(h+e.chunkSize,a.size),n=u.readAsText(l.call(a,h,t),e.encoding);y||o({target:{result:n}})}function o(i){if(h+=e.chunkSize,p+=g+i.target.result,g="",c=h>=a.size,!c){var o=p.lastIndexOf("\n");if(0>o&&(o=p.lastIndexOf("\r")),!(o>-1))return void n();g=p.substring(o+1),p=p.substring(0,o)}var r=v.parse(p);p="",m?t.postMessage({results:r,workerId:Papa.WORKER_ID,finished:c}):f(e.chunk)&&(e.chunk(r,a),r=void 0),r&&r.meta.paused||n()}function s(){f(e.error)?e.error(u.error,a):m&&e.error&&t.postMessage({workerId:Papa.WORKER_ID,error:u.error,file:a,finished:!1})}e=e||{},e.chunkSize||(e.chunkSize=Papa.LocalChunkSize);var a,l,u,n,l,c,h=0,p="",g="",v=new r(d(e));v.streamer=this;var y="undefined"!=typeof FileReader;this.stream=function(t){a=t,l=a.slice||a.webkitSlice||a.mozSlice,y?(u=new FileReader,u.onload=o,u.onerror=s):u=new FileReaderSync,n()},this.finished=function(){return c},this.resume=function(){n()}}function r(t){function e(){return w&&h&&(l("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+Papa.DefaultDelimiter+"'"),h=!1),n()&&i(),o()}function n(){return t.header&&0==y.length}function i(){if(w){for(var t=0;n()&&t<w.data.length;t++)for(var e=0;e<w.data[t].length;e++)y.push(w.data[t][e]);w.data.splice(0,1)}}function o(){if(!w||!t.header&&!t.dynamicTyping)return w;for(var e=0;e<w.data.length;e++){for(var n={},i=0;i<w.data[e].length;i++){if(t.dynamicTyping){var o=w.data[e][i];"true"===o||"TRUE"===o?w.data[e][i]=!0:"false"===o||"FALSE"===o?w.data[e][i]=!1:w.data[e][i]=a(o)}t.header&&(i>=y.length?(n.__parsed_extra||(n.__parsed_extra=[]),n.__parsed_extra.push(w.data[e][i])):n[y[i]]=w.data[e][i])}t.header&&(w.data[e]=n,i>y.length?l("FieldMismatch","TooManyFields","Too many fields: expected "+y.length+" fields but parsed "+i,e):i<y.length&&l("FieldMismatch","TooFewFields","Too few fields: expected "+y.length+" fields but parsed "+i,e))}return t.header&&w.meta&&(w.meta.fields=y),w}function r(e){for(var n,i,o,r=[",","	","|",";",Papa.RECORD_SEP,Papa.UNIT_SEP],a=0;a<r.length;a++){var l=r[a],u=0,c=0;o=void 0;for(var h=new s({delimiter:l,preview:10}).parse(e),d=0;d<h.data.length;d++){var f=h.data[d].length;c+=f,"undefined"!=typeof o?f>1&&(u+=Math.abs(f-o),o=f):o=f}c/=h.data.length,("undefined"==typeof i||i>u)&&c>1.99&&(i=u,n=l)}return t.delimiter=n,{successful:!!n,bestDelimiter:n}}function a(t){var e=p.test(t);return e?parseFloat(t):t}function l(t,e,n,i){w.errors.push({type:t,code:e,message:n,row:i})}var u,c,h,p=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,m=this,g=0,v=!1,y=[],w={data:[],errors:[],meta:{}};if(f(t.step)){var b=t.step;t.step=function(i){w=i,n()?e():(g+=i.data.length,t.preview&&g>t.preview?c.abort():b(e(),m))}}this.parse=function(n){if(h=!1,!t.delimiter){var i=r(n);i.successful?t.delimiter=i.bestDelimiter:(h=!0,t.delimiter=Papa.DefaultDelimiter),w.meta.delimiter=t.delimiter}var o=d(t);return t.preview&&t.header&&o.preview++,u=n,c=new s(o),w=c.parse(u),e(),!f(t.complete)||v||m.streamer&&!m.streamer.finished()||t.complete(w),v?{meta:{paused:!0}}:w||{meta:{paused:!1}}},this.pause=function(){v=!0,c.abort(),u=u.substr(c.getCharIndex())},this.resume=function(){v=!1,c=new s(t),c.parse(u),v||(m.streamer&&!m.streamer.finished()?m.streamer.resume():f(t.complete)&&t.complete(w))},this.abort=function(){c.abort(),f(t.complete)&&t.complete(w),u=""}}function s(t){function e(){for(;M<_.length&&!$&&!(D>0&&j>=D);)'"'==R?o():A?r():s(),n();return i()}function n(){M++,R=_[M]}function i(){return $&&b("Abort","ParseAbort","Parsing was aborted by the user's step function"),A&&b("Quotes","MissingQuotes","Unescaped or mismatched quotes"),d(),f(E)?void 0:x()}function o(){y()&&!v()?A=!A:(u(),A&&v()?M++:b("Quotes","UnexpectedQuotes","Unexpected quotes"))}function r(){(m(M)||g(M))&&O++,u()}function s(){R==T?c():m(M)?(h(),n()):g(M)?h():a()?l():u()}function a(){if(!S)return!1;var t=0==M||g(M-1)||m(M-2);return t&&_[M]===S}function l(){for(;!m(M)&&!g(M)&&M<_.length;)n()}function u(){H[L][I]+=R}function c(){H[L].push(""),I=H[L].length-1}function h(){d(),O++,j++,H.push([]),L=H.length-1,c()}function d(){p(),f(E)&&(H[L]&&E(x()),k())}function p(){1==H[L].length&&N.test(H[L][0])&&(t.keepEmptyRows?H[L].splice(0,1):H.splice(L,1),L=H.length-1)}function m(t){return t<_.length-1&&("\r"==_[t]&&"\n"==_[t+1]||"\n"==_[t]&&"\r"==_[t+1])}function g(t){return"\r"==_[t]||"\n"==_[t]}function v(){return!y()&&M<_.length-1&&'"'==_[M+1]}function y(){return!A&&w(M-1)||w(M+1)}function w(t){"number"!=typeof t&&(t=M);var e=_[t];return-1>=t||t>=_.length||e==T||"\r"==e||"\n"==e}function b(t,e,n){P.push({type:t,code:e,message:n,line:O,row:L,index:M})}function C(t){_=t,A=!1,M=0,j=0,O=1,k(),H=[[""]],R=_[M]}function k(){H=[],P=[],L=0,I=0}function x(){return{data:H,errors:P,meta:{lines:O,delimiter:T,aborted:$,truncated:D>0&&M<_.length}}}var _,T,S,E,D,R,M,A,O,H,P,L,I,j,N=/^\s*$/,$=!1;t=t||{},T=t.delimiter,S=t.comments,E=t.step,D=t.preview,("string"!=typeof T||1!=T.length||Papa.BAD_DELIMITERS.indexOf(T)>-1)&&(T=","),S===!0?S="#":("string"!=typeof S||1!=S.length||Papa.BAD_DELIMITERS.indexOf(S)>-1||S==T)&&(S=!1),this.parse=function(t){if("string"!=typeof t)throw"Input must be a string";return C(t),e()},this.abort=function(){$=!0},this.getCharIndex=function(){return M}}function a(){var t="worker"+String(Math.random()).substr(2);return document.write('<script id="'+t+'"></script>'),document.getElementById(t).previousSibling.src}function l(){if(!Papa.WORKERS_SUPPORTED)return!1;var e=new t.Worker(p);return e.onmessage=u,e.id=v++,g[e.id]=e,e}function u(t){var e=t.data,n=g[e.workerId];if(e.error)n.userError(e.error,e.file);else if(e.results&&e.results.data)if(f(n.userStep)){for(var i=0;i<e.results.data.length;i++)n.userStep({data:[e.results.data[i]],errors:e.results.errors,meta:e.results.meta});delete e.results}else f(n.userChunk)&&(n.userChunk(e.results,e.file),delete e.results);e.finished&&(f(g[e.workerId].userComplete)&&g[e.workerId].userComplete(e.results),g[e.workerId].terminate(),delete g[e.workerId])}function c(e){var n=e.data;if("undefined"==typeof Papa.WORKER_ID&&n&&(Papa.WORKER_ID=n.workerId),"string"==typeof n.input)t.postMessage({workerId:Papa.WORKER_ID,results:Papa.parse(n.input,n.config),finished:!0});else if(t.File&&n.input instanceof File||n.input instanceof Object){var i=Papa.parse(n.input,n.config);i&&t.postMessage({workerId:Papa.WORKER_ID,results:i,finished:!0})}}function h(t){"object"!=typeof t&&(t={});var e=d(t);return("string"!=typeof e.delimiter||1!=e.delimiter.length||Papa.BAD_DELIMITERS.indexOf(e.delimiter)>-1)&&(e.delimiter=y.delimiter),"boolean"!=typeof e.header&&(e.header=y.header),"boolean"!=typeof e.dynamicTyping&&(e.dynamicTyping=y.dynamicTyping),"number"!=typeof e.preview&&(e.preview=y.preview),"function"!=typeof e.step&&(e.step=y.step),"function"!=typeof e.complete&&(e.complete=y.complete),"function"!=typeof e.error&&(e.error=y.error),"string"!=typeof e.encoding&&(e.encoding=y.encoding),"boolean"!=typeof e.worker&&(e.worker=y.worker),"boolean"!=typeof e.download&&(e.download=y.download),"boolean"!=typeof e.keepEmptyRows&&(e.keepEmptyRows=y.keepEmptyRows),e}function d(t){if("object"!=typeof t)return t;var e=t instanceof Array?[]:{};for(var n in t)e[n]=d(t[n]);return e}function f(t){return"function"==typeof t}var p,m=!t.document,g={},v=0,y={delimiter:"",header:!1,dynamicTyping:!1,preview:0,step:void 0,encoding:"",worker:!1,comments:!1,complete:void 0,error:void 0,download:!1,chunk:void 0,keepEmptyRows:!1};if(t.Papa={},t.Papa.parse=e,t.Papa.unparse=n,t.Papa.RECORD_SEP=String.fromCharCode(30),t.Papa.UNIT_SEP=String.fromCharCode(31),t.Papa.BYTE_ORDER_MARK="\ufeff",t.Papa.BAD_DELIMITERS=["\r","\n",'"',t.Papa.BYTE_ORDER_MARK],t.Papa.WORKERS_SUPPORTED=!!t.Worker,t.Papa.LocalChunkSize=10485760,t.Papa.RemoteChunkSize=5242880,t.Papa.DefaultDelimiter=",",t.Papa.Parser=s,t.Papa.ParserHandle=r,t.Papa.NetworkStreamer=i,t.Papa.FileStreamer=o,t.jQuery){var w=t.jQuery;w.fn.parse=function(e){function n(){if(0!=s.length){var t=s[0];if(f(e.before)){var n=e.before(t.file,t.inputElem);if("object"==typeof n){if("abort"==n.action)return void i("AbortError",t.file,t.inputElem,n.reason);if("skip"==n.action)return void o();"object"==typeof n.config&&(t.instanceConfig=w.extend(t.instanceConfig,n.config))}else if("skip"==n)return void o()}var r=t.instanceConfig.complete;t.instanceConfig.complete=function(e){f(r)&&r(e,t.file,t.inputElem),o()},Papa.parse(t.file,t.instanceConfig)}}function i(t,n,i,o){f(e.error)&&e.error({name:t},n,i,o)}function o(){s.splice(0,1),n()}var r=e.config||{},s=[];return this.each(function(e){var n="INPUT"==w(this).prop("tagName").toUpperCase()&&"file"==w(this).attr("type").toLowerCase()&&t.FileReader;if(!n||!this.files||0==this.files.length)return!0;for(var i=0;i<this.files.length;i++)s.push({file:this.files[i],inputElem:this,instanceConfig:w.extend({},r)})}),n(),this}}m?t.onmessage=c:Papa.WORKERS_SUPPORTED&&(p=a())}(this),/*!
 * Handsontable 0.16.1
 * Handsontable is a JavaScript library for editable tables with basic copy-paste compatibility with Excel and Google Docs
 *
 * Copyright (c) 2012-2014 Marcin Warpechowski
 * Copyright 2015 Handsoncode sp. z o.o. <hello@handsontable.com>
 * Licensed under the MIT license.
 * http://handsontable.com/
 *
 * Date: Fri Jul 24 2015 09:09:44 GMT+0200 (CEST)
 */
window.Handsontable={version:"0.16.1",buildDate:"Fri Jul 24 2015 09:09:44 GMT+0200 (CEST)"},function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Handsontable=t()}}(function(){var t;return function(t,e,n){return function i(t,e,n){function o(a,l){if(!e[a]){if(!t[a]){var u="function"==typeof require&&require;if(!l&&u)return u(a,!0);if(r)return r(a,!0);if(s[a]&&"undefined"!=typeof window[s[a]])return window[s[a]];var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var h=e[a]={exports:{}};t[a][0].call(h.exports,function(e){var n=t[a][1][e];return o(n?n:e)},h,h.exports,i,t,e,n)}return e[a].exports}for(var r="function"==typeof require&&require,s=JSON.parse('{"zeroclipboard":"ZeroClipboard","moment":"moment","pikaday":"Pikaday"}')||{},a=0;a<n.length;a++)o(n[a]);return o}(t,e,n),function(){return Handsontable}}({1:[function(t,e,n){"use strict";window.jQuery&&!function(t,e,n){e.fn.handsontable=function(t){var e,i,o,r,s,a=this.first(),l=a.data("handsontable");if("string"!=typeof t)return s=t||{},l?l.updateSettings(s):(l=new n.Core(a[0],s),a.data("handsontable",l),l.init()),a;if(o=[],arguments.length>1)for(e=1,i=arguments.length;i>e;e++)o.push(arguments[e]);if(l){if("undefined"==typeof l[t])throw new Error("Handsontable do not provide action: "+t);r=l[t].apply(l,o),"destroy"===t&&a.removeData()}return r}}(window,jQuery,Handsontable)},{}],2:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableBorder:{get:function(){return u}},__esModule:{value:!0}});var i,o,r,s=(i=t("./../../../dom.js"),i&&i.__esModule&&i||{"default":i}),a=(o=t("./../../../eventManager.js"),o&&o.__esModule&&o||{"default":o}).EventManager,l=(r=t("./cell/coords.js"),r&&r.__esModule&&r||{"default":r}).WalkontableCellCoords,u=function(t,e){e&&(this.eventManager=new a(t),this.instance=t,this.wot=t,this.settings=e,this.mouseDown=!1,this.main=null,this.top=null,this.left=null,this.bottom=null,this.right=null,this.topStyle=null,this.leftStyle=null,this.bottomStyle=null,this.rightStyle=null,this.cornerDefaultStyle={width:"5px",height:"5px",borderWidth:"2px",borderStyle:"solid",borderColor:"#FFF"},this.corner=null,this.cornerStyle=null,this.createBorders(e),this.registerListeners())};$traceurRuntime.createClass(u,{registerListeners:function(){var t=this;this.eventManager.addEventListener(document.body,"mousedown",function(){return t.onMouseDown()}),this.eventManager.addEventListener(document.body,"mouseup",function(){return t.onMouseUp()});for(var e=0,n=this.main.childNodes.length;n>e;e++)this.eventManager.addEventListener(this.main.childNodes[e],"mouseenter",function(e){return t.onMouseEnter(e)})},onMouseDown:function(){this.mouseDown=!0},onMouseUp:function(){this.mouseDown=!1},onMouseEnter:function(t){function e(t){return t.clientY<Math.floor(o.top)?!0:t.clientY>Math.ceil(o.top+o.height)?!0:t.clientX<Math.floor(o.left)?!0:t.clientX>Math.ceil(o.left+o.width)?!0:void 0}function n(t){e(t)&&(i.eventManager.removeEventListener(document.body,"mousemove",n),i.style.display="block")}if(this.mouseDown&&this.wot.getSetting("hideBorderOnMouseDownOver")){t.preventDefault(),t.stopImmediatePropagation();var i=this,o=this.getBoundingClientRect();this.style.display="none",this.eventManager.addEventListener(document.body,"mousemove",n)}},createBorders:function(t){this.main=document.createElement("div");var e=["top","left","bottom","right","corner"],n=this.main.style;n.position="absolute",n.top=0,n.left=0;for(var i=0;5>i;i++){var o=e[i],r=document.createElement("div");r.className="wtBorder "+(this.settings.className||""),this.settings[o]&&this.settings[o].hide&&(r.className+=" hidden"),n=r.style,n.backgroundColor=this.settings[o]&&this.settings[o].color?this.settings[o].color:t.border.color,n.height=this.settings[o]&&this.settings[o].width?this.settings[o].width+"px":t.border.width+"px",n.width=this.settings[o]&&this.settings[o].width?this.settings[o].width+"px":t.border.width+"px",this.main.appendChild(r)}this.top=this.main.childNodes[0],this.left=this.main.childNodes[1],this.bottom=this.main.childNodes[2],this.right=this.main.childNodes[3],this.topStyle=this.top.style,this.leftStyle=this.left.style,this.bottomStyle=this.bottom.style,this.rightStyle=this.right.style,this.corner=this.main.childNodes[4],this.corner.className+=" corner",this.cornerStyle=this.corner.style,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.height=this.cornerDefaultStyle.height,this.cornerStyle.border=[this.cornerDefaultStyle.borderWidth,this.cornerDefaultStyle.borderStyle,this.cornerDefaultStyle.borderColor].join(" "),Handsontable.mobileBrowser&&this.createMultipleSelectorHandles(),this.disappear(),this.wot.wtTable.bordersHolder||(this.wot.wtTable.bordersHolder=document.createElement("div"),this.wot.wtTable.bordersHolder.className="htBorders",this.wot.wtTable.spreader.appendChild(this.wot.wtTable.bordersHolder)),this.wot.wtTable.bordersHolder.insertBefore(this.main,this.wot.wtTable.bordersHolder.firstChild)},createMultipleSelectorHandles:function(){this.selectionHandles={topLeft:document.createElement("DIV"),topLeftHitArea:document.createElement("DIV"),bottomRight:document.createElement("DIV"),bottomRightHitArea:document.createElement("DIV")};var t=10,e=40;this.selectionHandles.topLeft.className="topLeftSelectionHandle",this.selectionHandles.topLeftHitArea.className="topLeftSelectionHandle-HitArea",this.selectionHandles.bottomRight.className="bottomRightSelectionHandle",this.selectionHandles.bottomRightHitArea.className="bottomRightSelectionHandle-HitArea",this.selectionHandles.styles={topLeft:this.selectionHandles.topLeft.style,topLeftHitArea:this.selectionHandles.topLeftHitArea.style,bottomRight:this.selectionHandles.bottomRight.style,bottomRightHitArea:this.selectionHandles.bottomRightHitArea.style};var n={position:"absolute",height:e+"px",width:e+"px","border-radius":parseInt(e/1.5,10)+"px"};for(var i in n)n.hasOwnProperty(i)&&(this.selectionHandles.styles.bottomRightHitArea[i]=n[i],this.selectionHandles.styles.topLeftHitArea[i]=n[i]);var o={position:"absolute",height:t+"px",width:t+"px","border-radius":parseInt(t/1.5,10)+"px",background:"#F5F5FF",border:"1px solid #4285c8"};for(var r in o)o.hasOwnProperty(r)&&(this.selectionHandles.styles.bottomRight[r]=o[r],this.selectionHandles.styles.topLeft[r]=o[r]);this.main.appendChild(this.selectionHandles.topLeft),this.main.appendChild(this.selectionHandles.bottomRight),this.main.appendChild(this.selectionHandles.topLeftHitArea),this.main.appendChild(this.selectionHandles.bottomRightHitArea)},isPartRange:function(t,e){return!this.wot.selections.area.cellRange||t==this.wot.selections.area.cellRange.to.row&&e==this.wot.selections.area.cellRange.to.col?!1:!0},updateMultipleSelectionHandlesPosition:function(t,e,n,i,o,r){var s=parseInt(this.selectionHandles.styles.topLeft.width,10),a=parseInt(this.selectionHandles.styles.topLeftHitArea.width,10);this.selectionHandles.styles.topLeft.top=parseInt(n-s,10)+"px",this.selectionHandles.styles.topLeft.left=parseInt(i-s,10)+"px",this.selectionHandles.styles.topLeftHitArea.top=parseInt(n-a/4*3,10)+"px",this.selectionHandles.styles.topLeftHitArea.left=parseInt(i-a/4*3,10)+"px",this.selectionHandles.styles.bottomRight.top=parseInt(n+r,10)+"px",this.selectionHandles.styles.bottomRight.left=parseInt(i+o,10)+"px",this.selectionHandles.styles.bottomRightHitArea.top=parseInt(n+r-a/4,10)+"px",this.selectionHandles.styles.bottomRightHitArea.left=parseInt(i+o-a/4,10)+"px",this.settings.border.multipleSelectionHandlesVisible&&this.settings.border.multipleSelectionHandlesVisible()?(this.selectionHandles.styles.topLeft.display="block",this.selectionHandles.styles.topLeftHitArea.display="block",this.isPartRange(t,e)?(this.selectionHandles.styles.bottomRight.display="none",this.selectionHandles.styles.bottomRightHitArea.display="none"):(this.selectionHandles.styles.bottomRight.display="block",this.selectionHandles.styles.bottomRightHitArea.display="block")):(this.selectionHandles.styles.topLeft.display="none",this.selectionHandles.styles.bottomRight.display="none",this.selectionHandles.styles.topLeftHitArea.display="none",this.selectionHandles.styles.bottomRightHitArea.display="none"),t==this.wot.wtSettings.getSetting("fixedRowsTop")||e==this.wot.wtSettings.getSetting("fixedColumnsLeft")?(this.selectionHandles.styles.topLeft.zIndex="9999",this.selectionHandles.styles.topLeftHitArea.zIndex="9999"):(this.selectionHandles.styles.topLeft.zIndex="",this.selectionHandles.styles.topLeftHitArea.zIndex="")},appear:function(t){if(!this.disabled){var e,n,i,o,r,a,u,c,h,d,f,p,m,g,v,y,w;w=this.wot.cloneOverlay instanceof WalkontableTopOverlay||this.wot.cloneOverlay instanceof WalkontableCornerOverlay?this.wot.getSetting("fixedRowsTop"):this.wot.wtTable.getRenderedRowsCount();for(var b=0;w>b;b++){var C=this.wot.wtTable.rowFilter.renderedToSource(b);if(C>=t[0]&&C<=t[2]){m=C;break}}for(var k=w-1;k>=0;k--){var x=this.wot.wtTable.rowFilter.renderedToSource(k);if(x>=t[0]&&x<=t[2]){v=x;break}}w=this.wot.wtTable.getRenderedColumnsCount();for(var _=0;w>_;_++){var T=this.wot.wtTable.columnFilter.renderedToSource(_);if(T>=t[1]&&T<=t[3]){g=T;break}}for(var S=w-1;S>=0;S--){var E=this.wot.wtTable.columnFilter.renderedToSource(S);if(E>=t[1]&&E<=t[3]){y=E;break}}if(void 0===m||void 0===g)return void this.disappear();e=m!==v||g!==y,n=this.wot.wtTable.getCell(new l(m,g)),i=e?this.wot.wtTable.getCell(new l(v,y)):n,o=s.offset(n),r=e?s.offset(i):o,a=s.offset(this.wot.wtTable.TABLE),c=o.top,f=r.top+s.outerHeight(i)-c,d=o.left,p=r.left+s.outerWidth(i)-d,u=c-a.top-1,h=d-a.left-1;var D=s.getComputedStyle(n);parseInt(D.borderTopWidth,10)>0&&(u+=1,f=f>0?f-1:0),parseInt(D.borderLeftWidth,10)>0&&(h+=1,p=p>0?p-1:0),this.topStyle.top=u+"px",this.topStyle.left=h+"px",this.topStyle.width=p+"px",this.topStyle.display="block",this.leftStyle.top=u+"px",this.leftStyle.left=h+"px",this.leftStyle.height=f+"px",this.leftStyle.display="block";var R=Math.floor(this.settings.border.width/2);if(this.bottomStyle.top=u+f-R+"px",this.bottomStyle.left=h+"px",this.bottomStyle.width=p+"px",this.bottomStyle.display="block",this.rightStyle.top=u+"px",this.rightStyle.left=h+p-R+"px",this.rightStyle.height=f+1+"px",this.rightStyle.display="block",Handsontable.mobileBrowser||!this.hasSetting(this.settings.border.cornerVisible)||this.isPartRange(v,y))this.cornerStyle.display="none";else if(this.cornerStyle.top=u+f-4+"px",this.cornerStyle.left=h+p-4+"px",this.cornerStyle.borderRightWidth=this.cornerDefaultStyle.borderWidth,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.display="block",y===this.wot.getSetting("totalColumns")-1){var M=s.getTrimmingContainer(this.wot.wtTable.TABLE),A=i.offsetLeft+s.outerWidth(i)>=s.innerWidth(M);A&&(this.cornerStyle.left=Math.floor(h+p-3-parseInt(this.cornerDefaultStyle.width)/2)+"px",this.cornerStyle.borderRightWidth=0)}Handsontable.mobileBrowser&&this.updateMultipleSelectionHandlesPosition(m,g,u,h,p,f)}},disappear:function(){this.topStyle.display="none",this.leftStyle.display="none",this.bottomStyle.display="none",this.rightStyle.display="none",this.cornerStyle.display="none",Handsontable.mobileBrowser&&(this.selectionHandles.styles.topLeft.display="none",this.selectionHandles.styles.bottomRight.display="none")},hasSetting:function(t){return"function"==typeof t?t():!!t}},{}),window.WalkontableBorder=u},{"./../../../dom.js":27,"./../../../eventManager.js":41,"./cell/coords.js":5}],3:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableViewportColumnsCalculator:{get:function(){return o}},__esModule:{value:!0}});var i=new WeakMap,o=function(t,e,n,o,r,s,a){i.set(this,{viewportWidth:t,scrollOffset:e,totalColumns:n,columnWidthFn:o,overrideFn:r,onlyFullyVisible:s}),this.count=0,this.startColumn=null,this.endColumn=null,this.startPosition=null,this.stretchAllRatio=0,this.stretchLastWidth=0,this.stretch=a,this.totalTargetWidth=0,this.needVerifyLastColumnWidth=!0,this.stretchAllColumnsWidth=[],this.calculate()},r=o;$traceurRuntime.createClass(o,{calculate:function(){for(var t,e=0,n=!0,o=[],r=i.get(this),s=r.onlyFullyVisible,a=r.overrideFn,l=r.scrollOffset,u=r.totalColumns,c=r.viewportWidth,h=0;u>h;h++)if(t=this._getColumnWidth(h),l>=e&&!s&&(this.startColumn=h),e>=l&&l+c>=e+t&&(null==this.startColumn&&(this.startColumn=h),this.endColumn=h),o.push(e),e+=t,s||(this.endColumn=h),e>=l+c){n=!1;break}if(this.endColumn===u-1&&n)for(this.startColumn=this.endColumn;this.startColumn>0;){var d=o[this.endColumn]+t-o[this.startColumn-1];if((c>=d||!s)&&this.startColumn--,d>c)break}null!==this.startColumn&&a&&a(this),this.startPosition=o[this.startColumn],void 0==this.startPosition&&(this.startPosition=null),null!==this.startColumn&&(this.count=this.endColumn-this.startColumn+1)},refreshStretching:function(t){if("none"!==this.stretch){for(var e,n,o=0,r=i.get(this),s=r.totalColumns,a=0;s>a;a++)e=this._getColumnWidth(a),o+=e;this.totalTargetWidth=t,n=o-t,"all"===this.stretch&&0>n?(this.stretchAllRatio=t/o,this.stretchAllColumnsWidth=[],this.needVerifyLastColumnWidth=!0):"last"===this.stretch&&t!==1/0&&(this.stretchLastWidth=-n+this._getColumnWidth(s-1))}},getStretchedColumnWidth:function(t,e){var n=null;return"all"===this.stretch&&0!==this.stretchAllRatio?n=this._getStretchedAllColumnWidth(t,e):"last"===this.stretch&&0!==this.stretchLastWidth&&(n=this._getStretchedLastColumnWidth(t)),n},_getStretchedAllColumnWidth:function(t,e){var n=0,o=i.get(this),r=o.totalColumns;if(this.stretchAllColumnsWidth[t]||(this.stretchAllColumnsWidth[t]=Math.round(e*this.stretchAllRatio)),this.stretchAllColumnsWidth.length===r&&this.needVerifyLastColumnWidth){this.needVerifyLastColumnWidth=!1;for(var s=0;s<this.stretchAllColumnsWidth.length;s++)n+=this.stretchAllColumnsWidth[s];n!==this.totalTargetWidth&&(this.stretchAllColumnsWidth[this.stretchAllColumnsWidth.length-1]+=this.totalTargetWidth-n)}return this.stretchAllColumnsWidth[t]},_getStretchedLastColumnWidth:function(t){var e=i.get(this),n=e.totalColumns;return t===n-1?this.stretchLastWidth:null},_getColumnWidth:function(t){var e=i.get(this).columnWidthFn(t);return void 0===e&&(e=r.DEFAULT_WIDTH),e}},{get DEFAULT_WIDTH(){return 50}}),window.WalkontableViewportColumnsCalculator=o},{}],4:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableViewportRowsCalculator:{get:function(){return o}},__esModule:{value:!0}});var i=new WeakMap,o=function(t,e,n,o,r,s){i.set(this,{viewportHeight:t,scrollOffset:e,totalRows:n,rowHeightFn:o,overrideFn:r,onlyFullyVisible:s}),this.count=0,this.startRow=null,this.endRow=null,this.startPosition=null,this.calculate()},r=o;$traceurRuntime.createClass(o,{calculate:function(){for(var t=0,e=!0,n=[],o=i.get(this),s=o.onlyFullyVisible,a=o.overrideFn,l=o.rowHeightFn,u=o.scrollOffset,c=o.totalRows,h=o.viewportHeight,d=0;c>d;d++){var f=l(d);if(void 0===f&&(f=r.DEFAULT_HEIGHT),u>=t&&!s&&(this.startRow=d),t>=u&&u+h>=t+f&&(null===this.startRow&&(this.startRow=d),this.endRow=d),n.push(t),t+=f,s||(this.endRow=d),t>=u+h){e=!1;break}}if(this.endRow===c-1&&e)for(this.startRow=this.endRow;this.startRow>0;){var p=n[this.endRow]+f-n[this.startRow-1];if((h>=p||!s)&&this.startRow--,p>=h)break}null!==this.startRow&&a&&a(this),this.startPosition=n[this.startRow],void 0==this.startPosition&&(this.startPosition=null),null!==this.startRow&&(this.count=this.endRow-this.startRow+1)}},{get DEFAULT_HEIGHT(){return 23}}),window.WalkontableViewportRowsCalculator=o},{}],5:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableCellCoords:{get:function(){return i}},__esModule:{value:!0}});var i=function(t,e){"undefined"!=typeof t&&"undefined"!=typeof e?(this.row=t,this.col=e):(this.row=null,this.col=null)};$traceurRuntime.createClass(i,{isValid:function(t){return this.row<0||this.col<0?!1:this.row>=t.getSetting("totalRows")||this.col>=t.getSetting("totalColumns")?!1:!0},isEqual:function(t){return t===this?!0:this.row===t.row&&this.col===t.col},isSouthEastOf:function(t){return this.row>=t.row&&this.col>=t.col},isNorthWestOf:function(t){return this.row<=t.row&&this.col<=t.col},isSouthWestOf:function(t){return this.row>=t.row&&this.col<=t.col},isNorthEastOf:function(t){return this.row<=t.row&&this.col>=t.col}},{}),window.WalkontableCellCoords=i},{}],6:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableCellRange:{get:function(){return r}},__esModule:{value:!0}});var i,o=(i=t("./../cell/coords.js"),i&&i.__esModule&&i||{"default":i}).WalkontableCellCoords,r=function(t,e,n){this.highlight=t,this.from=e,this.to=n},s=r;$traceurRuntime.createClass(r,{isValid:function(t){return this.from.isValid(t)&&this.to.isValid(t)},isSingle:function(){return this.from.row===this.to.row&&this.from.col===this.to.col},getHeight:function(){return Math.max(this.from.row,this.to.row)-Math.min(this.from.row,this.to.row)+1},getWidth:function(){return Math.max(this.from.col,this.to.col)-Math.min(this.from.col,this.to.col)+1},includes:function(t){var e=this.getTopLeftCorner(),n=this.getBottomRightCorner();return t.row<0&&(t.row=0),t.col<0&&(t.col=0),e.row<=t.row&&n.row>=t.row&&e.col<=t.col&&n.col>=t.col},includesRange:function(t){return this.includes(t.getTopLeftCorner())&&this.includes(t.getBottomRightCorner())},isEqual:function(t){return Math.min(this.from.row,this.to.row)==Math.min(t.from.row,t.to.row)&&Math.max(this.from.row,this.to.row)==Math.max(t.from.row,t.to.row)&&Math.min(this.from.col,this.to.col)==Math.min(t.from.col,t.to.col)&&Math.max(this.from.col,this.to.col)==Math.max(t.from.col,t.to.col)},overlaps:function(t){return t.isSouthEastOf(this.getTopLeftCorner())&&t.isNorthWestOf(this.getBottomRightCorner())},isSouthEastOf:function(t){return this.getTopLeftCorner().isSouthEastOf(t)||this.getBottomRightCorner().isSouthEastOf(t)},isNorthWestOf:function(t){return this.getTopLeftCorner().isNorthWestOf(t)||this.getBottomRightCorner().isNorthWestOf(t)},expand:function(t){var e=this.getTopLeftCorner(),n=this.getBottomRightCorner();return t.row<e.row||t.col<e.col||t.row>n.row||t.col>n.col?(this.from=new o(Math.min(e.row,t.row),Math.min(e.col,t.col)),this.to=new o(Math.max(n.row,t.row),Math.max(n.col,t.col)),!0):!1},expandByRange:function(t){if(this.includesRange(t)||!this.overlaps(t))return!1;var e=this.getTopLeftCorner(),n=this.getBottomRightCorner(),i=(this.getTopRightCorner(),this.getBottomLeftCorner(),t.getTopLeftCorner()),r=t.getBottomRightCorner(),a=Math.min(e.row,i.row),l=Math.min(e.col,i.col),u=Math.max(n.row,r.row),c=Math.max(n.col,r.col),h=new o(a,l),d=new o(u,c),f=new s(h,h,d).isCorner(this.from,t),p=t.isEqual(new s(h,h,d));return f&&!p&&(this.from.col>h.col&&(h.col=c,d.col=l),this.from.row>h.row&&(h.row=u,d.row=a)),this.from=h,this.to=d,!0},getDirection:function(){return this.from.isNorthWestOf(this.to)?"NW-SE":this.from.isNorthEastOf(this.to)?"NE-SW":this.from.isSouthEastOf(this.to)?"SE-NW":this.from.isSouthWestOf(this.to)?"SW-NE":void 0},setDirection:function(t){switch(t){case"NW-SE":this.from=this.getTopLeftCorner(),this.to=this.getBottomRightCorner();break;case"NE-SW":this.from=this.getTopRightCorner(),this.to=this.getBottomLeftCorner();break;case"SE-NW":this.from=this.getBottomRightCorner(),this.to=this.getTopLeftCorner();break;case"SW-NE":this.from=this.getBottomLeftCorner(),this.to=this.getTopRightCorner()}},getTopLeftCorner:function(){return new o(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))},getBottomRightCorner:function(){return new o(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))},getTopRightCorner:function(){return new o(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))},getBottomLeftCorner:function(){return new o(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))},isCorner:function(t,e){return e&&e.includes(t)&&(this.getTopLeftCorner().isEqual(new o(e.from.row,e.from.col))||this.getTopRightCorner().isEqual(new o(e.from.row,e.to.col))||this.getBottomLeftCorner().isEqual(new o(e.to.row,e.from.col))||this.getBottomRightCorner().isEqual(new o(e.to.row,e.to.col)))?!0:t.isEqual(this.getTopLeftCorner())||t.isEqual(this.getTopRightCorner())||t.isEqual(this.getBottomLeftCorner())||t.isEqual(this.getBottomRightCorner())},getOppositeCorner:function(t,e){if(!(t instanceof o))return!1;if(e&&e.includes(t)){if(this.getTopLeftCorner().isEqual(new o(e.from.row,e.from.col)))return this.getBottomRightCorner();if(this.getTopRightCorner().isEqual(new o(e.from.row,e.to.col)))return this.getBottomLeftCorner();if(this.getBottomLeftCorner().isEqual(new o(e.to.row,e.from.col)))return this.getTopRightCorner();if(this.getBottomRightCorner().isEqual(new o(e.to.row,e.to.col)))return this.getTopLeftCorner()}return t.isEqual(this.getBottomRightCorner())?this.getTopLeftCorner():t.isEqual(this.getTopLeftCorner())?this.getBottomRightCorner():t.isEqual(this.getTopRightCorner())?this.getBottomLeftCorner():t.isEqual(this.getBottomLeftCorner())?this.getTopRightCorner():void 0},getBordersSharedWith:function(t){if(!this.includesRange(t))return[];var e={top:Math.min(this.from.row,this.to.row),bottom:Math.max(this.from.row,this.to.row),left:Math.min(this.from.col,this.to.col),right:Math.max(this.from.col,this.to.col)},n={top:Math.min(t.from.row,t.to.row),bottom:Math.max(t.from.row,t.to.row),left:Math.min(t.from.col,t.to.col),right:Math.max(t.from.col,t.to.col)},i=[];return e.top==n.top&&i.push("top"),e.right==n.right&&i.push("right"),e.bottom==n.bottom&&i.push("bottom"),e.left==n.left&&i.push("left"),i},getInner:function(){for(var t=this.getTopLeftCorner(),e=this.getBottomRightCorner(),n=[],i=t.row;i<=e.row;i++)for(var r=t.col;r<=e.col;r++)this.from.row===i&&this.from.col===r||this.to.row===i&&this.to.col===r||n.push(new o(i,r));return n},getAll:function(){for(var t=this.getTopLeftCorner(),e=this.getBottomRightCorner(),n=[],i=t.row;i<=e.row;i++)for(var r=t.col;r<=e.col;r++)t.row===i&&t.col===r?n.push(t):e.row===i&&e.col===r?n.push(e):n.push(new o(i,r));return n},forAll:function(t){for(var e=this.getTopLeftCorner(),n=this.getBottomRightCorner(),i=e.row;i<=n.row;i++)for(var o=e.col;o<=n.col;o++){var r=t(i,o);if(r===!1)return}}},{}),window.WalkontableCellRange=r},{"./../cell/coords.js":5}],7:[function(t,e,n){"use strict";Object.defineProperties(n,{Walkontable:{get:function(){return k}},__esModule:{value:!0}});var i,o,o,r,s,a,l,u,c,h=(i=t("./../../../dom.js"),i&&i.__esModule&&i||{"default":i}),d=(o=t("./../../../helpers.js"),o&&o.__esModule&&o||{"default":o}),f=d.objectEach,p=d.toUpperCaseFirst,m=(o=t("./../../../helpers.js"),o&&o.__esModule&&o||{"default":o}).randomString,g=(r=t("./event.js"),r&&r.__esModule&&r||{"default":r}).WalkontableEvent,v=(s=t("./overlays.js"),s&&s.__esModule&&s||{"default":s}).WalkontableOverlays,y=(a=t("./scroll.js"),a&&a.__esModule&&a||{"default":a}).WalkontableScroll,w=(l=t("./settings.js"),l&&l.__esModule&&l||{"default":l}).WalkontableSettings,b=(u=t("./table.js"),u&&u.__esModule&&u||{"default":u}).WalkontableTable,C=(c=t("./viewport.js"),c&&c.__esModule&&c||{"default":c}).WalkontableViewport,k=function(t){var e=[];if(this.guid="wt_"+m(),t.cloneSource?(this.cloneSource=t.cloneSource,this.cloneOverlay=t.cloneOverlay,this.wtSettings=t.cloneSource.wtSettings,this.wtTable=new b(this,t.table,t.wtRootElement),this.wtScroll=new y(this),this.wtViewport=t.cloneSource.wtViewport,this.wtEvent=new g(this),this.selections=this.cloneSource.selections):(this.wtSettings=new w(this,t),this.wtTable=new b(this,t.table),this.wtScroll=new y(this),this.wtViewport=new C(this),this.wtEvent=new g(this),this.selections=this.getSetting("selections"),this.wtOverlays=new v(this),this.exportSettingsAsClassNames()),this.wtTable.THEAD.childNodes.length&&this.wtTable.THEAD.childNodes[0].childNodes.length){for(var n=0,i=this.wtTable.THEAD.childNodes[0].childNodes.length;i>n;n++)e.push(this.wtTable.THEAD.childNodes[0].childNodes[n].innerHTML);this.getSetting("columnHeaders").length||this.update("columnHeaders",[function(t,n){h.fastInnerText(n,e[t])}])}this.drawn=!1,this.drawInterrupted=!1};$traceurRuntime.createClass(k,{draw:function(){var t=void 0!==arguments[0]?arguments[0]:!1;return this.drawInterrupted=!1,t||h.isVisible(this.wtTable.TABLE)?this.wtTable.draw(t):this.drawInterrupted=!0,this},getCell:function(t){var e=void 0!==arguments[1]?arguments[1]:!1;if(!e)return this.wtTable.getCell(t);var n=this.wtSettings.getSetting("fixedRowsTop"),i=this.wtSettings.getSetting("fixedColumnsLeft");return t.row<n&&t.col<i?this.wtOverlays.topLeftCornerOverlay.clone.wtTable.getCell(t):t.row<n?this.wtOverlays.topOverlay.clone.wtTable.getCell(t):t.col<i?this.wtOverlays.leftOverlay.clone.wtTable.getCell(t):this.wtTable.getCell(t)},update:function(t,e){return this.wtSettings.update(t,e)},scrollVertical:function(t){return this.wtOverlays.topOverlay.scrollTo(t),this.getSetting("onScrollVertically"),this},scrollHorizontal:function(t){return this.wtOverlays.leftOverlay.scrollTo(t),this.getSetting("onScrollHorizontally"),this},scrollViewport:function(t){return this.wtScroll.scrollViewport(t),this},getViewport:function(){return[this.wtTable.getFirstVisibleRow(),this.wtTable.getFirstVisibleColumn(),this.wtTable.getLastVisibleRow(),this.wtTable.getLastVisibleColumn()]},getOverlayName:function(){return this.cloneOverlay?this.cloneOverlay.type:"master"},exportSettingsAsClassNames:function(){var t=this,e={rowHeaders:["array"],columnHeaders:["array"]},n=[],i=[];f(e,function(e,o){e.indexOf("array")>-1&&t.getSetting(o).length&&i.push("ht"+p(o)),n.push("ht"+p(o))}),h.removeClass(this.wtTable.wtRootElement.parentNode,n),h.addClass(this.wtTable.wtRootElement.parentNode,i)},getSetting:function(t,e,n,i,o){return this.wtSettings.getSetting(t,e,n,i,o)},hasSetting:function(t){return this.wtSettings.has(t)},destroy:function(){this.wtOverlays.destroy(),this.wtEvent.destroy()}},{}),window.Walkontable=k},{"./../../../dom.js":27,"./../../../helpers.js":42,"./event.js":8,"./overlays.js":16,"./scroll.js":17,"./settings.js":19,"./table.js":20,"./viewport.js":22}],8:[function(t,e,n){"use strict";function i(t){var e=this,n=a(t);this.instance=t;var i=[null,null];this.dblClickTimeout=[null,null];var o,r,l=function(t){var n=e.parentCell(t.realTarget);s.hasClass(t.realTarget,"corner")?e.instance.getSetting("onCellCornerMouseDown",t,t.realTarget):n.TD&&e.instance.hasSetting("onCellMouseDown")&&e.instance.getSetting("onCellMouseDown",t,n.coords,n.TD,e.instance),2!==t.button&&n.TD&&(i[0]=n.TD,clearTimeout(e.dblClickTimeout[0]),e.dblClickTimeout[0]=setTimeout(function(){i[0]=null},1e3))},u=function(t){e.instance.touchMoving=!0},c=function(t){n.addEventListener(this,"touchmove",u),e.checkIfTouchMove=setTimeout(function(){return e.instance.touchMoving===!0?(e.instance.touchMoving=void 0,void n.removeEventListener("touchmove",u,!1)):void l(t)},30)},h=function(t){var n,i;e.instance.hasSetting("onCellMouseOver")&&(n=e.instance.wtTable.TABLE,i=s.closest(t.realTarget,["TD","TH"],n),i&&i!==r&&s.isChildOf(i,n)&&(r=i,e.instance.getSetting("onCellMouseOver",t,e.instance.wtTable.getCoords(i),i,e.instance)))},d=function(t){if(2!==t.button){var n=e.parentCell(t.realTarget);n.TD===i[0]&&n.TD===i[1]?(s.hasClass(t.realTarget,"corner")?e.instance.getSetting("onCellCornerDblClick",t,n.coords,n.TD,e.instance):e.instance.getSetting("onCellDblClick",t,n.coords,n.TD,e.instance),i[0]=null,i[1]=null):n.TD===i[0]&&(i[1]=n.TD,clearTimeout(e.dblClickTimeout[1]),e.dblClickTimeout[1]=setTimeout(function(){i[1]=null},500))}},f=function(t){clearTimeout(o),t.preventDefault(),d(t)};if(n.addEventListener(this.instance.wtTable.holder,"mousedown",l),n.addEventListener(this.instance.wtTable.TABLE,"mouseover",h),n.addEventListener(this.instance.wtTable.holder,"mouseup",d),this.instance.wtTable.holder.parentNode.parentNode&&Handsontable.mobileBrowser&&!e.instance.wtTable.isWorkingOnClone()){var p="."+this.instance.wtTable.holder.parentNode.className.split(" ").join(".");n.addEventListener(this.instance.wtTable.holder,"touchstart",function(t){e.instance.touchApplied=!0,s.isChildOf(t.target,p)&&c.call(t.target,t)}),n.addEventListener(this.instance.wtTable.holder,"touchend",function(t){e.instance.touchApplied=!1,s.isChildOf(t.target,p)&&f.call(t.target,t)}),e.instance.momentumScrolling||(e.instance.momentumScrolling={}),n.addEventListener(this.instance.wtTable.holder,"scroll",function(t){clearTimeout(e.instance.momentumScrolling._timeout),e.instance.momentumScrolling.ongoing||e.instance.getSetting("onBeforeTouchScroll"),e.instance.momentumScrolling.ongoing=!0,e.instance.momentumScrolling._timeout=setTimeout(function(){e.instance.touchApplied||(e.instance.momentumScrolling.ongoing=!1,e.instance.getSetting("onAfterMomentumScroll"))},200)})}n.addEventListener(window,"resize",function(){"none"!==e.instance.getSetting("stretchH")&&e.instance.draw()}),this.destroy=function(){clearTimeout(this.dblClickTimeout[0]),clearTimeout(this.dblClickTimeout[1]),n.destroy()}}Object.defineProperties(n,{WalkontableEvent:{get:function(){return i}},__esModule:{value:!0}});var o,r,s=(o=t("./../../../dom.js"),o&&o.__esModule&&o||{"default":o}),a=(r=t("./../../../eventManager.js"),r&&r.__esModule&&r||{"default":r}).eventManager;i.prototype.parentCell=function(t){var e={},n=this.instance.wtTable.TABLE,i=s.closest(t,["TD","TH"],n);return i&&s.isChildOf(i,n)?(e.coords=this.instance.wtTable.getCoords(i),e.TD=i):s.hasClass(t,"wtBorder")&&s.hasClass(t,"current")?(e.coords=this.instance.selections.current.cellRange.highlight,e.TD=this.instance.wtTable.getCell(e.coords)):s.hasClass(t,"wtBorder")&&s.hasClass(t,"area")&&this.instance.selections.area.cellRange&&(e.coords=this.instance.selections.area.cellRange.to,e.TD=this.instance.wtTable.getCell(e.coords)),e},window.WalkontableEvent=i},{"./../../../dom.js":27,"./../../../eventManager.js":41}],9:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableColumnFilter:{get:function(){return i}},__esModule:{value:!0}});var i=function(t,e,n){this.offset=t,this.total=e,this.countTH=n};$traceurRuntime.createClass(i,{offsetted:function(t){return t+this.offset},unOffsetted:function(t){return t-this.offset},renderedToSource:function(t){return this.offsetted(t)},sourceToRendered:function(t){return this.unOffsetted(t)},offsettedTH:function(t){return t-this.countTH},unOffsettedTH:function(t){return t+this.countTH},visibleRowHeadedColumnToSourceColumn:function(t){return this.renderedToSource(this.offsettedTH(t))},sourceColumnToVisibleRowHeadedColumn:function(t){return this.unOffsettedTH(this.sourceToRendered(t))}},{}),window.WalkontableColumnFilter=i},{}],10:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableRowFilter:{get:function(){return i}},__esModule:{value:!0}});var i=function(t,e,n){this.offset=t,this.total=e,this.countTH=n};$traceurRuntime.createClass(i,{offsetted:function(t){return t+this.offset},unOffsetted:function(t){return t-this.offset},renderedToSource:function(t){return this.offsetted(t)},sourceToRendered:function(t){return this.unOffsetted(t)},offsettedTH:function(t){return t-this.countTH},unOffsettedTH:function(t){return t+this.countTH},visibleColHeadedRowToSourceRow:function(t){return this.renderedToSource(this.offsettedTH(t))},sourceRowToVisibleColHeadedRow:function(t){return this.unOffsettedTH(this.sourceToRendered(t))}},{}),window.WalkontableRowFilter=i},{}],11:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableOverlay:{get:function(){return u}},__esModule:{value:!0}});var i,o,r,s=(i=t("./../../../../dom.js"),i&&i.__esModule&&i||{"default":i}),a=(o=t("./../../../../helpers.js"),o&&o.__esModule&&o||{"default":o}).defineGetter,l=(r=t("./../../../../eventManager.js"),r&&r.__esModule&&r||{"default":r}).eventManager,u=function(t){a(this,"wot",t,{writable:!1}),this.instance=this.wot,this.type="",this.TABLE=this.wot.wtTable.TABLE,this.hider=this.wot.wtTable.hider,this.spreader=this.wot.wtTable.spreader,this.holder=this.wot.wtTable.holder,this.wtRootElement=this.wot.wtTable.wtRootElement,this.trimmingContainer=s.getTrimmingContainer(this.hider.parentNode.parentNode),this.mainTableScrollableElement=s.getScrollableElement(this.wot.wtTable.TABLE),this.needFullRender=this.shouldBeRendered(),this.isElementSizesAdjusted=!1},c=u;$traceurRuntime.createClass(u,{shouldBeRendered:function(){return!0},makeClone:function(t){if(-1===c.CLONE_TYPES.indexOf(t))throw new Error('Clone type "'+t+'" is not supported.');var e=document.createElement("DIV"),n=document.createElement("TABLE");return e.className="ht_clone_"+t+" handsontable",e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.overflow="hidden",n.className=this.wot.wtTable.TABLE.className,e.appendChild(n),
this.type=t,this.wot.wtTable.wtRootElement.parentNode.appendChild(e),new Walkontable({cloneSource:this.wot,cloneOverlay:this,table:n})},refresh:function(){var t=void 0!==arguments[0]?arguments[0]:!1,e=this.shouldBeRendered();this.clone&&(this.needFullRender||e)&&this.clone.draw(t),this.needFullRender=e},destroy:function(){l(this.clone).destroy()}},{get CLONE_TOP(){return"top"},get CLONE_LEFT(){return"left"},get CLONE_CORNER(){return"corner"},get CLONE_DEBUG(){return"debug"},get CLONE_TYPES(){return[c.CLONE_TOP,c.CLONE_LEFT,c.CLONE_CORNER,c.CLONE_DEBUG]}}),window.WalkontableOverlay=u},{"./../../../../dom.js":27,"./../../../../eventManager.js":41,"./../../../../helpers.js":42}],12:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableCornerOverlay:{get:function(){return a}},__esModule:{value:!0}});var i,o,r=(i=t("./../../../../dom.js"),i&&i.__esModule&&i||{"default":i}),s=(o=t("./_base.js"),o&&o.__esModule&&o||{"default":o}).WalkontableOverlay,a=function(t){$traceurRuntime.superConstructor(l).call(this,t),this.clone=this.makeClone(s.CLONE_CORNER)},l=a;$traceurRuntime.createClass(a,{shouldBeRendered:function(){return(this.wot.getSetting("fixedRowsTop")||this.wot.getSetting("columnHeaders").length)&&(this.wot.getSetting("fixedColumnsLeft")||this.wot.getSetting("rowHeaders").length)?!0:!1},resetFixedPosition:function(){if(this.wot.wtTable.holder.parentNode){var t=this.clone.wtTable.holder.parentNode,e=r.outerHeight(this.clone.wtTable.TABLE),n=r.outerWidth(this.clone.wtTable.TABLE);if(this.trimmingContainer===window){var i,o,s=this.wot.wtTable.hider.getBoundingClientRect(),a=Math.ceil(s.top),l=Math.ceil(s.left),u=Math.ceil(s.bottom),c=Math.ceil(s.right);i=0>l&&c-t.offsetWidth>0?-l+"px":"0",o=0>a&&u-t.offsetHeight>0?-a+"px":"0",r.setOverlayPosition(t,i,o)}t.style.height=(0===e?e:e+4)+"px",t.style.width=(0===n?n:n+4)+"px"}}},{},s),window.WalkontableCornerOverlay=a},{"./../../../../dom.js":27,"./_base.js":11}],13:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableDebugOverlay:{get:function(){return a}},__esModule:{value:!0}});var i,o,r=(i=t("./../../../../dom.js"),i&&i.__esModule&&i||{"default":i}),s=(o=t("./_base.js"),o&&o.__esModule&&o||{"default":o}).WalkontableOverlay,a=function(t){$traceurRuntime.superConstructor(l).call(this,t),this.clone=this.makeClone(s.CLONE_DEBUG),this.clone.wtTable.holder.style.opacity=.4,this.clone.wtTable.holder.style.textShadow="0 0 2px #ff0000",r.addClass(this.clone.wtTable.holder.parentNode,"wtDebugVisible")},l=a;$traceurRuntime.createClass(a,{},{},s),window.WalkontableDebugOverlay=a},{"./../../../../dom.js":27,"./_base.js":11}],14:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableLeftOverlay:{get:function(){return a}},__esModule:{value:!0}});var i,o,r=(i=t("./../../../../dom.js"),i&&i.__esModule&&i||{"default":i}),s=(o=t("./_base.js"),o&&o.__esModule&&o||{"default":o}).WalkontableOverlay,a=function(t){$traceurRuntime.superConstructor(l).call(this,t),this.clone=this.makeClone(s.CLONE_LEFT)},l=a;$traceurRuntime.createClass(a,{shouldBeRendered:function(){return this.wot.getSetting("fixedColumnsLeft")||this.wot.getSetting("rowHeaders").length?!0:!1},resetFixedPosition:function(){if(this.needFullRender&&this.wot.wtTable.holder.parentNode){var t=this.clone.wtTable.holder.parentNode,e=0;if(this.trimmingContainer===window){var n,i,o=this.wot.wtTable.hider.getBoundingClientRect(),s=Math.ceil(o.left),a=Math.ceil(o.right);i=this.wot.wtTable.hider.style.top,i=""===i?0:i,n=0>s&&a-t.offsetWidth>0?-s:0,e=n,n+="px",r.setOverlayPosition(t,n,i)}else e=this.getScrollPosition();this.adjustHeaderBordersPosition(e)}},setScrollPosition:function(t){this.mainTableScrollableElement===window?window.scrollTo(t,r.getWindowScrollTop()):this.mainTableScrollableElement.scrollLeft=t},onScroll:function(){this.wot.getSetting("onScrollHorizontally")},sumCellSizes:function(t,e){for(var n=0,i=this.wot.wtSettings.defaultColumnWidth;e>t;)n+=this.wot.wtTable.getStretchedColumnWidth(t)||i,t++;return n},adjustElementsSize:function(){var t=void 0!==arguments[0]?arguments[0]:!1;(this.needFullRender||t)&&(this.adjustRootElementSize(),this.adjustRootChildsSize(),t||(this.isElementSizesAdjusted=!0))},adjustRootElementSize:function(){var t,e=this.wot.wtTable.holder,n=e.clientHeight!==e.offsetHeight?r.getScrollbarWidth():0,i=this.clone.wtTable.holder.parentNode,o=i.style;this.trimmingContainer!==window&&(o.height=this.wot.wtViewport.getWorkspaceHeight()-n+"px"),this.clone.wtTable.holder.style.height=o.height,t=r.outerWidth(this.clone.wtTable.TABLE),o.width=(0===t?t:t+4)+"px"},adjustRootChildsSize:function(){var t=r.getScrollbarWidth();this.clone.wtTable.hider.style.height=this.hider.style.height,this.clone.wtTable.holder.style.height=this.clone.wtTable.holder.parentNode.style.height,0===t&&(t=30),this.clone.wtTable.holder.style.width=parseInt(this.clone.wtTable.holder.parentNode.style.width,10)+t+"px"},applyToDOM:function(){var t=this.wot.getSetting("totalColumns");if(this.isElementSizesAdjusted||this.adjustElementsSize(),"number"==typeof this.wot.wtViewport.columnsRenderCalculator.startPosition)this.spreader.style.left=this.wot.wtViewport.columnsRenderCalculator.startPosition+"px";else{if(0!==t)throw new Error("Incorrect value of the columnsRenderCalculator");this.spreader.style.left="0"}this.spreader.style.right="",this.needFullRender&&this.syncOverlayOffset()},syncOverlayOffset:function(){"number"==typeof this.wot.wtViewport.rowsRenderCalculator.startPosition?this.clone.wtTable.spreader.style.top=this.wot.wtViewport.rowsRenderCalculator.startPosition+"px":this.clone.wtTable.spreader.style.top=""},scrollTo:function(t,e){var n=this.getTableParentOffset(),i=this.wot.cloneSource?this.wot.cloneSource:this.wot,o=i.wtTable.holder,s=0;e&&o.offsetWidth!==o.clientWidth&&(s=r.getScrollbarWidth()),e?(n+=this.sumCellSizes(0,t+1),n-=this.wot.wtViewport.getViewportWidth()):n+=this.sumCellSizes(this.wot.getSetting("fixedColumnsLeft"),t),n+=s,this.setScrollPosition(n)},getTableParentOffset:function(){return this.trimmingContainer===window?this.wot.wtTable.holderOffset.left:0},getScrollPosition:function(){return r.getScrollLeft(this.mainTableScrollableElement)},adjustHeaderBordersPosition:function(t){var e=this.wot.wtTable.holder.parentNode,n=this.wot.getSetting("rowHeaders"),i=this.wot.getSetting("fixedColumnsLeft");if(i&&!n.length)r.addClass(e,"innerBorderLeft");else if(!i&&n.length){var o=r.hasClass(e,"innerBorderLeft");t?r.addClass(e,"innerBorderLeft"):r.removeClass(e,"innerBorderLeft"),(!o&&t||o&&!t)&&this.wot.wtOverlays.adjustElementsSize()}}},{},s),window.WalkontableLeftOverlay=a},{"./../../../../dom.js":27,"./_base.js":11}],15:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableTopOverlay:{get:function(){return a}},__esModule:{value:!0}});var i,o,r=(i=t("./../../../../dom.js"),i&&i.__esModule&&i||{"default":i}),s=(o=t("./_base.js"),o&&o.__esModule&&o||{"default":o}).WalkontableOverlay,a=function(t){$traceurRuntime.superConstructor(l).call(this,t),this.clone=this.makeClone(s.CLONE_TOP)},l=a;$traceurRuntime.createClass(a,{shouldBeRendered:function(){return this.wot.getSetting("fixedRowsTop")||this.wot.getSetting("columnHeaders").length?!0:!1},resetFixedPosition:function(){if(this.needFullRender&&this.wot.wtTable.holder.parentNode){var t=this.clone.wtTable.holder.parentNode,e=0;if(this.wot.wtOverlays.leftOverlay.trimmingContainer===window){var n,i,o=this.wot.wtTable.hider.getBoundingClientRect(),s=Math.ceil(o.top),a=Math.ceil(o.bottom);n=this.wot.wtTable.hider.style.left,n=""===n?0:n,i=0>s&&a-t.offsetHeight>0?-s:0,e=i,i+="px",r.setOverlayPosition(t,n,i)}else e=this.getScrollPosition();this.adjustHeaderBordersPosition(e)}},setScrollPosition:function(t){this.mainTableScrollableElement===window?window.scrollTo(r.getWindowScrollLeft(),t):this.mainTableScrollableElement.scrollTop=t},onScroll:function(){this.wot.getSetting("onScrollVertically")},sumCellSizes:function(t,e){for(var n=0,i=this.wot.wtSettings.settings.defaultRowHeight;e>t;)n+=this.wot.wtTable.getRowHeight(t)||i,t++;return n},adjustElementsSize:function(){var t=void 0!==arguments[0]?arguments[0]:!1;(this.needFullRender||t)&&(this.adjustRootElementSize(),this.adjustRootChildsSize(),t||(this.isElementSizesAdjusted=!0))},adjustRootElementSize:function(){var t,e=this.wot.wtTable.holder,n=e.clientWidth!==e.offsetWidth?r.getScrollbarWidth():0,i=this.clone.wtTable.holder.parentNode,o=i.style;this.trimmingContainer!==window&&(o.width=this.wot.wtViewport.getWorkspaceWidth()-n+"px"),this.clone.wtTable.holder.style.width=o.width,t=r.outerHeight(this.clone.wtTable.TABLE),o.height=(0===t?t:t+4)+"px"},adjustRootChildsSize:function(){var t=r.getScrollbarWidth();this.clone.wtTable.hider.style.width=this.hider.style.width,this.clone.wtTable.holder.style.width=this.clone.wtTable.holder.parentNode.style.width,0===t&&(t=30),this.clone.wtTable.holder.style.height=parseInt(this.clone.wtTable.holder.parentNode.style.height,10)+t+"px"},applyToDOM:function(){var t=this.wot.getSetting("totalRows");if(this.isElementSizesAdjusted||this.adjustElementsSize(),"number"==typeof this.wot.wtViewport.rowsRenderCalculator.startPosition)this.spreader.style.top=this.wot.wtViewport.rowsRenderCalculator.startPosition+"px";else{if(0!==t)throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.top="0"}this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()},syncOverlayOffset:function(){"number"==typeof this.wot.wtViewport.columnsRenderCalculator.startPosition?this.clone.wtTable.spreader.style.left=this.wot.wtViewport.columnsRenderCalculator.startPosition+"px":this.clone.wtTable.spreader.style.left=""},scrollTo:function(t,e){var n=this.getTableParentOffset(),i=this.wot.cloneSource?this.wot.cloneSource:this.wot,o=i.wtTable.holder,s=0;e&&o.offsetHeight!==o.clientHeight&&(s=r.getScrollbarWidth()),e?(n+=this.sumCellSizes(0,t+1),n-=this.wot.wtViewport.getViewportHeight(),n+=1):n+=this.sumCellSizes(this.wot.getSetting("fixedRowsTop"),t),n+=s,this.setScrollPosition(n)},getTableParentOffset:function(){return this.mainTableScrollableElement===window?this.wot.wtTable.holderOffset.top:0},getScrollPosition:function(){return r.getScrollTop(this.mainTableScrollableElement)},adjustHeaderBordersPosition:function(t){if(0===this.wot.getSetting("fixedRowsTop")&&this.wot.getSetting("columnHeaders").length>0){var e=this.wot.wtTable.holder.parentNode,n=r.hasClass(e,"innerBorderTop");t?r.addClass(e,"innerBorderTop"):r.removeClass(e,"innerBorderTop"),(!n&&t||n&&!t)&&this.wot.wtOverlays.adjustElementsSize()}if(0===this.wot.getSetting("rowHeaders").length){var i=this.clone.wtTable.THEAD.querySelector("th:nth-of-type(2)");i&&(i.style["border-left-width"]=0)}}},{},s),window.WalkontableTopOverlay=a},{"./../../../../dom.js":27,"./_base.js":11}],16:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableOverlays:{get:function(){return m}},__esModule:{value:!0}});var i,o,r,s,a,l,u=(i=t("./../../../dom.js"),i&&i.__esModule&&i||{"default":i}),c=(o=t("./../../../eventManager.js"),o&&o.__esModule&&o||{"default":o}).EventManager,h=(r=t("./overlay/corner.js"),r&&r.__esModule&&r||{"default":r}).WalkontableCornerOverlay,d=(s=t("./overlay/debug.js"),s&&s.__esModule&&s||{"default":s}).WalkontableDebugOverlay,f=(a=t("./overlay/left.js"),a&&a.__esModule&&a||{"default":a}).WalkontableLeftOverlay,p=(l=t("./overlay/top.js"),l&&l.__esModule&&l||{"default":l}).WalkontableTopOverlay,m=function(t){this.wot=t,this.instance=this.wot,this.eventManager=new c(this.wot),this.wot.update("scrollbarWidth",u.getScrollbarWidth()),this.wot.update("scrollbarHeight",u.getScrollbarWidth()),this.mainTableScrollableElement=u.getScrollableElement(this.wot.wtTable.TABLE),this.topOverlay=new p(this.wot),this.leftOverlay=new f(this.wot),this.topOverlay.needFullRender&&this.leftOverlay.needFullRender&&(this.topLeftCornerOverlay=new h(this.wot)),this.wot.getSetting("debug")&&(this.debug=new d(this.wot)),this.destroyed=!1,this.keyPressed=!1,this.spreaderLastSize={width:null,height:null},this.overlayScrollPositions={master:{top:0,left:0},top:{top:null,left:0},left:{top:0,left:null}},this.registerListeners()};$traceurRuntime.createClass(m,{refreshAll:function(){if(this.wot.drawn){if(!this.wot.wtTable.holder.parentNode)return void this.destroy();this.wot.draw(!0),this.topOverlay.onScroll(),this.leftOverlay.onScroll()}},registerListeners:function(){var t=this;this.eventManager.addEventListener(document.documentElement,"keydown",function(){return t.onKeyDown()}),this.eventManager.addEventListener(document.documentElement,"keyup",function(){return t.onKeyUp()}),this.eventManager.addEventListener(document,"visibilitychange",function(){return t.onKeyUp()}),this.eventManager.addEventListener(this.mainTableScrollableElement,"scroll",function(e){return t.onTableScroll(e)}),this.topOverlay.needFullRender&&(this.eventManager.addEventListener(this.topOverlay.clone.wtTable.holder,"scroll",function(e){return t.onTableScroll(e)}),this.eventManager.addEventListener(this.topOverlay.clone.wtTable.holder,"wheel",function(e){return t.onTableScroll(e)})),this.leftOverlay.needFullRender&&(this.eventManager.addEventListener(this.leftOverlay.clone.wtTable.holder,"scroll",function(e){return t.onTableScroll(e)}),this.eventManager.addEventListener(this.leftOverlay.clone.wtTable.holder,"wheel",function(e){return t.onTableScroll(e)})),this.topOverlay.trimmingContainer!==window&&this.leftOverlay.trimmingContainer!==window&&this.eventManager.addEventListener(window,"wheel",function(e){var n,i=e.wheelDeltaY||e.deltaY,o=e.wheelDeltaX||e.deltaX;t.topOverlay.clone.wtTable.holder.contains(e.realTarget)?n="top":t.leftOverlay.clone.wtTable.holder.contains(e.realTarget)&&(n="left"),"top"==n&&0!==i?e.preventDefault():"left"==n&&0!==o&&e.preventDefault()})},onTableScroll:function(t){Handsontable.mobileBrowser||(!this.keyPressed||this.mainTableScrollableElement===window||t.target.contains(this.mainTableScrollableElement))&&("scroll"===t.type?this.syncScrollPositions(t):this.translateMouseWheelToScroll(t))},onKeyDown:function(){this.keyPressed=!0},onKeyUp:function(){this.keyPressed=!1},translateMouseWheelToScroll:function(t){for(var e,n=this.topOverlay.clone.wtTable.holder,i=this.leftOverlay.clone.wtTable.holder,o={type:"wheel"},r=t.target,s=t.wheelDeltaY||-1*t.deltaY,a=t.wheelDeltaX||-1*t.deltaX;r!=document&&null!=r;){if(r.className.indexOf("wtHolder")>-1){e=r;break}r=r.parentNode}return o.target=e,e==n?this.syncScrollPositions(o,-.2*s):e==i&&this.syncScrollPositions(o,-.2*a),!1},syncScrollPositions:function(t){var e=void 0!==arguments[1]?arguments[1]:null;if(!this.destroyed){if(0===arguments.length)return void this.syncScrollWithMaster();var n,i,o=this.mainTableScrollableElement,r=t.target,s=0,a=!1;this.topOverlay.needFullRender&&(n=this.topOverlay.clone.wtTable.holder),this.leftOverlay.needFullRender&&(i=this.leftOverlay.clone.wtTable.holder),r===document&&(r=window),r===o?(s=u.getScrollLeft(r),this.overlayScrollPositions.master.left!==s&&(this.overlayScrollPositions.master.left=s,a=!0,n&&(n.scrollLeft=s)),s=u.getScrollTop(r),this.overlayScrollPositions.master.top!==s&&(this.overlayScrollPositions.master.top=s,a=!0,i&&(i.scrollTop=s))):r===n?(s=u.getScrollLeft(r),this.overlayScrollPositions.top.left!==s&&(this.overlayScrollPositions.top.left=s,a=!0,o.scrollLeft=s),null!==e&&(a=!0,o.scrollTop+=e)):r===i&&(s=u.getScrollTop(r),this.overlayScrollPositions.left.top!==s&&(this.overlayScrollPositions.left.top=s,a=!0,o.scrollTop=s),null!==e&&(a=!0,o.scrollLeft+=e)),!this.keyPressed&&a&&"scroll"===t.type&&this.refreshAll()}},syncScrollWithMaster:function(){var t=this.topOverlay.mainTableScrollableElement;this.topOverlay.needFullRender&&(this.topOverlay.clone.wtTable.holder.scrollLeft=t.scrollLeft),this.leftOverlay.needFullRender&&(this.leftOverlay.clone.wtTable.holder.scrollTop=t.scrollTop)},destroy:function(){this.eventManager.destroy(),this.topOverlay.destroy(),this.leftOverlay.destroy(),this.topLeftCornerOverlay&&this.topLeftCornerOverlay.destroy(),this.debug&&this.debug.destroy(),this.destroyed=!0},refresh:function(){var t=void 0!==arguments[0]?arguments[0]:!1;if(this.topOverlay.isElementSizesAdjusted&&this.leftOverlay.isElementSizesAdjusted){var e=this.wot.wtTable.wtRootElement.parentNode||this.wot.wtTable.wtRootElement,n=e.clientWidth,i=e.clientHeight;(n!==this.spreaderLastSize.width||i!==this.spreaderLastSize.height)&&(this.spreaderLastSize.width=n,this.spreaderLastSize.height=i,this.adjustElementsSize())}this.leftOverlay.refresh(t),this.topOverlay.refresh(t),this.topLeftCornerOverlay&&this.topLeftCornerOverlay.refresh(t),this.debug&&this.debug.refresh(t)},adjustElementsSize:function(){var t=void 0!==arguments[0]?arguments[0]:!1,e=this.wot.getSetting("totalColumns"),n=this.wot.getSetting("totalRows"),i=this.wot.wtViewport.getRowHeaderWidth(),o=this.wot.wtViewport.getColumnHeaderHeight(),r=this.wot.wtTable.hider.style;r.width=i+this.leftOverlay.sumCellSizes(0,e)+"px",r.height=o+this.topOverlay.sumCellSizes(0,n)+1+"px",this.topOverlay.adjustElementsSize(t),this.leftOverlay.adjustElementsSize(t)},applyToDOM:function(){this.topOverlay.isElementSizesAdjusted&&this.leftOverlay.isElementSizesAdjusted||this.adjustElementsSize(),this.topOverlay.applyToDOM(),this.leftOverlay.applyToDOM()}},{}),window.WalkontableOverlays=m},{"./../../../dom.js":27,"./../../../eventManager.js":41,"./overlay/corner.js":12,"./overlay/debug.js":13,"./overlay/left.js":14,"./overlay/top.js":15}],17:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableScroll:{get:function(){return i}},__esModule:{value:!0}});var i=function(t){this.wot=t,this.instance=t};$traceurRuntime.createClass(i,{scrollViewport:function(t){if(this.wot.drawn){var e=this.wot.getSetting("totalRows"),n=this.wot.getSetting("totalColumns");if(t.row<0||t.row>e-1)throw new Error("row "+t.row+" does not exist");if(t.col<0||t.col>n-1)throw new Error("column "+t.col+" does not exist");t.row>this.instance.wtTable.getLastVisibleRow()?this.wot.wtOverlays.topOverlay.scrollTo(t.row,!0):t.row>=this.instance.getSetting("fixedRowsTop")&&t.row<this.instance.wtTable.getFirstVisibleRow()&&this.wot.wtOverlays.topOverlay.scrollTo(t.row),t.col>this.instance.wtTable.getLastVisibleColumn()?this.wot.wtOverlays.leftOverlay.scrollTo(t.col,!0):t.col>=this.instance.getSetting("fixedColumnsLeft")&&t.col<this.instance.wtTable.getFirstVisibleColumn()&&this.wot.wtOverlays.leftOverlay.scrollTo(t.col)}}},{}),window.WalkontableScroll=i},{}],18:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableSelection:{get:function(){return h}},__esModule:{value:!0}});var i,o,r,s,a=(i=t("./../../../dom.js"),i&&i.__esModule&&i||{"default":i}),l=(o=t("./border.js"),o&&o.__esModule&&o||{"default":o}).WalkontableBorder,u=(r=t("./cell/coords.js"),r&&r.__esModule&&r||{"default":r}).WalkontableCellCoords,c=(s=t("./cell/range.js"),s&&s.__esModule&&s||{"default":s}).WalkontableCellRange,h=function(t,e){this.settings=t,this.cellRange=e||null,this.instanceBorders={}};$traceurRuntime.createClass(h,{getBorder:function(t){return this.instanceBorders[t.guid]?this.instanceBorders[t.guid]:void(this.instanceBorders[t.guid]=new l(t,this.settings))},isEmpty:function(){return null===this.cellRange},add:function(t){this.isEmpty()?this.cellRange=new c(t,t,t):this.cellRange.expand(t)},replace:function(t,e){if(!this.isEmpty()){if(this.cellRange.from.isEqual(t))return this.cellRange.from=e,!0;if(this.cellRange.to.isEqual(t))return this.cellRange.to=e,!0}return!1},clear:function(){this.cellRange=null},getCorners:function(){var t=this.cellRange.getTopLeftCorner(),e=this.cellRange.getBottomRightCorner();return[t.row,t.col,e.row,e.col]},addClassAtCoords:function(t,e,n,i){var o=t.wtTable.getCell(new u(e,n));"object"==typeof o&&a.addClass(o,i)},draw:function(t){if(this.isEmpty()){if(this.settings.border){var e=this.getBorder(t);e&&e.disappear()}}else{for(var n,i,o,r=t.wtTable.getRenderedRowsCount(),s=t.wtTable.getRenderedColumnsCount(),l=this.getCorners(),u=0;s>u;u++)i=t.wtTable.columnFilter.renderedToSource(u),i>=l[1]&&i<=l[3]&&(o=t.wtTable.getColumnHeader(i),o&&this.settings.highlightColumnClassName&&a.addClass(o,this.settings.highlightColumnClassName));for(var c=0;r>c;c++){n=t.wtTable.rowFilter.renderedToSource(c),n>=l[0]&&n<=l[2]&&(o=t.wtTable.getRowHeader(n),o&&this.settings.highlightRowClassName&&a.addClass(o,this.settings.highlightRowClassName));for(var h=0;s>h;h++)i=t.wtTable.columnFilter.renderedToSource(h),n>=l[0]&&n<=l[2]&&i>=l[1]&&i<=l[3]?this.settings.className&&this.addClassAtCoords(t,n,i,this.settings.className):n>=l[0]&&n<=l[2]?this.settings.highlightRowClassName&&this.addClassAtCoords(t,n,i,this.settings.highlightRowClassName):i>=l[1]&&i<=l[3]&&this.settings.highlightColumnClassName&&this.addClassAtCoords(t,n,i,this.settings.highlightColumnClassName)}if(t.getSetting("onBeforeDrawBorders",l,this.settings.className),this.settings.border){var d=this.getBorder(t);d&&d.appear(l)}}}},{}),window.WalkontableSelection=h},{"./../../../dom.js":27,"./border.js":2,"./cell/coords.js":5,"./cell/range.js":6}],19:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableSettings:{get:function(){return r}},__esModule:{value:!0}});var i,o=(i=t("./../../../dom.js"),i&&i.__esModule&&i||{"default":i}),r=function(t,e){var n=this;this.wot=t,this.instance=t,this.defaults={table:void 0,debug:!1,externalRowCalculator:!1,stretchH:"none",currentRowClassName:null,currentColumnClassName:null,data:void 0,fixedColumnsLeft:0,fixedRowsTop:0,rowHeaders:function(){return[]},columnHeaders:function(){return[]},totalRows:void 0,totalColumns:void 0,cellRenderer:function(t,e,i){var r=n.getSetting("data",t,e);o.fastInnerText(i,void 0===r||null===r?"":r)},columnWidth:function(t){},rowHeight:function(t){},defaultRowHeight:23,defaultColumnWidth:50,selections:null,hideBorderOnMouseDownOver:!1,viewportRowCalculatorOverride:null,viewportColumnCalculatorOverride:null,onCellMouseDown:null,onCellMouseOver:null,onCellDblClick:null,onCellCornerMouseDown:null,onCellCornerDblClick:null,beforeDraw:null,onDraw:null,onBeforeDrawBorders:null,onScrollVertically:null,onScrollHorizontally:null,onBeforeTouchScroll:null,onAfterMomentumScroll:null,scrollbarWidth:10,scrollbarHeight:10,renderAllRows:!1,groups:!1},this.settings={};for(var i in this.defaults)if(this.defaults.hasOwnProperty(i))if(void 0!==e[i])this.settings[i]=e[i];else{if(void 0===this.defaults[i])throw new Error('A required setting "'+i+'" was not provided');this.settings[i]=this.defaults[i]}};$traceurRuntime.createClass(r,{update:function(t,e){if(void 0===e)for(var n in t)t.hasOwnProperty(n)&&(this.settings[n]=t[n]);else this.settings[t]=e;return this.wot},getSetting:function(t,e,n,i,o){return"function"==typeof this.settings[t]?this.settings[t](e,n,i,o):void 0!==e&&Array.isArray(this.settings[t])?this.settings[t][e]:this.settings[t]},has:function(t){return!!this.settings[t]}},{}),window.WalkontableSettings=r},{"./../../../dom.js":27}],20:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableTable:{get:function(){return k}},__esModule:{value:!0}});var i,o,r,s,a,l,u,c,h,d,f=(i=t("./../../../dom.js"),i&&i.__esModule&&i||{"default":i}),p=(o=t("./cell/coords.js"),o&&o.__esModule&&o||{"default":o}).WalkontableCellCoords,m=((r=t("./cell/range.js"),r&&r.__esModule&&r||{"default":r}).WalkontableCellRange,(s=t("./filter/column.js"),s&&s.__esModule&&s||{"default":s}).WalkontableColumnFilter),g=(a=t("./overlay/corner.js"),a&&a.__esModule&&a||{"default":a}).WalkontableCornerOverlay,v=(l=t("./overlay/debug.js"),l&&l.__esModule&&l||{"default":l}).WalkontableDebugOverlay,y=(u=t("./overlay/left.js"),u&&u.__esModule&&u||{"default":u}).WalkontableLeftOverlay,w=(c=t("./filter/row.js"),c&&c.__esModule&&c||{"default":c}).WalkontableRowFilter,b=(h=t("./tableRenderer.js"),h&&h.__esModule&&h||{"default":h}).WalkontableTableRenderer,C=(d=t("./overlay/top.js"),d&&d.__esModule&&d||{"default":d}).WalkontableTopOverlay,k=function(t,e){this.wot=t,this.instance=this.wot,this.TABLE=e,this.TBODY=null,this.THEAD=null,this.COLGROUP=null,this.tableOffset=0,this.holderOffset=0,f.removeTextNodes(this.TABLE),this.spreader=this.createSpreader(this.TABLE),this.hider=this.createHider(this.spreader),this.holder=this.createHolder(this.hider),this.wtRootElement=this.holder.parentNode,this.alignOverlaysWithTrimmingContainer(),this.fixTableDomTree(),this.colgroupChildrenLength=this.COLGROUP.childNodes.length,this.theadChildrenLength=this.THEAD.firstChild?this.THEAD.firstChild.childNodes.length:0,this.tbodyChildrenLength=this.TBODY.childNodes.length,this.rowFilter=null,this.columnFilter=null};$traceurRuntime.createClass(k,{fixTableDomTree:function(){this.TBODY=this.TABLE.querySelector("tbody"),this.TBODY||(this.TBODY=document.createElement("tbody"),this.TABLE.appendChild(this.TBODY)),this.THEAD=this.TABLE.querySelector("thead"),this.THEAD||(this.THEAD=document.createElement("thead"),this.TABLE.insertBefore(this.THEAD,this.TBODY)),this.COLGROUP=this.TABLE.querySelector("colgroup"),this.COLGROUP||(this.COLGROUP=document.createElement("colgroup"),this.TABLE.insertBefore(this.COLGROUP,this.THEAD)),this.wot.getSetting("columnHeaders").length&&!this.THEAD.childNodes.length&&this.THEAD.appendChild(document.createElement("TR"))},createSpreader:function(t){var e,n=t.parentNode;return n&&1===n.nodeType&&f.hasClass(n,"wtHolder")||(e=document.createElement("div"),e.className="wtSpreader",n&&n.insertBefore(e,t),e.appendChild(t)),e.style.position="relative",e},createHider:function(t){var e,n=t.parentNode;return n&&1===n.nodeType&&f.hasClass(n,"wtHolder")||(e=document.createElement("div"),e.className="wtHider",n&&n.insertBefore(e,t),e.appendChild(t)),e},createHolder:function(t){var e,n=t.parentNode;return n&&1===n.nodeType&&f.hasClass(n,"wtHolder")||(e=document.createElement("div"),e.style.position="relative",e.className="wtHolder",n&&n.insertBefore(e,t),this.isWorkingOnClone()||(e.parentNode.className+="ht_master handsontable"),e.appendChild(t)),e},alignOverlaysWithTrimmingContainer:function(){var t=f.getTrimmingContainer(this.wtRootElement);this.isWorkingOnClone()||(this.holder.parentNode.style.position="relative",t!==window?(this.holder.style.width=f.getStyle(t,"width"),this.holder.style.height=f.getStyle(t,"height"),this.holder.style.overflow=""):(this.holder.style.overflow="visible",this.wtRootElement.style.overflow="visible"))},isWorkingOnClone:function(){return!!this.wot.cloneSource},draw:function(t){if(this.isWorkingOnClone()||(this.holderOffset=f.offset(this.holder),t=this.wot.wtViewport.createRenderCalculators(t)),t)this.isWorkingOnClone()||this.wot.wtViewport.createVisibleCalculators(),this.wot.wtOverlays&&this.wot.wtOverlays.refresh(!0);else{this.isWorkingOnClone()?this.tableOffset=this.wot.cloneSource.wtTable.tableOffset:this.tableOffset=f.offset(this.TABLE);var e;e=this.wot.cloneOverlay instanceof v||this.wot.cloneOverlay instanceof C||this.wot.cloneOverlay instanceof g?0:this.wot.wtViewport.rowsRenderCalculator.startRow;var n;n=this.wot.cloneOverlay instanceof v||this.wot.cloneOverlay instanceof y||this.wot.cloneOverlay instanceof g?0:this.wot.wtViewport.columnsRenderCalculator.startColumn,this.rowFilter=new w(e,this.wot.getSetting("totalRows"),this.wot.getSetting("columnHeaders").length),this.columnFilter=new m(n,this.wot.getSetting("totalColumns"),this.wot.getSetting("rowHeaders").length),this._doDraw(),this.alignOverlaysWithTrimmingContainer()}return this.refreshSelections(t),this.isWorkingOnClone()||(this.wot.wtOverlays.topOverlay.resetFixedPosition(),this.wot.wtOverlays.leftOverlay.resetFixedPosition(),this.wot.wtOverlays.topLeftCornerOverlay&&this.wot.wtOverlays.topLeftCornerOverlay.resetFixedPosition()),this.wot.drawn=!0,this},_doDraw:function(){var t=new b(this);t.render()},removeClassFromCells:function(t){for(var e=this.TABLE.querySelectorAll("."+t),n=0,i=e.length;i>n;n++)f.removeClass(e[n],t)},refreshSelections:function(t){if(this.wot.selections){var e=this.wot.selections.length;if(t)for(var n=0;e>n;n++)this.wot.selections[n].settings.className&&this.removeClassFromCells(this.wot.selections[n].settings.className),this.wot.selections[n].settings.highlightRowClassName&&this.removeClassFromCells(this.wot.selections[n].settings.highlightRowClassName),this.wot.selections[n].settings.highlightColumnClassName&&this.removeClassFromCells(this.wot.selections[n].settings.highlightColumnClassName);for(var i=0;e>i;i++)this.wot.selections[i].draw(this.wot,t)}},getCell:function(t){if(this.isRowBeforeRenderedRows(t.row))return-1;if(this.isRowAfterRenderedRows(t.row))return-2;var e=this.TBODY.childNodes[this.rowFilter.sourceToRendered(t.row)];return e?e.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(t.col)]:void 0},getColumnHeader:function(t){var e=void 0!==arguments[1]?arguments[1]:0,n=this.THEAD.childNodes[e];return n?n.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(t)]:void 0},getRowHeader:function(t){if(0===this.columnFilter.sourceColumnToVisibleRowHeadedColumn(0))return null;var e=this.TBODY.childNodes[this.rowFilter.sourceToRendered(t)];return e?e.childNodes[0]:void 0},getCoords:function(t){var e=t.parentNode,n=f.index(e);return n=e.parentNode===this.THEAD?this.rowFilter.visibleColHeadedRowToSourceRow(n):this.rowFilter.renderedToSource(n),new p(n,this.columnFilter.visibleRowHeadedColumnToSourceColumn(t.cellIndex))},getTrForRow:function(t){return this.TBODY.childNodes[this.rowFilter.sourceToRendered(t)]},getFirstRenderedRow:function(){return this.wot.wtViewport.rowsRenderCalculator.startRow},getFirstVisibleRow:function(){return this.wot.wtViewport.rowsVisibleCalculator.startRow},getFirstRenderedColumn:function(){return this.wot.wtViewport.columnsRenderCalculator.startColumn},getFirstVisibleColumn:function(){return this.wot.wtViewport.columnsVisibleCalculator.startColumn},getLastRenderedRow:function(){return this.wot.wtViewport.rowsRenderCalculator.endRow},getLastVisibleRow:function(){return this.wot.wtViewport.rowsVisibleCalculator.endRow},getLastRenderedColumn:function(){return this.wot.wtViewport.columnsRenderCalculator.endColumn},getLastVisibleColumn:function(){return this.wot.wtViewport.columnsVisibleCalculator.endColumn},isRowBeforeRenderedRows:function(t){return this.rowFilter.sourceToRendered(t)<0&&t>=0},isRowAfterViewport:function(t){return t>this.getLastVisibleRow()},isRowAfterRenderedRows:function(t){return t>this.getLastRenderedRow()},isColumnBeforeViewport:function(t){return this.columnFilter.sourceToRendered(t)<0&&t>=0},isColumnAfterViewport:function(t){return t>this.getLastVisibleColumn()},isLastRowFullyVisible:function(){return this.getLastVisibleRow()===this.getLastRenderedRow()},isLastColumnFullyVisible:function(){return this.getLastVisibleColumn()===this.getLastRenderedColumn()},getRenderedColumnsCount:function(){return this.wot.cloneOverlay instanceof v?this.wot.getSetting("totalColumns"):this.wot.cloneOverlay instanceof y||this.wot.cloneOverlay instanceof g?this.wot.getSetting("fixedColumnsLeft"):this.wot.wtViewport.columnsRenderCalculator.count},getRenderedRowsCount:function(){return this.wot.cloneOverlay instanceof v?this.wot.getSetting("totalRows"):this.wot.cloneOverlay instanceof C||this.wot.cloneOverlay instanceof g?this.wot.getSetting("fixedRowsTop"):this.wot.wtViewport.rowsRenderCalculator.count},getVisibleRowsCount:function(){return this.wot.wtViewport.rowsVisibleCalculator.count},allRowsInViewport:function(){return this.wot.getSetting("totalRows")==this.getVisibleRowsCount()},getRowHeight:function(t){var e=this.wot.wtSettings.settings.rowHeight(t),n=this.wot.wtViewport.oversizedRows[t];return void 0!==n&&(e=e?Math.max(e,n):n),e},getColumnHeaderHeight:function(t){var e=this.wot.wtSettings.settings.defaultRowHeight,n=this.wot.wtViewport.oversizedColumnHeaders[t];return void 0!==n&&(e=e?Math.max(e,n):n),e},getVisibleColumnsCount:function(){return this.wot.wtViewport.columnsVisibleCalculator.count},allColumnsInViewport:function(){return this.wot.getSetting("totalColumns")==this.getVisibleColumnsCount()},getColumnWidth:function(t){var e=this.wot.wtSettings.settings.columnWidth;return"function"==typeof e?e=e(t):"object"==typeof e&&(e=e[t]),e||this.wot.wtSettings.settings.defaultColumnWidth},getStretchedColumnWidth:function(t){var e=this.getColumnWidth(t),n=this.wot.wtViewport.columnsRenderCalculator;if(n){var i=n.getStretchedColumnWidth(t,e);i&&(e=i)}return e}},{}),window.WalkontableTable=k},{"./../../../dom.js":27,"./cell/coords.js":5,"./cell/range.js":6,"./filter/column.js":9,"./filter/row.js":10,"./overlay/corner.js":12,"./overlay/debug.js":13,"./overlay/left.js":14,"./overlay/top.js":15,"./tableRenderer.js":21}],21:[function(t,e,n){"use strict";function i(t,e){var n=document.createElement("TH");return e.insertBefore(n,t),
e.removeChild(t),n}function o(t,e){var n=document.createElement("TD");return e.insertBefore(n,t),e.removeChild(t),n}Object.defineProperties(n,{WalkontableTableRenderer:{get:function(){return l}},__esModule:{value:!0}});var r,s=(r=t("./../../../dom.js"),r&&r.__esModule&&r||{"default":r}),a={},l=function(t){this.wtTable=t,this.wot=t.instance,this.instance=t.instance,this.rowFilter=t.rowFilter,this.columnFilter=t.columnFilter,this.TABLE=t.TABLE,this.THEAD=t.THEAD,this.TBODY=t.TBODY,this.COLGROUP=t.COLGROUP,this.rowHeaders=[],this.rowHeaderCount=0,this.columnHeaders=[],this.columnHeaderCount=0,this.fixedRowsTop=0};$traceurRuntime.createClass(l,{render:function(){this.wtTable.isWorkingOnClone()||this.wot.getSetting("beforeDraw",!0),this.rowHeaders=this.wot.getSetting("rowHeaders"),this.rowHeaderCount=this.rowHeaders.length,this.fixedRowsTop=this.wot.getSetting("fixedRowsTop"),this.columnHeaders=this.wot.getSetting("columnHeaders"),this.columnHeaderCount=this.columnHeaders.length;var t,e=this.wtTable.getRenderedColumnsCount(),n=this.wtTable.getRenderedRowsCount(),i=this.wot.getSetting("totalColumns"),o=this.wot.getSetting("totalRows"),r=!1;if(i>0&&(this.adjustAvailableNodes(),r=!0,this.renderColumnHeaders(),this.renderRows(o,n,e),this.wtTable.isWorkingOnClone()||(t=this.wot.wtViewport.getWorkspaceWidth(),this.wot.wtViewport.containerWidth=null),this.adjustColumnHeaderHeights(),this.adjustColumnWidths(e),this.markOversizedColumns()),r||this.adjustAvailableNodes(),this.removeRedundantRows(n),!this.wtTable.isWorkingOnClone()){if(this.markOversizedRows(),this.wot.wtViewport.createVisibleCalculators(),this.wot.wtOverlays.refresh(!1),this.wot.wtOverlays.applyToDOM(),t!==this.wot.wtViewport.getWorkspaceWidth()){this.wot.wtViewport.containerWidth=null;for(var s=this.wtTable.getFirstRenderedColumn(),a=this.wtTable.getLastRenderedColumn(),l=s;a>l;l++){var u=this.wtTable.getStretchedColumnWidth(l),c=this.columnFilter.sourceToRendered(l);this.COLGROUP.childNodes[c+this.rowHeaderCount].style.width=u+"px"}}this.wot.getSetting("onDraw",!0)}},removeRedundantRows:function(t){for(;this.wtTable.tbodyChildrenLength>t;)this.TBODY.removeChild(this.TBODY.lastChild),this.wtTable.tbodyChildrenLength--},renderRows:function(t,e,n){for(var i,o,r=0,s=this.rowFilter.renderedToSource(r),a=this.wtTable.isWorkingOnClone();t>s&&s>=0;){if(r>1e3)throw new Error("Security brake: Too much TRs. Please define height for your table, which will enforce scrollbars.");if(void 0!==e&&r===e)break;if(o=this.getOrCreateTrForRow(r,o),this.renderRowHeaders(s,o),this.adjustColumns(o,n+this.rowHeaderCount),i=this.renderCells(s,o,n),a||this.resetOversizedRow(s),o.firstChild){var l=this.wot.wtTable.getRowHeight(s);l?(l--,o.firstChild.style.height=l+"px"):o.firstChild.style.height=""}r++,s=this.rowFilter.renderedToSource(r)}},resetOversizedRow:function(t){this.wot.getSetting("externalRowCalculator")||this.wot.wtViewport.oversizedRows&&this.wot.wtViewport.oversizedRows[t]&&(this.wot.wtViewport.oversizedRows[t]=void 0)},markOversizedRows:function(){if(!this.wot.getSetting("externalRowCalculator")){var t,e,n,i,o,r=this.instance.wtTable.TBODY.childNodes.length,a=r*this.instance.wtSettings.settings.defaultRowHeight,l=s.innerHeight(this.instance.wtTable.TBODY)-1;if(a!==l)for(;r;)r--,n=this.instance.wtTable.rowFilter.renderedToSource(r),t=this.instance.wtTable.getRowHeight(n),i=this.instance.wtTable.getTrForRow(n),o=i.querySelector("th"),e=o?s.innerHeight(o):s.innerHeight(i)-1,(!t&&this.instance.wtSettings.settings.defaultRowHeight<e||e>t)&&(this.instance.wtViewport.oversizedRows[n]=++e)}},markOversizedColumns:function(){var t=this.wot.getOverlayName();if(this.columnHeaderCount&&!a[t]&&!this.wtTable.isWorkingOnClone()){for(var e=this.wtTable.getRenderedColumnsCount(),n=0;n<this.columnHeaderCount;n++)for(var i=-1*this.rowHeaderCount;e>i;i++)this.markIfOversizedColumnHeader(i);a[t]=!0}},adjustColumnHeaderHeights:function(){for(var t=this.wot.getSetting("columnHeaders"),e=this.wot.wtTable.THEAD.childNodes,n=this.wot.wtViewport.oversizedColumnHeaders,i=0,o=t.length;o>i;i++)if(n[i]){if(0===e[i].childNodes.length)return;e[i].childNodes[0].style.height=n[i]+"px"}},markIfOversizedColumnHeader:function(t){for(var e,n,i,o=this.wot.wtTable.columnFilter.renderedToSource(t),r=this.columnHeaderCount,a=this.wot.wtSettings.settings.defaultRowHeight;r;)r--,e=this.wot.wtTable.getColumnHeaderHeight(r),n=this.wot.wtTable.getColumnHeader(o,r),n&&(i=s.innerHeight(n),(!e&&i>a||i>e)&&(this.wot.wtViewport.oversizedColumnHeaders[r]=i))},renderCells:function(t,e,n){for(var i,r,a=0;n>a;a++)r=this.columnFilter.renderedToSource(a),i=0===a?e.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(r)]:i.nextSibling,"TH"==i.nodeName&&(i=o(i,e)),s.hasClass(i,"hide")||(i.className=""),i.removeAttribute("style"),this.wot.wtSettings.settings.cellRenderer(t,r,i);return i},adjustColumnWidths:function(t){var e=0,n=this.wot.cloneSource?this.wot.cloneSource:this.wot,i=n.wtTable.holder;i.offsetHeight<i.scrollHeight&&(e=s.getScrollbarWidth()),this.wot.wtViewport.columnsRenderCalculator.refreshStretching(this.wot.wtViewport.getViewportWidth()-e);for(var o=0;t>o;o++){var r=this.wtTable.getStretchedColumnWidth(this.columnFilter.renderedToSource(o));this.COLGROUP.childNodes[o+this.rowHeaderCount].style.width=r+"px"}},appendToTbody:function(t){this.TBODY.appendChild(t),this.wtTable.tbodyChildrenLength++},getOrCreateTrForRow:function(t,e){var n;return t>=this.wtTable.tbodyChildrenLength?(n=this.createRow(),this.appendToTbody(n)):n=0===t?this.TBODY.firstChild:e.nextSibling,n},createRow:function(){for(var t=document.createElement("TR"),e=0;e<this.rowHeaderCount;e++)t.appendChild(document.createElement("TH"));return t},renderRowHeader:function(t,e,n){n.className="",n.removeAttribute("style"),this.rowHeaders[e](t,n,e)},renderRowHeaders:function(t,e){for(var n=e.firstChild,o=0;o<this.rowHeaderCount;o++)n?"TD"==n.nodeName&&(n=i(n,e)):(n=document.createElement("TH"),e.appendChild(n)),this.renderRowHeader(t,o,n),n=n.nextSibling},adjustAvailableNodes:function(){this.adjustColGroups(),this.adjustThead()},renderColumnHeaders:function(){if(this.wot.getOverlayName(),this.columnHeaderCount)for(var t=this.wtTable.getRenderedColumnsCount(),e=0;e<this.columnHeaderCount;e++)for(var n=this.getTrForColumnHeaders(e),i=-1*this.rowHeaderCount;t>i;i++){var o=this.columnFilter.renderedToSource(i);this.renderColumnHeader(e,o,n.childNodes[i+this.rowHeaderCount])}},adjustColGroups:function(){for(var t=this.wtTable.getRenderedColumnsCount();this.wtTable.colgroupChildrenLength<t+this.rowHeaderCount;)this.COLGROUP.appendChild(document.createElement("COL")),this.wtTable.colgroupChildrenLength++;for(;this.wtTable.colgroupChildrenLength>t+this.rowHeaderCount;)this.COLGROUP.removeChild(this.COLGROUP.lastChild),this.wtTable.colgroupChildrenLength--;this.rowHeaderCount&&s.addClass(this.COLGROUP.childNodes[0],"rowHeader")},adjustThead:function(){var t=this.wtTable.getRenderedColumnsCount(),e=this.THEAD.firstChild;if(this.columnHeaders.length){for(var n=0,i=this.columnHeaders.length;i>n;n++){for(e=this.THEAD.childNodes[n],e||(e=document.createElement("TR"),this.THEAD.appendChild(e)),this.theadChildrenLength=e.childNodes.length;this.theadChildrenLength<t+this.rowHeaderCount;)e.appendChild(document.createElement("TH")),this.theadChildrenLength++;for(;this.theadChildrenLength>t+this.rowHeaderCount;)e.removeChild(e.lastChild),this.theadChildrenLength--}var o=this.THEAD.childNodes.length;if(o>this.columnHeaders.length)for(var r=this.columnHeaders.length;o>r;r++)this.THEAD.removeChild(this.THEAD.lastChild)}else e&&s.empty(e)},getTrForColumnHeaders:function(t){return this.THEAD.childNodes[t]},renderColumnHeader:function(t,e,n){return n.className="",n.removeAttribute("style"),this.columnHeaders[t](e,n,t)},adjustColumns:function(t,e){for(var n=t.childNodes.length;e>n;){var i=document.createElement("TD");t.appendChild(i),n++}for(;n>e;)t.removeChild(t.lastChild),n--},removeRedundantColumns:function(t){for(;this.wtTable.tbodyChildrenLength>t;)this.TBODY.removeChild(this.TBODY.lastChild),this.wtTable.tbodyChildrenLength--}},{}),window.WalkontableTableRenderer=l},{"./../../../dom.js":27}],22:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableViewport:{get:function(){return h}},__esModule:{value:!0}});var i,o,r,s,a=(i=t("./../../../dom.js"),i&&i.__esModule&&i||{"default":i}),l=(o=t("./../../../eventManager.js"),o&&o.__esModule&&o||{"default":o}).EventManager,u=(r=t("./calculator/viewportColumns.js"),r&&r.__esModule&&r||{"default":r}).WalkontableViewportColumnsCalculator,c=(s=t("./calculator/viewportRows.js"),s&&s.__esModule&&s||{"default":s}).WalkontableViewportRowsCalculator,h=function(t){var e=this;this.wot=t,this.instance=this.wot,this.oversizedRows=[],this.oversizedColumnHeaders=[],this.clientHeight=0,this.containerWidth=NaN,this.rowHeaderWidth=NaN,this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,this.eventManager=new l(this.wot),this.eventManager.addEventListener(window,"resize",function(){e.clientHeight=e.getWorkspaceHeight()})};$traceurRuntime.createClass(h,{getWorkspaceHeight:function(){var t,e=this.instance.wtOverlays.topOverlay.trimmingContainer,n=0;return e===window?n=document.documentElement.clientHeight:(t=a.outerHeight(e),n=t>0&&e.clientHeight>0?e.clientHeight:1/0),n},getWorkspaceWidth:function(){var t,e,n=this.instance.getSetting("totalColumns"),i=this.instance.wtOverlays.leftOverlay.trimmingContainer,o=this.instance.getSetting("stretchH"),r=document.documentElement.offsetWidth;return t=Handsontable.freezeOverlays?Math.min(r-this.getWorkspaceOffset().left,r):Math.min(this.getContainerFillWidth(),r-this.getWorkspaceOffset().left,r),i===window&&n>0&&this.sumColumnWidths(0,n-1)>t?document.documentElement.clientWidth:i!==window&&(e=a.getStyle(this.instance.wtOverlays.leftOverlay.trimmingContainer,"overflow"),"scroll"==e||"hidden"==e||"auto"==e)?Math.max(t,i.clientWidth):"none"!==o&&o?t:Math.max(t,a.outerWidth(this.instance.wtTable.TABLE))},hasVerticalScroll:function(){return this.getWorkspaceActualHeight()>this.getWorkspaceHeight()},hasHorizontalScroll:function(){return this.getWorkspaceActualWidth()>this.getWorkspaceWidth()},sumColumnWidths:function(t,e){for(var n=0;e>t;)n+=this.wot.wtTable.getColumnWidth(t),t++;return n},getContainerFillWidth:function(){if(this.containerWidth)return this.containerWidth;var t,e,n=this.instance.wtTable.holder;return e=document.createElement("DIV"),e.style.width="100%",e.style.height="1px",n.appendChild(e),t=e.offsetWidth,this.containerWidth=t,n.removeChild(e),t},getWorkspaceOffset:function(){return a.offset(this.wot.wtTable.TABLE)},getWorkspaceActualHeight:function(){return a.outerHeight(this.wot.wtTable.TABLE)},getWorkspaceActualWidth:function(){return a.outerWidth(this.wot.wtTable.TABLE)||a.outerWidth(this.wot.wtTable.TBODY)||a.outerWidth(this.wot.wtTable.THEAD)},getColumnHeaderHeight:function(){return isNaN(this.columnHeaderHeight)&&(this.columnHeaderHeight=a.outerHeight(this.wot.wtTable.THEAD)),this.columnHeaderHeight},getViewportHeight:function(){var t,e=this.getWorkspaceHeight();return e===1/0?e:(t=this.getColumnHeaderHeight(),t>0&&(e-=t),e)},getRowHeaderWidth:function(){if(this.wot.cloneSource)return this.wot.cloneSource.wtViewport.getRowHeaderWidth();if(isNaN(this.rowHeaderWidth)){var t=this.instance.getSetting("rowHeaders");if(t.length){var e=this.instance.wtTable.TABLE.querySelector("TH");this.rowHeaderWidth=0;for(var n=0,i=t.length;i>n;n++)e?(this.rowHeaderWidth+=a.outerWidth(e),e=e.nextSibling):this.rowHeaderWidth+=50}else this.rowHeaderWidth=0}return this.rowHeaderWidth},getViewportWidth:function(){var t,e=this.getWorkspaceWidth();return e===1/0?e:(t=this.getRowHeaderWidth(),t>0?e-t:e)},createRowsCalculator:function(){var t,e,n,i=void 0!==arguments[0]?arguments[0]:!1,o=this;if(this.rowHeaderWidth=NaN,t=this.wot.wtSettings.settings.renderAllRows?1/0:this.getViewportHeight(),e=a.getScrollTop(this.wot.wtOverlays.mainTableScrollableElement)-this.wot.wtOverlays.topOverlay.getTableParentOffset(),0>e&&(e=0),n=this.wot.getSetting("fixedRowsTop")){var r=this.wot.wtOverlays.topOverlay.sumCellSizes(0,n);e+=r,t-=r}return new c(t,e,this.wot.getSetting("totalRows"),function(t){return o.wot.wtTable.getRowHeight(t)},i?null:this.wot.wtSettings.settings.viewportRowCalculatorOverride,i)},createColumnsCalculator:function(){var t,e,n=void 0!==arguments[0]?arguments[0]:!1,i=this,o=this.getViewportWidth();if(this.columnHeaderHeight=NaN,t=this.wot.wtOverlays.leftOverlay.getScrollPosition()-this.wot.wtOverlays.topOverlay.getTableParentOffset(),0>t&&(t=0),e=this.wot.getSetting("fixedColumnsLeft")){var r=this.wot.wtOverlays.leftOverlay.sumCellSizes(0,e);t+=r,o-=r}return this.wot.wtTable.holder.clientWidth!==this.wot.wtTable.holder.offsetWidth&&(o-=a.getScrollbarWidth()),new u(o,t,this.wot.getSetting("totalColumns"),function(t){return i.wot.wtTable.getColumnWidth(t)},n?null:this.wot.wtSettings.settings.viewportColumnCalculatorOverride,n,this.wot.getSetting("stretchH"))},createRenderCalculators:function(){var t=void 0!==arguments[0]?arguments[0]:!1;if(t){var e=this.createRowsCalculator(!0),n=this.createColumnsCalculator(!0);this.areAllProposedVisibleRowsAlreadyRendered(e)&&this.areAllProposedVisibleColumnsAlreadyRendered(n)||(t=!1)}return t||(this.rowsRenderCalculator=this.createRowsCalculator(),this.columnsRenderCalculator=this.createColumnsCalculator()),this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,t},createVisibleCalculators:function(){this.rowsVisibleCalculator=this.createRowsCalculator(!0),this.columnsVisibleCalculator=this.createColumnsCalculator(!0)},areAllProposedVisibleRowsAlreadyRendered:function(t){return this.rowsVisibleCalculator?t.startRow<this.rowsRenderCalculator.startRow||t.startRow===this.rowsRenderCalculator.startRow&&t.startRow>0?!1:t.endRow>this.rowsRenderCalculator.endRow||t.endRow===this.rowsRenderCalculator.endRow&&t.endRow<this.wot.getSetting("totalRows")-1?!1:!0:!1},areAllProposedVisibleColumnsAlreadyRendered:function(t){return this.columnsVisibleCalculator?t.startColumn<this.columnsRenderCalculator.startColumn||t.startColumn===this.columnsRenderCalculator.startColumn&&t.startColumn>0?!1:t.endColumn>this.columnsRenderCalculator.endColumn||t.endColumn===this.columnsRenderCalculator.endColumn&&t.endColumn<this.wot.getSetting("totalColumns")-1?!1:!0:!1}},{}),window.WalkontableViewport=h},{"./../../../dom.js":27,"./../../../eventManager.js":41,"./calculator/viewportColumns.js":3,"./calculator/viewportRows.js":4}],23:[function(t,e,n){"use strict";var i,o,r,s,a,l,u,c=Handsontable.version,h=Handsontable.buildDate;window.Handsontable=function f(t,e){var n=new f.Core(t,e||{});return n.init(),n},Handsontable.version=c,Handsontable.buildDate=h,i=t("./shims/classes.js"),i&&i.__esModule&&i||{"default":i},o=t("es6collections"),o&&o.__esModule&&o||{"default":o},Handsontable.plugins={};var d=(r=t("./pluginHooks.js"),r&&r.__esModule&&r||{"default":r}).Hooks;Handsontable.hooks||(Handsontable.hooks=new d),s=t("./core.js"),s&&s.__esModule&&s||{"default":s},a=t("./renderers/_cellDecorator.js"),a&&a.__esModule&&a||{"default":a},l=t("./cellTypes.js"),l&&l.__esModule&&l||{"default":l},u=t("./../plugins/jqueryHandsontable.js"),u&&u.__esModule&&u||{"default":u}},{"./../plugins/jqueryHandsontable.js":1,"./cellTypes.js":24,"./core.js":25,"./pluginHooks.js":44,"./renderers/_cellDecorator.js":72,"./shims/classes.js":79,es6collections:"es6collections"}],24:[function(t,e,n){"use strict";var i,o,r,s,a,l,u,c,h,d,f,p,m,g,v,y,w,b,C,k,x,_,T=(i=t("./helpers.js"),i&&i.__esModule&&i||{"default":i}),S=(o=t("./editors.js"),o&&o.__esModule&&o||{"default":o}).getEditorConstructor,E=(r=t("./renderers.js"),r&&r.__esModule&&r||{"default":r}).getRenderer;(s=t("./editors/autocompleteEditor.js"),s&&s.__esModule&&s||{"default":s}).AutocompleteEditor,(a=t("./editors/checkboxEditor.js"),a&&a.__esModule&&a||{"default":a}).CheckboxEditor,(l=t("./editors/dateEditor.js"),l&&l.__esModule&&l||{"default":l}).DateEditor,(u=t("./editors/dropdownEditor.js"),u&&u.__esModule&&u||{"default":u}).DropdownEditor,(c=t("./editors/handsontableEditor.js"),c&&c.__esModule&&c||{"default":c}).HandsontableEditor,(h=t("./editors/mobileTextEditor.js"),h&&h.__esModule&&h||{"default":h}).MobileTextEditor,(d=t("./editors/numericEditor.js"),d&&d.__esModule&&d||{"default":d}).NumericEditor,(f=t("./editors/passwordEditor.js"),f&&f.__esModule&&f||{"default":f}).PasswordEditor,(p=t("./editors/selectEditor.js"),p&&p.__esModule&&p||{"default":p}).SelectEditor,(m=t("./editors/textEditor.js"),m&&m.__esModule&&m||{"default":m}).TextEditor,(g=t("./renderers/autocompleteRenderer.js"),g&&g.__esModule&&g||{"default":g}).AutocompleteRenderer,(v=t("./renderers/checkboxRenderer.js"),v&&v.__esModule&&v||{"default":v}).CheckboxRenderer,(y=t("./renderers/htmlRenderer.js"),y&&y.__esModule&&y||{"default":y}).HtmlRenderer,(w=t("./renderers/numericRenderer.js"),w&&w.__esModule&&w||{"default":w}).NumericRenderer,(b=t("./renderers/passwordRenderer.js"),b&&b.__esModule&&b||{"default":b}).PasswordRenderer,(C=t("./renderers/textRenderer.js"),C&&C.__esModule&&C||{"default":C}).TextRenderer,(k=t("./validators/autocompleteValidator.js"),k&&k.__esModule&&k||{"default":k}).AutocompleteValidator,(x=t("./validators/dateValidator.js"),x&&x.__esModule&&x||{"default":x}).DateValidator,(_=t("./validators/numericValidator.js"),_&&_.__esModule&&_||{"default":_}).NumericValidator,Handsontable.mobileBrowser=T.isMobileBrowser(),Handsontable.AutocompleteCell={editor:S("autocomplete"),renderer:E("autocomplete"),validator:Handsontable.AutocompleteValidator},Handsontable.CheckboxCell={editor:S("checkbox"),renderer:E("checkbox")},Handsontable.TextCell={editor:S(Handsontable.mobileBrowser?"mobile":"text"),renderer:E("text")},Handsontable.NumericCell={editor:S("numeric"),renderer:E("numeric"),validator:Handsontable.NumericValidator,dataType:"number"},Handsontable.DateCell={editor:S("date"),validator:Handsontable.DateValidator,renderer:E("autocomplete")},Handsontable.HandsontableCell={editor:S("handsontable"),renderer:E("autocomplete")},Handsontable.PasswordCell={editor:S("password"),renderer:E("password"),copyable:!1},Handsontable.DropdownCell={editor:S("dropdown"),renderer:E("autocomplete"),validator:Handsontable.AutocompleteValidator},Handsontable.cellTypes={text:Handsontable.TextCell,date:Handsontable.DateCell,numeric:Handsontable.NumericCell,checkbox:Handsontable.CheckboxCell,autocomplete:Handsontable.AutocompleteCell,handsontable:Handsontable.HandsontableCell,password:Handsontable.PasswordCell,dropdown:Handsontable.DropdownCell},Handsontable.cellLookup={validator:{numeric:Handsontable.NumericValidator,autocomplete:Handsontable.AutocompleteValidator}}},{"./editors.js":29,"./editors/autocompleteEditor.js":31,"./editors/checkboxEditor.js":32,"./editors/dateEditor.js":33,"./editors/dropdownEditor.js":34,"./editors/handsontableEditor.js":35,"./editors/mobileTextEditor.js":36,"./editors/numericEditor.js":37,"./editors/passwordEditor.js":38,"./editors/selectEditor.js":39,"./editors/textEditor.js":40,"./helpers.js":42,"./renderers.js":71,"./renderers/autocompleteRenderer.js":73,"./renderers/checkboxRenderer.js":74,"./renderers/htmlRenderer.js":75,"./renderers/numericRenderer.js":76,"./renderers/passwordRenderer.js":77,"./renderers/textRenderer.js":78,"./validators/autocompleteValidator.js":83,"./validators/dateValidator.js":84,"./validators/numericValidator.js":85}],25:[function(t,e,n){"use strict";var i,o,r,s,a,l,u,c,h,d,f,p,m,g=(i=t("./dom.js"),i&&i.__esModule&&i||{"default":i}),v=(o=t("./helpers.js"),o&&o.__esModule&&o||{"default":o}),y=(r=t("numeral"),r&&r.__esModule&&r||{"default":r})["default"],w=(s=t("./dataMap.js"),s&&s.__esModule&&s||{"default":s}).DataMap,b=(a=t("./editorManager.js"),a&&a.__esModule&&a||{"default":a}).EditorManager,C=(l=t("./eventManager.js"),l&&l.__esModule&&l||{"default":l}).eventManager,k=(u=t("./plugins.js"),u&&u.__esModule&&u||{"default":u}).getPlugin,x=(c=t("./renderers.js"),c&&c.__esModule&&c||{"default":c}).getRenderer,_=(h=t("./tableView.js"),h&&h.__esModule&&h||{"default":h}).TableView,T=(d=t("./3rdparty/walkontable/src/cell/coords.js"),d&&d.__esModule&&d||{"default":d}).WalkontableCellCoords,S=(f=t("./3rdparty/walkontable/src/cell/range.js"),f&&f.__esModule&&f||{"default":f}).WalkontableCellRange,E=((p=t("./3rdparty/walkontable/src/selection.js"),p&&p.__esModule&&p||{"default":p}).WalkontableSelection,(m=t("./3rdparty/walkontable/src/calculator/viewportColumns.js"),m&&m.__esModule&&m||{"default":m}).WalkontableViewportColumnsCalculator);Handsontable.activeGuid=null,Handsontable.Core=function(t,e){function n(){var t=!1;return{validatorsInQueue:0,addValidatorToQueue:function(){this.validatorsInQueue++,t=!1},removeValidatorFormQueue:function(){this.validatorsInQueue=this.validatorsInQueue-1<0?0:this.validatorsInQueue-1,this.checkIfQueueIsEmpty()},onQueueEmpty:function(){},checkIfQueueIsEmpty:function(){0==this.validatorsInQueue&&0==t&&(t=!0,this.onQueueEmpty())}}}function i(t,e,i){function o(){var n;t.length&&(n=Handsontable.hooks.run(m,"beforeChange",t,e),"function"==typeof n?console.warn("Your beforeChange callback returns a function. It's not supported since Handsontable 0.12.1 (and the returned function will not be executed)."):n===!1&&t.splice(0,t.length)),i()}var r=new n;r.onQueueEmpty=o;for(var s=t.length-1;s>=0;s--)if(null===t[s])t.splice(s,1);else{var a=t[s][0],l=h.propToCol(t[s][1]),u=m.runHooks("modifyCol",l),c=m.getCellMeta(a,u);if("numeric"===c.type&&"string"==typeof t[s][3]&&t[s][3].length>0&&(/^-?[\d\s]*(\.|\,)?\d*$/.test(t[s][3])||c.format)){var d=t[s][3].length;"undefined"==typeof c.language?y.language("en"):t[s][3].indexOf(".")===d-3&&-1===t[s][3].indexOf(",")?y.language("en"):y.language(c.language),y.validate(t[s][3])&&(t[s][3]=y().unformat(t[s][3]))}m.getCellValidator(c)&&(r.addValidatorToQueue(),m.validateCell(t[s][3],c,function(e,n){return function(i){if("boolean"!=typeof i)throw new Error("Validation error: result is not boolean");i===!1&&n.allowInvalid===!1&&(t.splice(e,1),n.valid=!0,--e),r.removeValidatorFormQueue()}}(s,c),e))}r.checkIfQueueIsEmpty()}function o(t,e){var n=t.length-1;if(!(0>n)){for(;n>=0;n--)if(null!==t[n]){if(null!=t[n][2]||null!=t[n][3]){if(c.settings.allowInsertRow)for(;t[n][0]>m.countRows()-1;)h.createRow();if("array"===m.dataType&&c.settings.allowInsertColumn)for(;h.propToCol(t[n][1])>m.countCols()-1;)h.createCol();h.set(t[n][0],t[n][1],t[n][3])}}else t.splice(n,1);m.forceFullRender=!0,d.adjustRowsAndCols(),Handsontable.hooks.run(m,"beforeChangeRender",t,e),f.refreshBorders(null,!0),m.view.wt.wtOverlays.adjustElementsSize(),Handsontable.hooks.run(m,"afterChange",t,e||"edit")}}function r(t,e,n){return"object"==typeof t?t:[[t,e,n]]}function s(t){if(t.hasOwnProperty("type")){var e,n={};if("object"==typeof t.type)e=t.type;else if("string"==typeof t.type&&(e=Handsontable.cellTypes[t.type],void 0===e))throw new Error('You declared cell type "'+t.type+'" as a string that is not mapped to a known object. Cell type must be an object or a string mapped to an object in Handsontable.cellTypes');for(var i in e)e.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(n[i]=e[i]);return n}}function a(t){return Handsontable.hooks.run(m,"modifyRow",t)}function l(t){return Handsontable.hooks.run(m,"modifyCol",t)}function u(){throw new Error("This method cannot be called because this Handsontable instance has been destroyed")}var c,h,d,f,p,m=this,R=function(){},M=C(m);v.extend(R.prototype,D.prototype),v.extend(R.prototype,e),v.extend(R.prototype,s(e)),this.rootElement=t,this.isHotTableEnv=g.isChildOfWebComponentTable(this.rootElement),Handsontable.eventManager.isHotTableEnv=this.isHotTableEnv,this.container=document.createElement("DIV"),this.renderCall=!1,t.insertBefore(this.container,t.firstChild),this.guid="ht_"+v.randomString(),this.rootElement.id&&"ht_"!==this.rootElement.id.substring(0,3)||(this.rootElement.id=this.guid),c={cellSettings:[],columnSettings:[],columnsSettingConflicts:["data","width"],settings:new R,selRange:null,isPopulated:null,scrollable:null,firstRun:!0},d={alter:function(t,e,n,i,o){var r;switch(n=n||1,t){case"insert_row":if(m.getSettings().maxRows===m.countRows())return;r=h.createRow(e,n),r&&(f.isSelected()&&c.selRange.from.row>=e?(c.selRange.from.row=c.selRange.from.row+r,f.transformEnd(r,0)):f.refreshBorders());break;case"insert_col":if(r=h.createCol(e,n)){if(Array.isArray(m.getSettings().colHeaders)){var s=[e,0];s.length+=r,Array.prototype.splice.apply(m.getSettings().colHeaders,s)}f.isSelected()&&c.selRange.from.col>=e?(c.selRange.from.col=c.selRange.from.col+r,f.transformEnd(0,r)):f.refreshBorders()}break;case"remove_row":e=m.runHooks("modifyCol",e),h.removeRow(e,n),c.cellSettings.splice(e,n);var a=m.getSettings().fixedRowsTop;a>=e+1&&(m.getSettings().fixedRowsTop-=Math.min(n,a-e)),d.adjustRowsAndCols(),f.refreshBorders();break;case"remove_col":h.removeCol(e,n);for(var l=0,u=h.getAll().length;u>l;l++)l in c.cellSettings&&c.cellSettings[l].splice(e,n);var p=m.getSettings().fixedColumnsLeft;p>=e+1&&(m.getSettings().fixedColumnsLeft-=Math.min(n,p-e)),Array.isArray(m.getSettings().colHeaders)&&("undefined"==typeof e&&(e=-1),m.getSettings().colHeaders.splice(e,n)),d.adjustRowsAndCols(),f.refreshBorders();break;default:throw new Error('There is no such action "'+t+'"')}o||d.adjustRowsAndCols()},adjustRowsAndCols:function(){if(c.settings.minRows){var t=m.countRows();if(t<c.settings.minRows)for(var e=0,n=c.settings.minRows;n-t>e;e++)h.createRow(m.countRows(),1,!0)}if(c.settings.minSpareRows){var i=m.countEmptyRows(!0);if(i<c.settings.minSpareRows)for(;i<c.settings.minSpareRows&&m.countRows()<c.settings.maxRows;i++)h.createRow(m.countRows(),1,!0)}var o;if((c.settings.minCols||c.settings.minSpareCols)&&(o=m.countEmptyCols(!0)),c.settings.minCols&&!c.settings.columns&&m.countCols()<c.settings.minCols)for(;m.countCols()<c.settings.minCols;o++)h.createCol(m.countCols(),1,!0);if(c.settings.minSpareCols&&!c.settings.columns&&"array"===m.dataType&&o<c.settings.minSpareCols)for(;o<c.settings.minSpareCols&&m.countCols()<c.settings.maxCols;o++)h.createCol(m.countCols(),1,!0);var r=m.countRows(),s=m.countCols();if((0===r||0===s)&&f.deselect(),f.isSelected()){var a=!1,l=c.selRange.from.row,u=c.selRange.from.col,d=c.selRange.to.row,p=c.selRange.to.col;l>r-1?(l=r-1,a=!0,d>l&&(d=l)):d>r-1&&(d=r-1,a=!0,l>d&&(l=d)),u>s-1?(u=s-1,a=!0,p>u&&(p=u)):p>s-1&&(p=s-1,a=!0,u>p&&(u=p)),a&&m.selectCell(l,u,d,p)}m.view&&m.view.wt.wtOverlays.adjustElementsSize()},populateFromArray:function(t,e,n,i,o,r,s){var a,l,u,h,d=[],f={};if(l=e.length,0===l)return!1;var p,g,y,w;switch(o){case"shift_down":for(p=n?n.col-t.col+1:0,g=n?n.row-t.row+1:0,e=v.translateRowsToColumns(e),u=0,h=e.length,y=Math.max(h,p);y>u;u++)if(h>u){for(a=0,l=e[u].length;g-l>a;a++)e[u].push(e[u][a%l]);e[u].unshift(t.col+u,t.row,0),m.spliceCol.apply(m,e[u])}else e[u%h][0]=t.col+u,m.spliceCol.apply(m,e[u%h]);break;case"shift_right":for(p=n?n.col-t.col+1:0,g=n?n.row-t.row+1:0,a=0,l=e.length,w=Math.max(l,g);w>a;a++)if(l>a){for(u=0,h=e[a].length;p-h>u;u++)e[a].push(e[a][u%h]);e[a].unshift(t.row+a,t.col,0),m.spliceRow.apply(m,e[a])}else e[a%l][0]=t.row+a,m.spliceRow.apply(m,e[a%l]);break;case"overwrite":default:f.row=t.row,f.col=t.col;var b={row:0,col:0},C={row:n&&t?n.row-t.row+1:1,col:n&&t?n.col-t.col+1:1},k=!0;for(-1!==["up","left"].indexOf(r)?b={row:Math.ceil(C.row/l)||1,col:Math.ceil(C.col/e[0].length)||1}:-1!==["down","right"].indexOf(r)&&(b={row:1,col:1}),a=0;l>a&&!(n&&f.row>n.row||!c.settings.allowInsertRow&&f.row>m.countRows()-1||f.row>=c.settings.maxRows);a++){for(f.col=t.col,h=e[a]?e[a].length:0,u=0;h>u&&!(n&&f.col>n.col||!c.settings.allowInsertColumn&&f.col>m.countCols()-1||f.col>=c.settings.maxCols);u++){if(!m.getCellMeta(f.row,f.col).readOnly){var x,_,T,S=e[a][u],E=m.getDataAtCell(f.row,f.col),D={row:a,col:u};"autofill"===i&&(x=m.runHooks("beforeAutofillInsidePopulate",D,r,e,s,b,C),x&&(b="undefined"!=typeof x.iterators?x.iterators:b,S="undefined"!=typeof x.value?x.value:S)),null!==S&&"object"==typeof S?null===E||"object"!=typeof E?k=!1:(T=Handsontable.helper.duckSchema(E[0]||E),_=Handsontable.helper.duckSchema(S[0]||S),Handsontable.helper.isObjectEquals(T,_)?S=Handsontable.helper.deepClone(S):k=!1):null!==E&&"object"==typeof E&&(k=!1),k&&d.push([f.row,f.col,S]),k=!0}f.col++,n&&u===h-1&&(u=-1,-1!==["down","right"].indexOf(r)?b.col++:-1!==["up","left"].indexOf(r)&&b.col>1&&b.col--)}f.row++,b.col=1,n&&a===l-1&&(a=-1,-1!==["down","right"].indexOf(r)?b.row++:-1!==["up","left"].indexOf(r)&&b.row>1&&b.row--)}m.setDataAtCell(d,null,null,i||"populateFromArray")}}},this.selection=f={inProgress:!1,selectedHeader:{cols:!1,rows:!1},setSelectedHeaders:function(t,e){m.selection.selectedHeader.rows=t,m.selection.selectedHeader.cols=e},begin:function(){m.selection.inProgress=!0},finish:function(){var t=m.getSelected();Handsontable.hooks.run(m,"afterSelectionEnd",t[0],t[1],t[2],t[3]),Handsontable.hooks.run(m,"afterSelectionEndByProp",t[0],m.colToProp(t[1]),t[2],m.colToProp(t[3])),m.selection.inProgress=!1},isInProgress:function(){return m.selection.inProgress},setRangeStart:function(t,e){Handsontable.hooks.run(m,"beforeSetRangeStart",t),c.selRange=new S(t,t,t),f.setRangeEnd(t,null,e)},setRangeEnd:function(t,e,n){if(null!==c.selRange){var i;Handsontable.hooks.run(m,"beforeSetRangeEnd",t),m.selection.begin(),c.selRange.to=new T(t.row,t.col),c.settings.multiSelect||(c.selRange.from=t),m.view.wt.selections.current.clear(),i=m.getCellMeta(c.selRange.highlight.row,c.selRange.highlight.col).disableVisualSelection,"string"==typeof i&&(i=[i]),(i===!1||Array.isArray(i)&&-1===i.indexOf("current"))&&m.view.wt.selections.current.add(c.selRange.highlight),m.view.wt.selections.area.clear(),(i===!1||Array.isArray(i)&&-1===i.indexOf("area"))&&f.isMultiple()&&(m.view.wt.selections.area.add(c.selRange.from),m.view.wt.selections.area.add(c.selRange.to)),(c.settings.currentRowClassName||c.settings.currentColClassName)&&(m.view.wt.selections.highlight.clear(),m.view.wt.selections.highlight.add(c.selRange.from),m.view.wt.selections.highlight.add(c.selRange.to)),Handsontable.hooks.run(m,"afterSelection",c.selRange.from.row,c.selRange.from.col,c.selRange.to.row,c.selRange.to.col),Handsontable.hooks.run(m,"afterSelectionByProp",c.selRange.from.row,h.colToProp(c.selRange.from.col),c.selRange.to.row,h.colToProp(c.selRange.to.col)),e!==!1&&m.view.mainViewIsActive()&&(c.selRange.from&&!f.isMultiple()?m.view.scrollViewport(c.selRange.from):m.view.scrollViewport(t)),f.refreshBorders(null,n)}},refreshBorders:function(t,e){e||p.destroyEditor(t),m.view.render(),f.isSelected()&&!e&&p.prepareEditor()},isMultiple:function(){var t=!(c.selRange.to.col===c.selRange.from.col&&c.selRange.to.row===c.selRange.from.row),e=Handsontable.hooks.run(m,"afterIsMultipleSelection",t);return t?e:void 0},transformStart:function(t,e,n,i){var o,r,s,a=new T(t,e),l=0,u=0;m.runHooks("modifyTransformStart",a),o=m.countRows(),r=m.countCols(),c.selRange.highlight.row+t>o-1?n&&c.settings.minSpareRows>0?(m.alter("insert_row",o),o=m.countRows()):c.settings.autoWrapCol&&(a.row=1-o,a.col=c.selRange.highlight.col+a.col==r-1?1-r:1):c.settings.autoWrapCol&&c.selRange.highlight.row+a.row<0&&c.selRange.highlight.col+a.col>=0&&(a.row=o-1,a.col=c.selRange.highlight.col+a.col==0?r-1:-1),c.selRange.highlight.col+a.col>r-1?n&&c.settings.minSpareCols>0?(m.alter("insert_col",r),r=m.countCols()):c.settings.autoWrapRow&&(a.row=c.selRange.highlight.row+a.row==o-1?1-o:1,a.col=1-r):c.settings.autoWrapRow&&c.selRange.highlight.col+a.col<0&&c.selRange.highlight.row+a.row>=0&&(a.row=c.selRange.highlight.row+a.row==0?o-1:-1,a.col=r-1),s=new T(c.selRange.highlight.row+a.row,c.selRange.highlight.col+a.col),s.row<0?(l=-1,s.row=0):s.row>0&&s.row>=o&&(l=1,s.row=o-1),s.col<0?(u=-1,s.col=0):s.col>0&&s.col>=r&&(u=1,s.col=r-1),m.runHooks("afterModifyTransformStart",s,l,u),f.setRangeStart(s,i)},transformEnd:function(t,e){var n,i,o,r=new T(t,e),s=0,a=0;m.runHooks("modifyTransformEnd",r),n=m.countRows(),i=m.countCols(),o=new T(c.selRange.to.row+r.row,c.selRange.to.col+r.col),o.row<0?(s=-1,o.row=0):o.row>0&&o.row>=n&&(s=1,o.row=n-1),o.col<0?(a=-1,o.col=0):o.col>0&&o.col>=i&&(a=1,o.col=i-1),m.runHooks("afterModifyTransformEnd",o,s,a),f.setRangeEnd(o,!0)},isSelected:function(){return null!==c.selRange},inInSelection:function(t){return f.isSelected()?c.selRange.includes(t):!1},deselect:function(){f.isSelected()&&(m.selection.inProgress=!1,c.selRange=null,m.view.wt.selections.current.clear(),m.view.wt.selections.area.clear(),(c.settings.currentRowClassName||c.settings.currentColClassName)&&m.view.wt.selections.highlight.clear(),p.destroyEditor(),f.refreshBorders(),Handsontable.hooks.run(m,"afterDeselect"))},selectAll:function(){c.settings.multiSelect&&(f.setRangeStart(new T(0,0)),
f.setRangeEnd(new T(m.countRows()-1,m.countCols()-1),!1))},empty:function(){if(f.isSelected()){var t,e,n=c.selRange.getTopLeftCorner(),i=c.selRange.getBottomRightCorner(),o=[];for(t=n.row;t<=i.row;t++)for(e=n.col;e<=i.col;e++)m.getCellMeta(t,e).readOnly||o.push([t,e,""]);m.setDataAtCell(o)}}},this.init=function(){Handsontable.hooks.run(m,"beforeInit"),Handsontable.mobileBrowser&&g.addClass(m.rootElement,"mobile"),this.updateSettings(c.settings,!0),this.view=new _(this),p=new b(m,c,f,h),this.forceFullRender=!0,Handsontable.hooks.run(m,"init"),this.view.render(),"object"==typeof c.firstRun&&(Handsontable.hooks.run(m,"afterChange",c.firstRun[0],c.firstRun[1]),c.firstRun=!1),Handsontable.hooks.run(m,"afterInit")},this.validateCell=function(t,e,n,i){function o(t){var i=e.col,o=e.row,r=m.getCell(o,i,!0);r&&m.view.wt.wtSettings.settings.cellRenderer(o,i,r),n(t)}var r=m.getCellValidator(e);"[object RegExp]"===Object.prototype.toString.call(r)&&(r=function(t){return function(e,n){n(t.test(e))}}(r)),"function"==typeof r?(t=Handsontable.hooks.run(m,"beforeValidate",t,e.row,e.prop,i),m._registerTimeout(setTimeout(function(){r.call(e,t,function(n){n=Handsontable.hooks.run(m,"afterValidate",n,t,e.row,e.prop,i),e.valid=n,o(n),Handsontable.hooks.run(m,"postAfterValidate",n,t,e.row,e.prop,i)})},0))):(e.valid=!0,o(e.valid))},this.setDataAtCell=function(t,e,n,s){var a,l,u,c=r(t,e,n),d=[];for(a=0,l=c.length;l>a;a++){if("object"!=typeof c[a])throw new Error("Method `setDataAtCell` accepts row number or changes array of arrays as its first parameter");if("number"!=typeof c[a][1])throw new Error("Method `setDataAtCell` accepts row and column number as its parameters. If you want to use object property name, use method `setDataAtRowProp`");u=h.colToProp(c[a][1]),d.push([c[a][0],u,h.get(c[a][0],u),c[a][2]])}s||"object"!=typeof t||(s=e),i(d,s,function(){o(d,s)})},this.setDataAtRowProp=function(t,e,n,s){var a,l,u=r(t,e,n),c=[];for(a=0,l=u.length;l>a;a++)c.push([u[a][0],u[a][1],h.get(u[a][0],u[a][1]),u[a][2]]);s||"object"!=typeof t||(s=e),i(c,s,function(){o(c,s)})},this.listen=function(){Handsontable.activeGuid=m.guid,document.activeElement&&document.activeElement!==document.body?document.activeElement.blur():document.activeElement||document.body.focus()},this.unlisten=function(){Handsontable.activeGuid=null},this.isListening=function(){return Handsontable.activeGuid===m.guid},this.destroyEditor=function(t){f.refreshBorders(t)},this.populateFromArray=function(t,e,n,i,o,r,s,a,l){var u;if("object"!=typeof n||"object"!=typeof n[0])throw new Error("populateFromArray parameter `input` must be an array of arrays");return u="number"==typeof i?new T(i,o):null,d.populateFromArray(new T(t,e),n,u,r,s,a,l)},this.spliceCol=function(t,e,n){return h.spliceCol.apply(h,arguments)},this.spliceRow=function(t,e,n){return h.spliceRow.apply(h,arguments)},this.getSelected=function(){return f.isSelected()?[c.selRange.from.row,c.selRange.from.col,c.selRange.to.row,c.selRange.to.col]:void 0},this.getSelectedRange=function(){return f.isSelected()?c.selRange:void 0},this.render=function(){m.view&&(m.renderCall=!0,m.forceFullRender=!0,f.refreshBorders(null,!0))},this.loadData=function(t){function e(){c.cellSettings.length=0}if("object"==typeof t&&null!==t)t.push&&t.splice||(t=[t]);else{if(null!==t)throw new Error("loadData only accepts array of objects or array of arrays ("+typeof t+" given)");t=[];for(var n,i=0,o=c.settings.startRows;o>i;i++){n=[];for(var r=0,s=c.settings.startCols;s>r;r++)n.push(null);t.push(n)}}c.isPopulated=!1,R.prototype.data=t,Array.isArray(c.settings.dataSchema)||Array.isArray(t[0])?m.dataType="array":"function"==typeof c.settings.dataSchema?m.dataType="function":m.dataType="object",h=new w(m,c,R),e(),d.adjustRowsAndCols(),Handsontable.hooks.run(m,"afterLoadData"),c.firstRun?c.firstRun=[null,"loadData"]:(Handsontable.hooks.run(m,"afterChange",null,"loadData"),m.render()),c.isPopulated=!0},this.getData=function(t,e,n,i){return"undefined"==typeof t?h.getAll():h.getRange(new T(t,e),new T(n,i),h.DESTINATION_RENDERER)},this.getCopyableData=function(t,e,n,i){return h.getCopyableText(new T(t,e),new T(n,i))},this.getSchema=function(){return h.getSchema()},this.updateSettings=function(t,e){var n,i;if("undefined"!=typeof t.rows)throw new Error("'rows' setting is no longer supported. do you mean startRows, minRows or maxRows?");if("undefined"!=typeof t.cols)throw new Error("'cols' setting is no longer supported. do you mean startCols, minCols or maxCols?");for(n in t)"data"!==n&&(Handsontable.hooks.getRegistered().indexOf(n)>-1?("function"==typeof t[n]||Array.isArray(t[n]))&&m.addHook(n,t[n]):!e&&t.hasOwnProperty(n)&&(R.prototype[n]=t[n]));if(void 0===t.data&&void 0===c.settings.data?m.loadData(null):void 0!==t.data?m.loadData(t.data):void 0!==t.columns&&h.createMap(),i=m.countCols(),c.cellSettings.length=0,i>0){var o,r;for(n=0;i>n;n++)c.columnSettings[n]=v.columnFactory(R,c.columnsSettingConflicts),o=c.columnSettings[n].prototype,R.prototype.columns&&(r=R.prototype.columns[n],v.extend(o,r),v.extend(o,s(r)))}if("undefined"!=typeof t.cell)for(n in t.cell)if(t.cell.hasOwnProperty(n)){var a=t.cell[n];m.setCellMetaObject(a.row,a.col,a)}if(Handsontable.hooks.run(m,"afterCellMetaReset"),"undefined"!=typeof t.className&&(R.prototype.className&&g.removeClass(m.rootElement,R.prototype.className),t.className&&g.addClass(m.rootElement,t.className)),"undefined"!=typeof t.height){var l=t.height;"function"==typeof l&&(l=l()),m.rootElement.style.height=l+"px"}if("undefined"!=typeof t.width){var u=t.width;"function"==typeof u&&(u=u()),m.rootElement.style.width=u+"px"}l&&(m.rootElement.style.overflow="hidden"),e||Handsontable.hooks.run(m,"afterUpdateSettings"),d.adjustRowsAndCols(),m.view&&!c.firstRun&&(m.forceFullRender=!0,f.refreshBorders(null,!0))},this.getValue=function(){var t=m.getSelected();if(R.prototype.getValue){if("function"==typeof R.prototype.getValue)return R.prototype.getValue.call(m);if(t)return m.getData()[t[0]][R.prototype.getValue]}else if(t)return m.getDataAtCell(t[0],t[1])},this.getSettings=function(){return c.settings},this.clear=function(){f.selectAll(),f.empty()},this.alter=function(t,e,n,i,o){d.alter(t,e,n,i,o)},this.getCell=function(t,e,n){return m.view.getCellAtCoords(new T(t,e),n)},this.getCoords=function(t){return this.view.wt.wtTable.getCoords.call(this.view.wt.wtTable,t)},this.colToProp=function(t){return h.colToProp(t)},this.propToCol=function(t){return h.propToCol(t)},this.getDataAtCell=function(t,e){return h.get(t,h.colToProp(e))},this.getDataAtRowProp=function(t,e){return h.get(t,e)},this.getDataAtCol=function(t){var e=[];return e.concat.apply(e,h.getRange(new T(0,t),new T(c.settings.data.length-1,t),h.DESTINATION_RENDERER))},this.getDataAtProp=function(t){var e,n=[];return e=h.getRange(new T(0,h.propToCol(t)),new T(c.settings.data.length-1,h.propToCol(t)),h.DESTINATION_RENDERER),n.concat.apply(n,e)},this.getSourceDataAtCol=function(t){for(var e=[],n=c.settings.data,i=0;i<n.length;i++)e.push(n[i][t]);return e},this.getSourceDataAtRow=function(t){return c.settings.data[t]},this.getDataAtRow=function(t){var e=h.getRange(new T(t,0),new T(t,this.countCols()-1),h.DESTINATION_RENDERER);return e[0]},this.removeCellMeta=function(t,e,n){var i=m.getCellMeta(t,e);void 0!=i[n]&&delete c.cellSettings[t][e][n]},this.setCellMetaObject=function(t,e,n){if("object"==typeof n)for(var i in n)if(n.hasOwnProperty(i)){var o=n[i];this.setCellMeta(t,e,i,o)}},this.setCellMeta=function(t,e,n,i){c.cellSettings[t]||(c.cellSettings[t]=[]),c.cellSettings[t][e]||(c.cellSettings[t][e]=new c.columnSettings[e]),c.cellSettings[t][e][n]=i,Handsontable.hooks.run(m,"afterSetCellMeta",t,e,n,i)},this.getCellMeta=function(t,e){var n,i=h.colToProp(e);if(t=a(t),e=l(e),c.columnSettings[e]||(c.columnSettings[e]=v.columnFactory(R,c.columnsSettingConflicts)),c.cellSettings[t]||(c.cellSettings[t]=[]),c.cellSettings[t][e]||(c.cellSettings[t][e]=new c.columnSettings[e]),n=c.cellSettings[t][e],n.row=t,n.col=e,n.prop=i,n.instance=m,Handsontable.hooks.run(m,"beforeGetCellMeta",t,e,n),v.extend(n,s(n)),n.cells){var o=n.cells.call(n,t,e,i);o&&(v.extend(n,o),v.extend(n,s(o)))}return Handsontable.hooks.run(m,"afterGetCellMeta",t,e,n),n},this.isColumnModificationAllowed=function(){return!("object"===m.dataType||m.getSettings().columns)};var A=v.cellMethodLookupFactory("renderer");this.getCellRenderer=function(t,e){var n=A.call(this,t,e);return x(n)},this.getCellEditor=v.cellMethodLookupFactory("editor"),this.getCellValidator=v.cellMethodLookupFactory("validator"),this.validateCells=function(t){var e=new n;e.onQueueEmpty=t;for(var i=m.countRows()-1;i>=0;){for(var o=m.countCols()-1;o>=0;)e.addValidatorToQueue(),m.validateCell(m.getDataAtCell(i,o),m.getCellMeta(i,o),function(){e.removeValidatorFormQueue()},"validateCells"),o--;i--}e.checkIfQueueIsEmpty()},this.getRowHeader=function(t){if(void 0===t){for(var e=[],n=0,i=m.countRows();i>n;n++)e.push(m.getRowHeader(n));return e}return Array.isArray(c.settings.rowHeaders)&&void 0!==c.settings.rowHeaders[t]?c.settings.rowHeaders[t]:"function"==typeof c.settings.rowHeaders?c.settings.rowHeaders(t):c.settings.rowHeaders&&"string"!=typeof c.settings.rowHeaders&&"number"!=typeof c.settings.rowHeaders?t+1:c.settings.rowHeaders},this.hasRowHeaders=function(){return!!c.settings.rowHeaders},this.hasColHeaders=function(){if(void 0!==c.settings.colHeaders&&null!==c.settings.colHeaders)return!!c.settings.colHeaders;for(var t=0,e=m.countCols();e>t;t++)if(m.getColHeader(t))return!0;return!1},this.getColHeader=function(t){if(void 0===t){for(var e=[],n=0,i=m.countCols();i>n;n++)e.push(m.getColHeader(n));return e}var o=t;return t=Handsontable.hooks.run(m,"modifyCol",t),c.settings.columns&&c.settings.columns[t]&&c.settings.columns[t].title?c.settings.columns[t].title:Array.isArray(c.settings.colHeaders)&&void 0!==c.settings.colHeaders[t]?c.settings.colHeaders[t]:"function"==typeof c.settings.colHeaders?c.settings.colHeaders(t):c.settings.colHeaders&&"string"!=typeof c.settings.colHeaders&&"number"!=typeof c.settings.colHeaders?v.spreadsheetColumnLabel(o):c.settings.colHeaders},this._getColWidthFromSettings=function(t){var e=m.getCellMeta(0,t),n=e.width;if((void 0===n||n===c.settings.width)&&(n=e.colWidths),void 0!==n&&null!==n){switch(typeof n){case"object":n=n[t];break;case"function":n=n(t)}"string"==typeof n&&(n=parseInt(n,10))}return n},this.getColWidth=function(t){var e=m._getColWidthFromSettings(t);return e=Handsontable.hooks.run(m,"modifyColWidth",e,t),void 0===e&&(e=E.DEFAULT_WIDTH),e},this._getRowHeightFromSettings=function(t){var e=c.settings.rowHeights;if(void 0!==e&&null!==e){switch(typeof e){case"object":e=e[t];break;case"function":e=e(t)}"string"==typeof e&&(e=parseInt(e,10))}return e},this.getRowHeight=function(t){var e=m._getRowHeightFromSettings(t);return e=Handsontable.hooks.run(m,"modifyRowHeight",e,t)},this.countRows=function(){return c.settings.data.length},this.countCols=function(){return"object"===m.dataType||"function"===m.dataType?c.settings.columns&&c.settings.columns.length?c.settings.columns.length:h.colToPropCache.length:"array"===m.dataType?c.settings.columns&&c.settings.columns.length?c.settings.columns.length:c.settings.data&&c.settings.data[0]&&c.settings.data[0].length?c.settings.data[0].length:0:void 0},this.rowOffset=function(){return m.view.wt.wtTable.getFirstRenderedRow()},this.colOffset=function(){return m.view.wt.wtTable.getFirstRenderedColumn()},this.countRenderedRows=function(){return m.view.wt.drawn?m.view.wt.wtTable.getRenderedRowsCount():-1},this.countVisibleRows=function(){return m.view.wt.drawn?m.view.wt.wtTable.getVisibleRowsCount():-1},this.countRenderedCols=function(){return m.view.wt.drawn?m.view.wt.wtTable.getRenderedColumnsCount():-1},this.countVisibleCols=function(){return m.view.wt.drawn?m.view.wt.wtTable.getVisibleColumnsCount():-1},this.countEmptyRows=function(t){for(var e,n=m.countRows()-1,i=0;n>=0;){if(e=Handsontable.hooks.run(this,"modifyRow",n),m.isEmptyRow(e))i++;else if(t)break;n--}return i},this.countEmptyCols=function(t){if(m.countRows()<1)return 0;for(var e=m.countCols()-1,n=0;e>=0;){if(m.isEmptyCol(e))n++;else if(t)break;e--}return n},this.isEmptyRow=function(t){return c.settings.isEmptyRow.call(m,t)},this.isEmptyCol=function(t){return c.settings.isEmptyCol.call(m,t)},this.selectCell=function(t,e,n,i,o,r){var s;if(r="undefined"==typeof r||r===!0,"number"!=typeof t||0>t||t>=m.countRows())return!1;if("number"!=typeof e||0>e||e>=m.countCols())return!1;if("undefined"!=typeof n){if("number"!=typeof n||0>n||n>=m.countRows())return!1;if("number"!=typeof i||0>i||i>=m.countCols())return!1}return s=new T(t,e),c.selRange=new S(s,s,s),document.activeElement&&document.activeElement!==document.documentElement&&document.activeElement!==document.body&&document.activeElement.blur(),r&&m.listen(),"undefined"==typeof n?f.setRangeEnd(c.selRange.from,o):f.setRangeEnd(new T(n,i),o),m.selection.finish(),!0},this.selectCellByProp=function(t,e,n,i,o){return arguments[1]=h.propToCol(arguments[1]),"undefined"!=typeof arguments[3]&&(arguments[3]=h.propToCol(arguments[3])),m.selectCell.apply(m,arguments)},this.deselectCell=function(){f.deselect()},this.destroy=function(){m._clearTimeouts(),m.view&&m.view.destroy(),g.empty(m.rootElement),M.destroy(),Handsontable.hooks.run(m,"afterDestroy"),Handsontable.hooks.destroy(m);for(var t in m)m.hasOwnProperty(t)&&("function"==typeof m[t]?m[t]=u:"guid"!==t&&(m[t]=null));c=null,h=null,d=null,f=null,p=null,m=null,R=null},this.getActiveEditor=function(){return p.getActiveEditor()},this.getPlugin=function(t){return k(this,t)},this.getInstance=function(){return m},this.addHook=function(t,e){Handsontable.hooks.add(t,e,m)},this.addHookOnce=function(t,e){Handsontable.hooks.once(t,e,m)},this.removeHook=function(t,e){Handsontable.hooks.remove(t,e,m)},this.runHooks=function(t,e,n,i,o,r,s){return Handsontable.hooks.run(m,t,e,n,i,o,r,s)},this.timeouts=[],this._registerTimeout=function(t){this.timeouts.push(t)},this._clearTimeouts=function(){for(var t=0,e=this.timeouts.length;e>t;t++)clearTimeout(this.timeouts[t])},this.version=Handsontable.version,Handsontable.hooks.run(m,"construct")};var D=function(){};D.prototype={data:void 0,dataSchema:void 0,width:void 0,height:void 0,startRows:5,startCols:5,rowHeaders:null,colHeaders:null,colWidths:void 0,columns:void 0,cells:void 0,cell:[],comments:!1,customBorders:!1,minRows:0,minCols:0,maxRows:1/0,maxCols:1/0,minSpareRows:0,minSpareCols:0,allowInsertRow:!0,allowInsertColumn:!0,allowRemoveRow:!0,allowRemoveColumn:!0,multiSelect:!0,fillHandle:!0,fixedRowsTop:0,fixedColumnsLeft:0,outsideClickDeselects:!0,enterBeginsEditing:!0,enterMoves:{row:1,col:0},tabMoves:{row:0,col:1},autoWrapRow:!1,autoWrapCol:!1,copyRowsLimit:1e3,copyColsLimit:1e3,pasteMode:"overwrite",persistentState:!1,currentRowClassName:void 0,currentColClassName:void 0,stretchH:"none",isEmptyRow:function(t){var e,n,i,o;for(e=0,n=this.countCols();n>e;e++)if(i=this.getDataAtCell(t,e),""!==i&&null!==i&&"undefined"!=typeof i)return"object"==typeof i?(o=this.getCellMeta(t,e),v.isObjectEquals(this.getSchema()[o.prop],i)):!1;return!0},isEmptyCol:function(t){var e,n,i;for(e=0,n=this.countRows();n>e;e++)if(i=this.getDataAtCell(e,t),""!==i&&null!==i&&"undefined"!=typeof i)return!1;return!0},observeDOMVisibility:!0,allowInvalid:!0,invalidCellClassName:"htInvalid",placeholder:!1,placeholderCellClassName:"htPlaceholder",readOnlyCellClassName:"htDimmed",renderer:void 0,commentedCellClassName:"htCommentCell",fragmentSelection:!1,readOnly:!1,search:!1,type:"text",copyable:!0,editor:void 0,autoComplete:void 0,debug:!1,wordWrap:!0,noWordWrapClassName:"htNoWrap",contextMenu:void 0,undo:void 0,columnSorting:void 0,manualColumnMove:void 0,manualColumnResize:void 0,manualRowMove:void 0,manualRowResize:void 0,mergeCells:!1,viewportRowRenderingOffset:"auto",viewportColumnRenderingOffset:"auto",groups:void 0,validator:void 0,disableVisualSelection:!1,sortIndicator:!1,manualColumnFreeze:void 0,trimWhitespace:!0,settings:void 0,source:void 0,title:void 0,checkedTemplate:void 0,uncheckedTemplate:void 0,format:void 0,className:void 0,autoColumnSize:void 0,autoRowSize:void 0},Handsontable.DefaultSettings=D},{"./3rdparty/walkontable/src/calculator/viewportColumns.js":3,"./3rdparty/walkontable/src/cell/coords.js":5,"./3rdparty/walkontable/src/cell/range.js":6,"./3rdparty/walkontable/src/selection.js":18,"./dataMap.js":26,"./dom.js":27,"./editorManager.js":28,"./eventManager.js":41,"./helpers.js":42,"./plugins.js":45,"./renderers.js":71,"./tableView.js":80,numeral:"numeral"}],26:[function(t,e,n){"use strict";function i(t,e,n){this.instance=t,this.priv=e,this.GridSettings=n,this.dataSource=this.instance.getSettings().data,this.dataSource[0]?this.duckSchema=this.recursiveDuckSchema(this.dataSource[0]):this.duckSchema={},this.createMap()}Object.defineProperties(n,{DataMap:{get:function(){return i}},__esModule:{value:!0}});var o,r,s,a=(o=t("./helpers.js"),o&&o.__esModule&&o||{"default":o}),l=(r=t("./multiMap.js"),r&&r.__esModule&&r||{"default":r}).MultiMap,u=(s=t("SheetClip"),s&&s.__esModule&&s||{"default":s})["default"];Handsontable.DataMap=i,i.prototype.DESTINATION_RENDERER=1,i.prototype.DESTINATION_CLIPBOARD_GENERATOR=2,i.prototype.recursiveDuckSchema=function(t){return Handsontable.helper.duckSchema(t)},i.prototype.recursiveDuckColumns=function(t,e,n){var i,o;if("undefined"==typeof e&&(e=0,n=""),"object"==typeof t&&!Array.isArray(t))for(o in t)t.hasOwnProperty(o)&&(null===t[o]?(i=n+o,this.colToPropCache.push(i),this.propToColCache.set(i,e),e++):e=this.recursiveDuckColumns(t[o],e,o+"."));return e},i.prototype.createMap=function(){var t,e,n=this.getSchema();if("undefined"==typeof n)throw new Error("trying to create `columns` definition but you didnt' provide `schema` nor `data`");this.colToPropCache=[],this.propToColCache=new l;var i=this.instance.getSettings().columns;if(i)for(t=0,e=i.length;e>t;t++)"undefined"!=typeof i[t].data&&(this.colToPropCache[t]=i[t].data,this.propToColCache.set(i[t].data,t));else this.recursiveDuckColumns(n)},i.prototype.colToProp=function(t){return t=Handsontable.hooks.run(this.instance,"modifyCol",t),this.colToPropCache&&"undefined"!=typeof this.colToPropCache[t]?this.colToPropCache[t]:t},i.prototype.propToCol=function(t){var e;return e="undefined"!=typeof this.propToColCache.get(t)?this.propToColCache.get(t):t,e=Handsontable.hooks.run(this.instance,"modifyCol",e)},i.prototype.getSchema=function(){var t=this.instance.getSettings().dataSchema;return t?"function"==typeof t?t():t:this.duckSchema},i.prototype.createRow=function(t,e,n){var i,o,r=this.instance.countCols(),s=0;e||(e=1),("number"!=typeof t||t>=this.instance.countRows())&&(t=this.instance.countRows()),o=t;for(var l=this.instance.getSettings().maxRows;e>s&&this.instance.countRows()<l;){if("array"===this.instance.dataType){i=[];for(var u=0;r>u;u++)i.push(null)}else"function"===this.instance.dataType?i=this.instance.getSettings().dataSchema(t):(i={},a.deepExtend(i,this.getSchema()));t===this.instance.countRows()?this.dataSource.push(i):this.dataSource.splice(t,0,i),s++,o++}return Handsontable.hooks.run(this.instance,"afterCreateRow",t,s,n),this.instance.forceFullRender=!0,s},i.prototype.createCol=function(t,e,n){if(!this.instance.isColumnModificationAllowed())throw new Error("Cannot create new column. When data source in an object, you can only have as much columns as defined in first data row, data schema or in the 'columns' setting.If you want to be able to add new columns, you have to use array datasource.");var i,o,r=this.instance.countRows(),s=this.dataSource,l=0;e||(e=1),o=t;for(var u=this.instance.getSettings().maxCols;e>l&&this.instance.countCols()<u;){if(i=a.columnFactory(this.GridSettings,this.priv.columnsSettingConflicts),"number"!=typeof t||t>=this.instance.countCols()){for(var c=0;r>c;c++)"undefined"==typeof s[c]&&(s[c]=[]),s[c].push(null);this.priv.columnSettings.push(i)}else{for(var c=0;r>c;c++)s[c].splice(o,0,null);this.priv.columnSettings.splice(o,0,i)}l++,o++}return Handsontable.hooks.run(this.instance,"afterCreateCol",t,l,n),this.instance.forceFullRender=!0,l},i.prototype.removeRow=function(t,e){e||(e=1),"number"!=typeof t&&(t=-e),t=(this.instance.countRows()+t)%this.instance.countRows();var n=this.physicalRowsToLogical(t,e),i=Handsontable.hooks.run(this.instance,"beforeRemoveRow",t,e);if(i!==!1){var o=this.dataSource,r=o.filter(function(t,e){return-1==n.indexOf(e)});o.length=0,Array.prototype.push.apply(o,r),Handsontable.hooks.run(this.instance,"afterRemoveRow",t,e),this.instance.forceFullRender=!0}},i.prototype.removeCol=function(t,e){if("object"===this.instance.dataType||this.instance.getSettings().columns)throw new Error("cannot remove column with object data source or columns option specified");e||(e=1),"number"!=typeof t&&(t=-e),t=(this.instance.countCols()+t)%this.instance.countCols();var n=Handsontable.hooks.run(this.instance,"beforeRemoveCol",t,e);if(n!==!1){for(var i=this.dataSource,o=0,r=this.instance.countRows();r>o;o++)i[o].splice(t,e);this.priv.columnSettings.splice(t,e),Handsontable.hooks.run(this.instance,"afterRemoveCol",t,e),this.instance.forceFullRender=!0}},i.prototype.spliceCol=function(t,e,n){var i=4<=arguments.length?[].slice.call(arguments,3):[],o=this.instance.getDataAtCol(t),r=o.slice(e,e+n),s=o.slice(e+n);a.extendArray(i,s);for(var l=0;n>l;)i.push(null),l++;return a.to2dArray(i),this.instance.populateFromArray(e,t,i,null,null,"spliceCol"),r},i.prototype.spliceRow=function(t,e,n){var i=4<=arguments.length?[].slice.call(arguments,3):[],o=this.instance.getSourceDataAtRow(t),r=o.slice(e,e+n),s=o.slice(e+n);a.extendArray(i,s);for(var l=0;n>l;)i.push(null),l++;return this.instance.populateFromArray(t,e,[i],null,null,"spliceRow"),r},i.prototype.get=function(t,e){if(t=Handsontable.hooks.run(this.instance,"modifyRow",t),"string"==typeof e&&e.indexOf(".")>-1){var n=e.split("."),i=this.dataSource[t];if(!i)return null;for(var o=0,r=n.length;r>o;o++)if(i=i[n[o]],"undefined"==typeof i)return null;return i}return"function"==typeof e?e(this.dataSource.slice(t,t+1)[0]):this.dataSource[t]?this.dataSource[t][e]:null};var c=a.cellMethodLookupFactory("copyable",!1);i.prototype.getCopyable=function(t,e){return c.call(this.instance,t,this.propToCol(e))?this.get(t,e):""},i.prototype.set=function(t,e,n,i){if(t=Handsontable.hooks.run(this.instance,"modifyRow",t,i||"datamapGet"),"string"==typeof e&&e.indexOf(".")>-1){for(var o=e.split("."),r=this.dataSource[t],s=0,a=o.length-1;a>s;s++)"undefined"==typeof r[o[s]]&&(r[o[s]]={}),r=r[o[s]];r[o[s]]=n}else"function"==typeof e?e(this.dataSource.slice(t,t+1)[0],n):this.dataSource[t][e]=n},i.prototype.physicalRowsToLogical=function(t,e){for(var n,i=this.instance.countRows(),o=(i+t)%i,r=[],s=e;i>o&&s;)n=Handsontable.hooks.run(this.instance,"modifyRow",o),r.push(n),s--,o++;return r},i.prototype.clear=function(){for(var t=0;t<this.instance.countRows();t++)for(var e=0;e<this.instance.countCols();e++)this.set(t,this.colToProp(e),"")},i.prototype.getAll=function(){return this.dataSource},i.prototype.getRange=function(t,e,n){var i,o,r,s,a,l=[],u=n===this.DESTINATION_CLIPBOARD_GENERATOR?this.getCopyable:this.get;for(o=Math.max(t.row,e.row),s=Math.max(t.col,e.col),i=Math.min(t.row,e.row);o>=i;i++){for(a=[],r=Math.min(t.col,e.col);s>=r;r++)a.push(u.call(this,i,this.colToProp(r)));l.push(a)}return l},i.prototype.getText=function(t,e){return u.stringify(this.getRange(t,e,this.DESTINATION_RENDERER))},i.prototype.getCopyableText=function(t,e){return u.stringify(this.getRange(t,e,this.DESTINATION_CLIPBOARD_GENERATOR))}},{"./helpers.js":42,"./multiMap.js":43,SheetClip:"SheetClip"}],27:[function(t,e,n){"use strict";function i(t){null!=t&&null==t.isImmediatePropagationEnabled&&(t.stopImmediatePropagation=function(){this.isImmediatePropagationEnabled=!1,this.cancelBubble=!0},t.isImmediatePropagationEnabled=!0,t.isImmediatePropagationStopped=function(){return!this.isImmediatePropagationEnabled})}function o(t,e,n){for(;null!=t&&t!==n;){if(t.nodeType===Node.ELEMENT_NODE&&(e.indexOf(t.nodeName)>-1||e.indexOf(t)>-1))return t;t=t.host&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE?t.host:t.parentNode}return null}function r(t,e){var n=t.parentNode,i=[];for("string"==typeof e?i=Array.prototype.slice.call(document.querySelectorAll(e),0):i.push(e);null!=n;){if(i.indexOf(n)>-1)return!0;n=n.parentNode}return!1}function s(t){function e(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName===i.toUpperCase()}var n,i="hot-table",o=!1;for(n=a(t);null!=n;){if(e(n)){o=!0;break}if(n.host&&n.nodeType===Node.DOCUMENT_FRAGMENT_NODE){if(o=e(n.host))break;n=n.host}n=n.parentNode}return o}function a(t){return"undefined"!=typeof Polymer&&"function"==typeof wrap?wrap(t):t}function l(t){return"undefined"!=typeof Polymer&&"function"==typeof unwrap?unwrap(t):t}function u(){var t=document.createElement("div");return t.createShadowRoot&&t.createShadowRoot.toString().match(/\[native code\]/)?!0:!1}function c(t){var e=0;if(t.previousSibling)for(;t=t.previousSibling;)++e;return e}function h(t){var e=0,n=[];if(!t||!t.length)return n;for(;t[e];)n.push(t[e]),e++;return n}function d(t,e){return X(t,e)}function f(t,e){return K(t,e)}function p(t,e){return J(t,e)}function m(t,e){if(3===t.nodeType)e.removeChild(t);else if(["TABLE","THEAD","TBODY","TFOOT","TR"].indexOf(t.nodeName)>-1)for(var n=t.childNodes,i=n.length-1;i>=0;i--)m(n[i],t)}function g(t){for(var e;e=t.lastChild;)t.removeChild(e)}function v(t,e){it.test(e)?t.innerHTML=e:y(t,e)}function y(t,e){var n=t.firstChild;n&&3===n.nodeType&&null===n.nextSibling?ot?n.textContent=e:n.data=e:(g(t),t.appendChild(document.createTextNode(e)))}function w(t){for(var e=t;l(e)!==document.documentElement;){if(null===e)return!1;if(e.nodeType===Node.DOCUMENT_FRAGMENT_NODE){if(e.host){if(e.host.impl)return w(e.host.impl);if(e.host)return w(e.host);throw new Error("Lost in Web Components world")}return!1}if("none"===e.style.display)return!1;e=e.parentNode}return!0}function b(t){var e,n,i,o,r;if(o=document.documentElement,I()&&t.firstChild&&"CAPTION"===t.firstChild.nodeName)return r=t.getBoundingClientRect(),{top:r.top+(window.pageYOffset||o.scrollTop)-(o.clientTop||0),left:r.left+(window.pageXOffset||o.scrollLeft)-(o.clientLeft||0)};for(e=t.offsetLeft,n=t.offsetTop,i=t;(t=t.offsetParent)&&t!==document.body;)e+=t.offsetLeft,n+=t.offsetTop,i=t;return i&&"fixed"===i.style.position&&(e+=window.pageXOffset||o.scrollLeft,n+=window.pageYOffset||o.scrollTop),{left:e,top:n}}function C(){var t=window.scrollY;return void 0==t&&(t=document.documentElement.scrollTop),t}function k(){var t=window.scrollX;return void 0==t&&(t=document.documentElement.scrollLeft),t}function x(t){return t===window?C(t):t.scrollTop}function _(t){return t===window?k(t):t.scrollLeft}function T(t){for(var e,n,i,o=t.parentNode,r=["auto","scroll"],s="",a="",l="",u="";o&&o.style&&document.body!==o;){if(e=o.style.overflow,n=o.style.overflowX,i=o.style.overflowY,"scroll"==e||"scroll"==n||"scroll"==i)return o;if(window.getComputedStyle&&(s=window.getComputedStyle(o),a=s.getPropertyValue("overflow"),l=s.getPropertyValue("overflow-y"),u=s.getPropertyValue("overflow-x"),"scroll"===a||"scroll"===u||"scroll"===l))return o;if(o.clientHeight<=o.scrollHeight&&(-1!==r.indexOf(i)||-1!==r.indexOf(e)||-1!==r.indexOf(a)||-1!==r.indexOf(l)))return o;if(o.clientWidth<=o.scrollWidth&&(-1!==r.indexOf(n)||-1!==r.indexOf(e)||-1!==r.indexOf(a)||-1!==r.indexOf(u)))return o;o=o.parentNode}return window}function S(t){for(var e=t.parentNode;e&&e.style&&document.body!==e;){if("visible"!==e.style.overflow&&""!==e.style.overflow)return e;if(window.getComputedStyle){var n=window.getComputedStyle(e);if("visible"!==n.getPropertyValue("overflow")&&""!==n.getPropertyValue("overflow"))return e}e=e.parentNode}return window}function E(t,e){if(t){if(t!==window){var n,i=t.style[e];return""!==i&&void 0!==i?i:(n=D(t),""!==n[e]&&void 0!==n[e]?n[e]:void 0)}if("width"===e)return window.innerWidth+"px";if("height"===e)return window.innerHeight+"px"}}function D(t){return t.currentStyle||document.defaultView.getComputedStyle(t)}function R(t){return t.offsetWidth}function M(t){return I()&&t.firstChild&&"CAPTION"===t.firstChild.nodeName?t.offsetHeight+t.firstChild.offsetHeight:t.offsetHeight}function A(t){return t.clientHeight||t.innerHeight}function O(t){return t.clientWidth||t.innerWidth}function H(t,e,n){window.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)}function P(t,e,n){window.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)}function L(){var t=document.createElement("TABLE");t.style.borderSpacing=0,t.style.borderWidth=0,t.style.padding=0;var e=document.createElement("TBODY");t.appendChild(e),e.appendChild(document.createElement("TR")),e.firstChild.appendChild(document.createElement("TD")),e.firstChild.firstChild.innerHTML="<tr><td>t<br>t</td></tr>";var n=document.createElement("CAPTION");n.innerHTML="c<br>c<br>c<br>c",n.style.padding=0,n.style.margin=0,t.insertBefore(n,e),document.body.appendChild(t),et=t.offsetHeight<2*t.lastChild.offsetHeight,document.body.removeChild(t)}function I(){return void 0===et&&L(),et}function j(t){if(t.selectionStart)return t.selectionStart;if(document.selection){t.focus();var e=document.selection.createRange();if(null==e)return 0;var n=t.createTextRange(),i=n.duplicate();return n.moveToBookmark(e.getBookmark()),i.setEndPoint("EndToStart",n),i.text.length}return 0}function N(t){if(t.selectionEnd)return t.selectionEnd;if(document.selection){var e=document.selection.createRange();if(null==e)return 0;var n=t.createTextRange();return n.text.indexOf(e.text)+e.text.length}}function $(t,e,n){if(void 0===n&&(n=e),t.setSelectionRange){t.focus();try{t.setSelectionRange(e,n)}catch(i){var o=t.parentNode,r=o.style.display;o.style.display="block",t.setSelectionRange(e,n),o.style.display=r}}else if(t.createTextRange){var s=t.createTextRange();s.collapse(!0),s.moveEnd("character",n),s.moveStart("character",e),s.select()}}function F(){var t=document.createElement("p");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(t),(document.body||document.documentElement).appendChild(e);var n=t.offsetWidth;e.style.overflow="scroll";var i=t.offsetWidth;return n==i&&(i=e.clientWidth),(document.body||document.documentElement).removeChild(e),n-i}function W(){return void 0===nt&&(nt=F()),nt}function B(){return B}function V(){return st}function z(){return at}function Y(){return lt}function U(t,e,n){rt||st?(t.style.top=n,t.style.left=e):at?t.style["-webkit-transform"]="translate3d("+e+","+n+",0)":t.style.transform="translate3d("+e+","+n+",0)"}function G(t){var e;return t.style.transform&&""!==(e=t.style.transform)?["transform",e]:t.style["-webkit-transform"]&&""!==(e=t.style["-webkit-transform"])?["-webkit-transform",e]:-1}function q(t){t.transform&&""!==t.transform?t.transform="":t["-webkit-transform"]&&""!==t["-webkit-transform"]&&(t["-webkit-transform"]="")}Object.defineProperties(n,{enableImmediatePropagation:{get:function(){return i}},closest:{get:function(){return o}},isChildOf:{get:function(){return r}},isChildOfWebComponentTable:{get:function(){return s}},polymerWrap:{get:function(){return a}},polymerUnwrap:{get:function(){return l}},isWebComponentSupportedNatively:{get:function(){return u}},index:{get:function(){return c}},hasClass:{get:function(){return d}},addClass:{get:function(){return f}},removeClass:{get:function(){return p}},removeTextNodes:{get:function(){return m}},empty:{get:function(){return g}},HTML_CHARACTERS:{get:function(){return it}},fastInnerHTML:{get:function(){return v}},fastInnerText:{get:function(){return y}},isVisible:{get:function(){return w}},offset:{get:function(){return b}},getWindowScrollTop:{get:function(){return C}},getWindowScrollLeft:{get:function(){return k}},getScrollTop:{get:function(){return x}},getScrollLeft:{get:function(){return _}},getScrollableElement:{get:function(){return T}},getTrimmingContainer:{get:function(){return S}},getStyle:{get:function(){return E}},getComputedStyle:{get:function(){return D}},outerWidth:{get:function(){return R}},outerHeight:{get:function(){return M}},innerHeight:{get:function(){return A}},innerWidth:{get:function(){return O}},addEvent:{get:function(){return H}},removeEvent:{get:function(){return P}},hasCaptionProblem:{get:function(){return I}},getCaretPosition:{get:function(){return j}},getSelectionEndPosition:{get:function(){return N}},setCaretPosition:{get:function(){return $}},getScrollbarWidth:{get:function(){return W}},isIE8:{get:function(){return B}},isIE9:{get:function(){return V}},isSafari:{get:function(){
return z}},isChrome:{get:function(){return Y}},setOverlayPosition:{get:function(){return U}},getCssTransform:{get:function(){return G}},resetCssTransform:{get:function(){return q}},__esModule:{value:!0}});var X,K,J,Q=document.documentElement.classList?!0:!1;if(Q){var Z=function(){var t=document.createElement("div");return t.classList.add("test","test2"),t.classList.contains("test2")}();X=function(t,e){return""===e?!1:t.classList.contains(e)},K=function(t,e){var n=0;if("string"==typeof e&&(e=e.split(" ")),e=h(e),Z)t.classList.add.apply(t.classList,e);else for(;e&&e[n];)t.classList.add(e[n]),n++},J=function(t,e){var n=0;if("string"==typeof e&&(e=e.split(" ")),e=h(e),Z)t.classList.remove.apply(t.classList,e);else for(;e&&e[n];)t.classList.remove(e[n]),n++}}else{var tt=function(t){return new RegExp("(\\s|^)"+t+"(\\s|$)")};X=function(t,e){return t.className.match(tt(e))?!0:!1},K=function(t,e){var n=0,i=t.className;if("string"==typeof e&&(e=e.split(" ")),""===i)i=e.join(" ");else for(;e&&e[n];)tt(e[n]).test(i)||(i+=" "+e[n]),n++;t.className=i},J=function(t,e){var n=0,i=t.className;for("string"==typeof e&&(e=e.split(" "));e&&e[n];)i=i.replace(tt(e[n])," ").trim(),n++;t.className!==i&&(t.className=i)}}var et,nt,it=/(<(.*)>|&(.*);)/,ot=document.createTextNode("test").textContent?!0:!1,rt=!document.createTextNode("test").textContent,st=!!document.documentMode,at=/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor),lt=/Chrome/.test(navigator.userAgent)&&/Google/.test(navigator.vendor);window.Handsontable=window.Handsontable||{},Handsontable.Dom={addClass:f,addEvent:H,closest:o,empty:g,enableImmediatePropagation:i,fastInnerHTML:v,fastInnerText:y,getCaretPosition:j,getComputedStyle:D,getCssTransform:G,getScrollableElement:T,getScrollbarWidth:W,getScrollLeft:_,getScrollTop:x,getStyle:E,getSelectionEndPosition:N,getTrimmingContainer:S,getWindowScrollLeft:k,getWindowScrollTop:C,hasCaptionProblem:I,hasClass:d,HTML_CHARACTERS:it,index:c,innerHeight:A,innerWidth:O,isChildOf:r,isChildOfWebComponentTable:s,isChrome:Y,isIE8:B,isIE9:V,isSafari:z,isVisible:w,isWebComponentSupportedNatively:u,offset:b,outerHeight:M,outerWidth:R,polymerUnwrap:l,polymerWrap:a,removeClass:p,removeEvent:P,removeTextNodes:m,resetCssTransform:q,setCaretPosition:$,setOverlayPosition:U}},{}],28:[function(t,e,n){"use strict";function i(t,e,n){function i(t){var i="function"==typeof e.settings.enterMoves?e.settings.enterMoves(event):e.settings.enterMoves;t?n.transformStart(-i.row,-i.col):n.transformStart(i.row,i.col,!0)}function o(t){t?n.transformEnd(-1,0):n.transformStart(-1,0)}function r(t){t?n.transformEnd(1,0):n.transformStart(1,0)}function s(t){t?n.transformEnd(0,1):n.transformStart(0,1)}function a(t){t?n.transformEnd(0,-1):n.transformStart(0,-1)}function l(l){var d,f;if(t.isListening()&&(Handsontable.hooks.run(t,"beforeKeyDown",l),!y&&(h.enableImmediatePropagation(l),!l.isImmediatePropagationStopped()&&(e.lastKeyCode=l.keyCode,n.isSelected())))){if(d=(l.ctrlKey||l.metaKey)&&!l.altKey,m&&!m.isWaiting()&&!(c.isMetaKey(l.keyCode)||c.isCtrlKey(l.keyCode)||d||g.isEditorOpened()))return void g.openEditor("",l);switch(f=l.shiftKey?n.setRangeEnd:n.setRangeStart,l.keyCode){case v.A:!g.isEditorOpened()&&d&&(n.selectAll(),l.preventDefault(),c.stopPropagation(l));break;case v.ARROW_UP:g.isEditorOpened()&&!m.isWaiting()&&g.closeEditorAndSaveChanges(d),o(l.shiftKey),l.preventDefault(),c.stopPropagation(l);break;case v.ARROW_DOWN:g.isEditorOpened()&&!m.isWaiting()&&g.closeEditorAndSaveChanges(d),r(l.shiftKey),l.preventDefault(),c.stopPropagation(l);break;case v.ARROW_RIGHT:g.isEditorOpened()&&!m.isWaiting()&&g.closeEditorAndSaveChanges(d),s(l.shiftKey),l.preventDefault(),c.stopPropagation(l);break;case v.ARROW_LEFT:g.isEditorOpened()&&!m.isWaiting()&&g.closeEditorAndSaveChanges(d),a(l.shiftKey),l.preventDefault(),c.stopPropagation(l);break;case v.TAB:var p="function"==typeof e.settings.tabMoves?e.settings.tabMoves(l):e.settings.tabMoves;l.shiftKey?n.transformStart(-p.row,-p.col):n.transformStart(p.row,p.col,!0),l.preventDefault(),c.stopPropagation(l);break;case v.BACKSPACE:case v.DELETE:n.empty(l),g.prepareEditor(),l.preventDefault();break;case v.F2:g.openEditor(null,l),m&&m.enableFullEditMode(),l.preventDefault();break;case v.ENTER:g.isEditorOpened()?(m&&m.state!==Handsontable.EditorState.WAITING&&g.closeEditorAndSaveChanges(d),i(l.shiftKey)):t.getSettings().enterBeginsEditing?(g.openEditor(null,l),m&&m.enableFullEditMode()):i(l.shiftKey),l.preventDefault(),l.stopImmediatePropagation();break;case v.ESCAPE:g.isEditorOpened()&&g.closeEditorAndRestoreOriginalValue(d),l.preventDefault();break;case v.HOME:f(l.ctrlKey||l.metaKey?new u(0,e.selRange.from.col):new u(e.selRange.from.row,0)),l.preventDefault(),c.stopPropagation(l);break;case v.END:f(l.ctrlKey||l.metaKey?new u(t.countRows()-1,e.selRange.from.col):new u(e.selRange.from.row,t.countCols()-1)),l.preventDefault(),c.stopPropagation(l);break;case v.PAGE_UP:n.transformStart(-t.countVisibleRows(),0),l.preventDefault(),c.stopPropagation(l);break;case v.PAGE_DOWN:n.transformStart(t.countVisibleRows(),0),l.preventDefault(),c.stopPropagation(l)}}}function f(){function e(t,e,n){"TD"==n.nodeName&&(g.openEditor(),m&&m.enableFullEditMode())}t.addHook("afterDocumentKeyDown",l),p.addEventListener(document.documentElement,"keydown",function(e){t.runHooks("afterDocumentKeyDown",e)}),t.view.wt.update("onCellDblClick",e),t.addHook("afterDestroy",function(){y=!0})}var p,m,g=this,v=c.keyCode,y=!1;p=d(t),this.destroyEditor=function(t){this.closeEditor(t)},this.getActiveEditor=function(){return m},this.prepareEditor=function(){var n,i,o,r,s,a,l;return m&&m.isWaiting()?void this.closeEditor(!1,!1,function(t){t&&g.prepareEditor()}):(n=e.selRange.highlight.row,i=e.selRange.highlight.col,o=t.colToProp(i),r=t.getCell(n,i),s=t.getDataAtCell(n,i),a=t.getCellMeta(n,i),l=t.getCellEditor(a),void(l?(m=Handsontable.editors.getEditor(l,t),m.prepare(n,i,o,r,s,a)):m=void 0))},this.isEditorOpened=function(){return m&&m.isOpened()},this.openEditor=function(t,e){m&&!m.cellProperties.readOnly?m.beginEditing(t,e):m&&m.cellProperties.readOnly&&e&&e.keyCode===c.keyCode.ENTER&&i()},this.closeEditor=function(t,e,n){m?m.finishEditing(t,e,n):n&&n(!1)},this.closeEditorAndSaveChanges=function(t){return this.closeEditor(!1,t)},this.closeEditorAndRestoreOriginalValue=function(t){return this.closeEditor(!0,t)},f()}Object.defineProperties(n,{EditorManager:{get:function(){return i}},__esModule:{value:!0}});var o,r,s,a,l,u=(o=t("./3rdparty/walkontable/src/cell/coords.js"),o&&o.__esModule&&o||{"default":o}).WalkontableCellCoords,c=(r=t("./helpers.js"),r&&r.__esModule&&r||{"default":r}),h=(s=t("./dom.js"),s&&s.__esModule&&s||{"default":s}),d=((a=t("./editors.js"),a&&a.__esModule&&a||{"default":a}).getEditor,(l=t("./eventManager.js"),l&&l.__esModule&&l||{"default":l}).eventManager);Handsontable.EditorManager=i},{"./3rdparty/walkontable/src/cell/coords.js":5,"./dom.js":27,"./editors.js":29,"./eventManager.js":41,"./helpers.js":42}],29:[function(t,e,n){"use strict";function i(t){var e,n;n={},e=t,this.getConstructor=function(){return t},this.getInstance=function(t){return t.guid in n||(n[t.guid]=new e(t)),n[t.guid]}}function o(t,e){var n=new i(e);"string"==typeof t&&(c[t]=n,Handsontable.editors[u.toUpperCaseFirst(t)+"Editor"]=e),h.set(e,n)}function r(t,e){var n;if("function"==typeof t)h.get(t)||o(null,t),n=h.get(t);else{if("string"!=typeof t)throw Error('Only strings and functions can be passed as "editor" parameter ');n=c[t]}if(!n)throw Error('No editor registered under name "'+t+'"');return n.getInstance(e)}function s(t){var e;if("string"!=typeof t)throw Error('Only strings and functions can be passed as "editor" parameter ');if(e=c[t],!e)throw Error('No editor registered under name "'+t+'"');return e.getConstructor()}function a(t){return c[t]?!0:!1}Object.defineProperties(n,{registerEditor:{get:function(){return o}},getEditor:{get:function(){return r}},hasEditor:{get:function(){return a}},getEditorConstructor:{get:function(){return s}},__esModule:{value:!0}});var l,u=(l=t("./helpers.js"),l&&l.__esModule&&l||{"default":l}),c={},h=new WeakMap;Handsontable.editors=Handsontable.editors||{},Handsontable.editors.registerEditor=o,Handsontable.editors.getEditor=r},{"./helpers.js":42}],30:[function(t,e,n){"use strict";function i(t){this.instance=t,this.state=Handsontable.EditorState.VIRGIN,this._opened=!1,this._fullEditMode=!1,this._closeCallback=null,this.init()}Object.defineProperties(n,{BaseEditor:{get:function(){return i}},__esModule:{value:!0}});var o,r,s=(o=t("./../helpers.js"),o&&o.__esModule&&o||{"default":o}),a=(r=t("./../3rdparty/walkontable/src/cell/coords.js"),r&&r.__esModule&&r||{"default":r}).WalkontableCellCoords;Handsontable.editors=Handsontable.editors||{},Handsontable.editors.BaseEditor=i,Handsontable.EditorState={VIRGIN:"STATE_VIRGIN",EDITING:"STATE_EDITING",WAITING:"STATE_WAITING",FINISHED:"STATE_FINISHED"},i.prototype._fireCallbacks=function(t){this._closeCallback&&(this._closeCallback(t),this._closeCallback=null)},i.prototype.init=function(){},i.prototype.getValue=function(){throw Error("Editor getValue() method unimplemented")},i.prototype.setValue=function(t){throw Error("Editor setValue() method unimplemented")},i.prototype.open=function(){throw Error("Editor open() method unimplemented")},i.prototype.close=function(){throw Error("Editor close() method unimplemented")},i.prototype.prepare=function(t,e,n,i,o,r){this.TD=i,this.row=t,this.col=e,this.prop=n,this.originalValue=o,this.cellProperties=r,this.state=Handsontable.EditorState.VIRGIN},i.prototype.extend=function(){function t(){n.apply(this,arguments)}function e(t,e){function n(){}return n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t,t}var n=this.constructor;return e(t,n)},i.prototype.saveValue=function(t,e){var n,i;e?(n=this.instance.getSelected(),n[0]>n[2]&&(i=n[0],n[0]=n[2],n[2]=i),n[1]>n[3]&&(i=n[1],n[1]=n[3],n[3]=i),this.instance.populateFromArray(n[0],n[1],t,n[2],n[3],"edit")):this.instance.populateFromArray(this.row,this.col,t,null,null,"edit")},i.prototype.beginEditing=function(t,e){this.state==Handsontable.EditorState.VIRGIN&&(this.instance.view.scrollViewport(new a(this.row,this.col)),this.instance.view.render(),this.state=Handsontable.EditorState.EDITING,t="string"==typeof t?t:this.originalValue,this.setValue(s.stringify(t)),this.open(e),this._opened=!0,this.focus(),this.instance.view.render())},i.prototype.finishEditing=function(t,e,n){var i,o=this;if(n){var r=this._closeCallback;this._closeCallback=function(t){r&&r(t),n(t)}}if(!this.isWaiting()){if(this.state==Handsontable.EditorState.VIRGIN)return void this.instance._registerTimeout(setTimeout(function(){o._fireCallbacks(!0)},0));if(this.state==Handsontable.EditorState.EDITING){if(t)return this.cancelChanges(),void this.instance.view.render();i=this.instance.getSettings().trimWhitespace?[["string"==typeof this.getValue()?String.prototype.trim.call(this.getValue()||""):this.getValue()]]:[[this.getValue()]],this.state=Handsontable.EditorState.WAITING,this.saveValue(i,e),this.instance.getCellValidator(this.cellProperties)?this.instance.addHookOnce("postAfterValidate",function(t){o.state=Handsontable.EditorState.FINISHED,o.discardEditor(t)}):(this.state=Handsontable.EditorState.FINISHED,this.discardEditor(!0))}}},i.prototype.cancelChanges=function(){this.state=Handsontable.EditorState.FINISHED,this.discardEditor()},i.prototype.discardEditor=function(t){this.state===Handsontable.EditorState.FINISHED&&(t===!1&&this.cellProperties.allowInvalid!==!0?(this.instance.selectCell(this.row,this.col),this.focus(),this.state=Handsontable.EditorState.EDITING,this._fireCallbacks(!1)):(this.close(),this._opened=!1,this._fullEditMode=!1,this.state=Handsontable.EditorState.VIRGIN,this._fireCallbacks(!0)))},i.prototype.enableFullEditMode=function(){this._fullEditMode=!0},i.prototype.isInFullEditMode=function(){return this._fullEditMode},i.prototype.isOpened=function(){return this._opened},i.prototype.isWaiting=function(){return this.state===Handsontable.EditorState.WAITING}},{"./../3rdparty/walkontable/src/cell/coords.js":5,"./../helpers.js":42}],31:[function(t,e,n){"use strict";function i(t){p=!1;var e=this.getActiveEditor(),n=l.keyCode;if(l.isPrintableChar(t.keyCode)||t.keyCode===n.BACKSPACE||t.keyCode===n.DELETE||t.keyCode===n.INSERT){var i=0;if(t.keyCode===n.C&&(t.ctrlKey||t.metaKey))return;e.isOpened()||(i+=10),e.instance._registerTimeout(setTimeout(function(){e.queryChoices(e.TEXTAREA.value),p=!0},i))}}Object.defineProperties(n,{AutocompleteEditor:{get:function(){return f}},__esModule:{value:!0}});var o,r,s,a,l=(o=t("./../helpers.js"),o&&o.__esModule&&o||{"default":o}),u=(r=t("./../dom.js"),r&&r.__esModule&&r||{"default":r}),c=(s=t("./../editors.js"),s&&s.__esModule&&s||{"default":s}),h=(c.getEditorConstructor,c.registerEditor),d=(a=t("./handsontableEditor.js"),a&&a.__esModule&&a||{"default":a}).HandsontableEditor,f=d.prototype.extend();f.prototype.init=function(){d.prototype.init.apply(this,arguments),this.query=null,this.choices=[]},f.prototype.createElements=function(){d.prototype.createElements.apply(this,arguments),u.addClass(this.htContainer,"autocompleteEditor"),u.addClass(this.htContainer,-1!==window.navigator.platform.indexOf("Mac")?"htMacScroll":"")};var p=!1;f.prototype.prepare=function(){this.instance.addHook("beforeKeyDown",i),d.prototype.prepare.apply(this,arguments)},f.prototype.open=function(){d.prototype.open.apply(this,arguments);var t=this.htEditor.getInstance(),e=this,n=void 0===this.cellProperties.trimDropdown?!0:this.cellProperties.trimDropdown;this.TEXTAREA.style.visibility="visible",this.focus(),t.updateSettings({colWidths:n?[u.outerWidth(this.TEXTAREA)-2]:void 0,width:n?u.outerWidth(this.TEXTAREA)+u.getScrollbarWidth()+2:void 0,afterRenderer:function(t,n,i,o,r){var s,a,l=this.getCellMeta(n,i).filteringCaseSensitive===!0,r=Handsontable.helper.stringify(r);r&&(s=l?r.indexOf(this.query):r.toLowerCase().indexOf(e.query.toLowerCase()),-1!=s&&(a=r.substr(s,e.query.length),t.innerHTML=r.replace(a,"<strong>"+a+"</strong>")))},modifyColWidth:function(t,e){return n?t:t+15}}),this.htEditor.view.wt.wtTable.holder.parentNode.style["padding-right"]=u.getScrollbarWidth()+2+"px",p&&(p=!1),e.instance._registerTimeout(setTimeout(function(){e.queryChoices(e.TEXTAREA.value)},0))},f.prototype.close=function(){d.prototype.close.apply(this,arguments)},f.prototype.queryChoices=function(t){if(this.query=t,"function"==typeof this.cellProperties.source){var e=this;this.cellProperties.source(t,function(t){e.updateChoicesList(t)})}else if(Array.isArray(this.cellProperties.source)){var n;if(t&&this.cellProperties.filter!==!1){var i=this.cellProperties.filteringCaseSensitive===!0,o=t.toLowerCase();n=this.cellProperties.source.filter(function(e){return i?-1!=e.indexOf(t):-1!=e.toLowerCase().indexOf(o)})}else n=this.cellProperties.source;this.updateChoicesList(n)}else this.updateChoicesList([])},f.prototype.updateChoicesList=function(t){var e,n=u.getCaretPosition(this.TEXTAREA),i=u.getSelectionEndPosition(this.TEXTAREA),o=f.sortByRelevance(this.getValue(),t,this.cellProperties.filteringCaseSensitive);if(0!=this.cellProperties.filter){for(var r=[],s=0,a=o.length;a>s;s++)r.push(t[o[s]]);e=0,t=r}else e=o[0];this.choices=t,this.htEditor.loadData(l.pivot([t])),this.updateDropdownHeight(),this.cellProperties.strict===!0&&this.highlightBestMatchingChoice(e),this.instance.listen(),this.TEXTAREA.focus(),u.setCaretPosition(this.TEXTAREA,n,n!=i?i:void 0)},f.prototype.updateDropdownHeight=function(){var t=this.htEditor.getColWidth(0)+u.getScrollbarWidth()+2,e=void 0===this.cellProperties.trimDropdown?!0:this.cellProperties.trimDropdown;this.htEditor.updateSettings({height:this.getDropdownHeight(),width:e?void 0:t}),this.htEditor.view.wt.wtTable.alignOverlaysWithTrimmingContainer()},f.prototype.finishEditing=function(t){t||this.instance.removeHook("beforeKeyDown",i),d.prototype.finishEditing.apply(this,arguments)},f.prototype.highlightBestMatchingChoice=function(t){"number"==typeof t?this.htEditor.selectCell(t,0):this.htEditor.deselectCell()},f.sortByRelevance=function(t,e,n){var i,o,r,s,a,l=[],u=t.length,c=[];if(0===u){for(s=0,a=e.length;a>s;s++)c.push(s);return c}for(s=0,a=e.length;a>s;s++)i=Handsontable.helper.stringify(e[s]),o=n?i.indexOf(t):i.toLowerCase().indexOf(t.toLowerCase()),-1!=o&&(r=i.length-o-u,l.push({baseIndex:s,index:o,charsLeft:r,value:i}));for(l.sort(function(t,e){return-1===e.index?-1:-1===t.index?1:t.index<e.index?-1:e.index<t.index?1:t.index===e.index?t.charsLeft<e.charsLeft?-1:t.charsLeft>e.charsLeft?1:0:void 0}),s=0,a=l.length;a>s;s++)c.push(l[s].baseIndex);return c},f.prototype.getDropdownHeight=function(){var t=this.htEditor.getInstance().getRowHeight(0)||23;return this.choices.length>=10?10*t:this.choices.length*t+8},f.prototype.allowKeyEventPropagation=function(t){var e={row:this.htEditor.getSelectedRange()?this.htEditor.getSelectedRange().from.row:-1},n=!1;return t===l.keyCode.ARROW_DOWN&&e.row<this.htEditor.countRows()-1&&(n=!0),t===l.keyCode.ARROW_UP&&e.row>-1&&(n=!0),n},h("autocomplete",f)},{"./../dom.js":27,"./../editors.js":29,"./../helpers.js":42,"./handsontableEditor.js":35}],32:[function(t,e,n){"use strict";Object.defineProperties(n,{CheckboxEditor:{get:function(){return u}},__esModule:{value:!0}});var i,o,r,s=(i=t("./../editors.js"),i&&i.__esModule&&i||{"default":i}).registerEditor,a=(o=t("./_baseEditor.js"),o&&o.__esModule&&o||{"default":o}).BaseEditor,l=(r=t("./../dom.js"),r&&r.__esModule&&r||{"default":r}),u=function(){$traceurRuntime.superConstructor(c).apply(this,arguments)},c=u;$traceurRuntime.createClass(u,{beginEditing:function(){var t=this.TD.querySelector('input[type="checkbox"]');l.hasClass(t,"htBadValue")||t.click()},finishEditing:function(){},init:function(){},open:function(){},close:function(){},getValue:function(){},setValue:function(){},focus:function(){}},{},a),s("checkbox",u)},{"./../dom.js":27,"./../editors.js":29,"./_baseEditor.js":30}],33:[function(t,e,n){"use strict";Object.defineProperties(n,{DateEditor:{get:function(){return x}},__esModule:{value:!0}});var i,o,r,s,a,l,u,c=(i=t("./../helpers.js"),i&&i.__esModule&&i||{"default":i}),h=c.deepExtend,d=c.stopPropagation,f=c.isMetaKey,p=(o=t("./../dom.js"),o&&o.__esModule&&o||{"default":o}),m=p.addClass,g=p.outerHeight,v=(r=t("./../editors.js"),r&&r.__esModule&&r||{"default":r}),y=(v.getEditor,v.registerEditor),w=(s=t("./textEditor.js"),s&&s.__esModule&&s||{"default":s}).TextEditor,b=(a=t("./../eventManager.js"),a&&a.__esModule&&a||{"default":a}).EventManager,C=(l=t("moment"),l&&l.__esModule&&l||{"default":l})["default"],k=(u=t("pikaday"),u&&u.__esModule&&u||{"default":u})["default"];Handsontable.editors=Handsontable.editors||{},Handsontable.editors.DateEditor=x;var x=function(t){this.$datePicker=null,this.datePicker=null,this.datePickerStyle=null,this.defaultDateFormat="DD/MM/YYYY",this.isCellEdited=!1,this.parentDestroyed=!1,$traceurRuntime.superConstructor(_).call(this,t)},_=x;$traceurRuntime.createClass(x,{init:function(){var t=this;if("function"!=typeof C)throw new Error("You need to include moment.js to your project.");if("function"!=typeof k)throw new Error("You need to include Pikaday to your project.");$traceurRuntime.superGet(this,_.prototype,"init").call(this),this.instance.addHook("afterDestroy",function(){t.parentDestroyed=!0,t.destroyElements()})},createElements:function(){$traceurRuntime.superGet(this,_.prototype,"createElements").call(this),this.datePicker=document.createElement("DIV"),this.datePickerStyle=this.datePicker.style,this.datePickerStyle.position="absolute",this.datePickerStyle.top=0,this.datePickerStyle.left=0,this.datePickerStyle.zIndex=9999,m(this.datePicker,"htDatepickerHolder"),document.body.appendChild(this.datePicker),this.$datePicker=new k(this.getDatePickerConfig());var t=new b(this);t.addEventListener(this.datePicker,"mousedown",function(t){return d(t)}),this.hideDatepicker()},destroyElements:function(){this.$datePicker.destroy()},prepare:function(t,e,n,i,o,r){this._opened=!1,$traceurRuntime.superGet(this,_.prototype,"prepare").call(this,t,e,n,i,o,r)},open:function(){var t=void 0!==arguments[0]?arguments[0]:null;$traceurRuntime.superGet(this,_.prototype,"open").call(this),this.showDatepicker(t)},close:function(){var t=this;this._opened=!1,this.instance._registerTimeout(setTimeout(function(){t.instance.selection.refreshBorders()},0)),$traceurRuntime.superGet(this,_.prototype,"close").call(this)},finishEditing:function(){var t=void 0!==arguments[0]?arguments[0]:!1,e=void 0!==arguments[1]?arguments[1]:!1;if(t){var n=this.originalValue;void 0!==n&&this.setValue(n)}this.hideDatepicker(),$traceurRuntime.superGet(this,_.prototype,"finishEditing").call(this,t,e)},showDatepicker:function(t){this.$datePicker.config(this.getDatePickerConfig());var e,n=this.TD.getBoundingClientRect(),i=this.cellProperties.dateFormat||this.defaultDateFormat,o=this.$datePicker.config(),r=this.instance.view.isMouseDown(),s=t?f(t.keyCode):!1;this.datePickerStyle.top=window.pageYOffset+n.top+g(this.TD)+"px",this.datePickerStyle.left=window.pageXOffset+n.left+"px",this.$datePicker._onInputFocus=function(){},o.format=i,this.originalValue?(e=this.originalValue,C(e,i,!0).isValid()&&this.$datePicker.setMoment(C(e,i),!0),s||r||this.setValue("")):this.cellProperties.defaultDate?(e=this.cellProperties.defaultDate,o.defaultDate=e,C(e,i,!0).isValid()&&this.$datePicker.setMoment(C(e,i),!0),s||r||this.setValue("")):this.$datePicker.gotoToday(),this.datePickerStyle.display="block",this.$datePicker.show()},hideDatepicker:function(){this.datePickerStyle.display="none",this.$datePicker.hide()},getDatePickerConfig:function(){var t=this,e=this.TEXTAREA,n={};this.cellProperties&&this.cellProperties.datePickerConfig&&h(n,this.cellProperties.datePickerConfig);var i=n.onSelect,o=n.onClose;return n.field=e,n.trigger=e,n.container=this.datePicker,n.bound=!1,n.format=n.format||this.defaultDateFormat,n.reposition=n.reposition||!1,n.onSelect=function(e){isNaN(e.getTime())||(e=C(e).format(t.cellProperties.dateFormat||t.defaultDateFormat)),t.setValue(e),t.hideDatepicker(),i&&i()},n.onClose=function(){t.parentDestroyed||t.finishEditing(!1),o&&o()},n}},{},w),y("date",x)},{"./../dom.js":27,"./../editors.js":29,"./../eventManager.js":41,"./../helpers.js":42,"./textEditor.js":40,moment:"moment",pikaday:"pikaday"}],34:[function(t,e,n){"use strict";Object.defineProperties(n,{DropdownEditor:{get:function(){return l}},__esModule:{value:!0}});var i,o,r=(i=t("./../editors.js"),i&&i.__esModule&&i||{"default":i}),s=(r.getEditor,r.registerEditor),a=(o=t("./autocompleteEditor.js"),o&&o.__esModule&&o||{"default":o}).AutocompleteEditor,l=function(){$traceurRuntime.superConstructor(u).apply(this,arguments)},u=l;$traceurRuntime.createClass(l,{prepare:function(t,e,n,i,o,r){$traceurRuntime.superGet(this,u.prototype,"prepare").call(this,t,e,n,i,o,r),this.cellProperties.filter=!1,this.cellProperties.strict=!0}},{},a),s("dropdown",l)},{"./../editors.js":29,"./autocompleteEditor.js":31}],35:[function(t,e,n){"use strict";Object.defineProperties(n,{HandsontableEditor:{get:function(){return d}},__esModule:{value:!0}});var i,o,r,s,a=(i=t("./../helpers.js"),i&&i.__esModule&&i||{"default":i}),l=(o=t("./../dom.js"),o&&o.__esModule&&o||{"default":o}),u=(r=t("./../editors.js"),r&&r.__esModule&&r||{"default":r}),c=(u.getEditor,u.registerEditor),h=(s=t("./textEditor.js"),s&&s.__esModule&&s||{"default":s}).TextEditor,d=h.prototype.extend();d.prototype.createElements=function(){h.prototype.createElements.apply(this,arguments);var t=document.createElement("DIV");t.className="handsontableEditor",this.TEXTAREA_PARENT.appendChild(t),this.htContainer=t,this.htEditor=new Handsontable(t,{autoColumnSize:!1,autoRowSize:!1}),this.assignHooks()},d.prototype.prepare=function(t,e,n,i,o,r){h.prototype.prepare.apply(this,arguments);var s=this,l={startRows:0,startCols:0,minRows:0,minCols:0,className:"listbox",copyPaste:!1,autoColumnSize:!1,autoRowSize:!1,cells:function(){return{readOnly:!0}},fillHandle:!1,afterOnCellMouseDown:function(){var t=this.getValue();void 0!==t&&s.setValue(t),s.instance.destroyEditor()}};this.cellProperties.handsontable&&a.extend(l,r.handsontable),this.htEditor&&this.htEditor.destroy(),this.htEditor=new Handsontable(this.htContainer,l)};var f=function(t){if(null!=t&&null==t.isImmediatePropagationEnabled&&(t.stopImmediatePropagation=function(){this.isImmediatePropagationEnabled=!1,this.cancelBubble=!0},t.isImmediatePropagationEnabled=!0,t.isImmediatePropagationStopped=function(){return!this.isImmediatePropagationEnabled}),!t.isImmediatePropagationStopped()){var e,n=this.getActiveEditor(),i=n.htEditor.getInstance();if(t.keyCode==a.keyCode.ARROW_DOWN)if(i.getSelected()){var o=i.getSelected()[0],r=i.countRows()-1;e=Math.min(r,o+1)}else e=0;else if(t.keyCode==a.keyCode.ARROW_UP&&i.getSelected()){var o=i.getSelected()[0];e=o-1}void 0!==e&&(0>e?i.deselectCell():i.selectCell(e,0),i.getData().length&&(t.preventDefault(),t.stopImmediatePropagation(),n.instance.listen(),n.TEXTAREA.focus()))}};d.prototype.open=function(){this.instance.addHook("beforeKeyDown",f),h.prototype.open.apply(this,arguments),this.htEditor.render(),this.cellProperties.strict?(this.htEditor.selectCell(0,0),this.TEXTAREA.style.visibility="hidden"):(this.htEditor.deselectCell(),this.TEXTAREA.style.visibility="visible"),l.setCaretPosition(this.TEXTAREA,0,this.TEXTAREA.value.length)},d.prototype.close=function(){this.instance.removeHook("beforeKeyDown",f),this.instance.listen(),h.prototype.close.apply(this,arguments)},d.prototype.focus=function(){this.instance.listen(),h.prototype.focus.apply(this,arguments)},d.prototype.beginEditing=function(t){var e=this.instance.getSettings().onBeginEditing;e&&e()===!1||h.prototype.beginEditing.apply(this,arguments)},d.prototype.finishEditing=function(t,e){if(this.htEditor.isListening()&&this.instance.listen(),this.htEditor.getSelected()){var n=this.htEditor.getInstance().getValue();void 0!==n&&this.setValue(n)}return h.prototype.finishEditing.apply(this,arguments)},d.prototype.assignHooks=function(){var t=this;this.instance.addHook("afterDestroy",function(){t.htEditor&&t.htEditor.destroy()})},c("handsontable",d)},{"./../dom.js":27,"./../editors.js":29,"./../helpers.js":42,"./textEditor.js":40}],36:[function(t,e,n){"use strict";Object.defineProperties(n,{MobileTextEditor:{get:function(){return p}},__esModule:{value:!0}});var i,o,r,s,a,l=(i=t("./../helpers.js"),i&&i.__esModule&&i||{"default":i}),u=(o=t("./../dom.js"),o&&o.__esModule&&o||{"default":o}),c=(r=t("./../editors.js"),r&&r.__esModule&&r||{"default":r}),h=(c.getEditor,c.registerEditor),d=(s=t("./_baseEditor.js"),s&&s.__esModule&&s||{"default":s}).BaseEditor,f=(a=t("./../eventManager.js"),a&&a.__esModule&&a||{"default":a}).eventManager,p=d.prototype.extend(),m={},g=function(){this.controls={},this.controls.leftButton=document.createElement("DIV"),this.controls.leftButton.className="leftButton",this.controls.rightButton=document.createElement("DIV"),this.controls.rightButton.className="rightButton",this.controls.upButton=document.createElement("DIV"),this.controls.upButton.className="upButton",this.controls.downButton=document.createElement("DIV"),this.controls.downButton.className="downButton";for(var t in this.controls)this.controls.hasOwnProperty(t)&&this.positionControls.appendChild(this.controls[t])};p.prototype.valueChanged=function(){return this.initValue!=this.getValue()},p.prototype.init=function(){var t=this;this.eventManager=f(this.instance),this.createElements(),this.bindEvents(),this.instance.addHook("afterDestroy",function(){t.destroy()})},p.prototype.getValue=function(){return this.TEXTAREA.value},p.prototype.setValue=function(t){this.initValue=t,this.TEXTAREA.value=t},p.prototype.createElements=function(){this.editorContainer=document.createElement("DIV"),this.editorContainer.className="htMobileEditorContainer",this.cellPointer=document.createElement("DIV"),this.cellPointer.className="cellPointer",this.moveHandle=document.createElement("DIV"),this.moveHandle.className="moveHandle",this.inputPane=document.createElement("DIV"),this.inputPane.className="inputs",this.positionControls=document.createElement("DIV"),this.positionControls.className="positionControls",this.TEXTAREA=document.createElement("TEXTAREA"),u.addClass(this.TEXTAREA,"handsontableInput"),this.inputPane.appendChild(this.TEXTAREA),this.editorContainer.appendChild(this.cellPointer),this.editorContainer.appendChild(this.moveHandle),this.editorContainer.appendChild(this.inputPane),this.editorContainer.appendChild(this.positionControls),g.call(this),document.body.appendChild(this.editorContainer)},p.prototype.onBeforeKeyDown=function(t){var e=this,n=e.getActiveEditor();if(u.enableImmediatePropagation(t),t.target===n.TEXTAREA&&!t.isImmediatePropagationStopped()){var i=l.keyCode;switch(t.keyCode){case i.ENTER:n.close(),t.preventDefault();break;case i.BACKSPACE:t.stopImmediatePropagation()}}},p.prototype.open=function(){this.instance.addHook("beforeKeyDown",this.onBeforeKeyDown),u.addClass(this.editorContainer,"active"),u.removeClass(this.cellPointer,"hidden"),this.updateEditorPosition()},p.prototype.focus=function(){this.TEXTAREA.focus(),u.setCaretPosition(this.TEXTAREA,this.TEXTAREA.value.length)},p.prototype.close=function(){this.TEXTAREA.blur(),this.instance.removeHook("beforeKeyDown",this.onBeforeKeyDown),u.removeClass(this.editorContainer,"active")},p.prototype.scrollToView=function(){var t=this.instance.getSelectedRange().highlight;this.instance.view.scrollViewport(t)},p.prototype.hideCellPointer=function(){u.hasClass(this.cellPointer,"hidden")||u.addClass(this.cellPointer,"hidden")},p.prototype.updateEditorPosition=function(t,e){if(t&&e)t=parseInt(t,10),e=parseInt(e,10),this.editorContainer.style.top=e+"px",this.editorContainer.style.left=t+"px";else{var n=this.instance.getSelected(),i=this.instance.getCell(n[0],n[1]);if(m.cellPointer||(m.cellPointer={height:u.outerHeight(this.cellPointer),width:u.outerWidth(this.cellPointer)}),m.editorContainer||(m.editorContainer={width:u.outerWidth(this.editorContainer)}),void 0!==i){var o=this.instance.view.wt.wtOverlays.leftOverlay.trimmingContainer==window?0:u.getScrollLeft(this.instance.view.wt.wtOverlays.leftOverlay.holder),r=this.instance.view.wt.wtOverlays.topOverlay.trimmingContainer==window?0:u.getScrollTop(this.instance.view.wt.wtOverlays.topOverlay.holder),s=u.offset(i),a=u.outerWidth(i),l={x:o,y:r};this.editorContainer.style.top=parseInt(s.top+u.outerHeight(i)-l.y+m.cellPointer.height,10)+"px",this.editorContainer.style.left=parseInt(window.innerWidth/2-m.editorContainer.width/2,10)+"px",s.left+a/2>parseInt(this.editorContainer.style.left,10)+m.editorContainer.width?this.editorContainer.style.left=window.innerWidth-m.editorContainer.width+"px":s.left+a/2<parseInt(this.editorContainer.style.left,10)+20&&(this.editorContainer.style.left="0px"),this.cellPointer.style.left=parseInt(s.left-m.cellPointer.width/2-u.offset(this.editorContainer).left+a/2-l.x,10)+"px"}}},p.prototype.updateEditorData=function(){var t=this.instance.getSelected(),e=this.instance.getDataAtCell(t[0],t[1]);this.row=t[0],this.col=t[1],this.setValue(e),this.updateEditorPosition()},p.prototype.prepareAndSave=function(){var t;return this.valueChanged()?(t=this.instance.getSettings().trimWhitespace?[[String.prototype.trim.call(this.getValue())]]:[[this.getValue()]],void this.saveValue(t)):!0},p.prototype.bindEvents=function(){var t=this;this.eventManager.addEventListener(this.controls.leftButton,"touchend",function(e){t.prepareAndSave(),t.instance.selection.transformStart(0,-1,null,!0),t.updateEditorData(),e.preventDefault()}),this.eventManager.addEventListener(this.controls.rightButton,"touchend",function(e){t.prepareAndSave(),t.instance.selection.transformStart(0,1,null,!0),t.updateEditorData(),e.preventDefault()}),this.eventManager.addEventListener(this.controls.upButton,"touchend",function(e){t.prepareAndSave(),t.instance.selection.transformStart(-1,0,null,!0),t.updateEditorData(),e.preventDefault()}),this.eventManager.addEventListener(this.controls.downButton,"touchend",function(e){t.prepareAndSave(),t.instance.selection.transformStart(1,0,null,!0),t.updateEditorData(),e.preventDefault()}),this.eventManager.addEventListener(this.moveHandle,"touchstart",function(e){if(1==e.touches.length){var n=e.touches[0],i={x:t.editorContainer.offsetLeft,y:t.editorContainer.offsetTop},o={x:n.pageX-i.x,y:n.pageY-i.y};t.eventManager.addEventListener(this,"touchmove",function(e){var n=e.touches[0];t.updateEditorPosition(n.pageX-o.x,n.pageY-o.y),t.hideCellPointer(),e.preventDefault()})}}),this.eventManager.addEventListener(document.body,"touchend",function(e){u.isChildOf(e.target,t.editorContainer)||u.isChildOf(e.target,t.instance.rootElement)||t.close();
}),this.eventManager.addEventListener(this.instance.view.wt.wtOverlays.leftOverlay.holder,"scroll",function(e){t.instance.view.wt.wtOverlays.leftOverlay.trimmingContainer!=window&&t.hideCellPointer()}),this.eventManager.addEventListener(this.instance.view.wt.wtOverlays.topOverlay.holder,"scroll",function(e){t.instance.view.wt.wtOverlays.topOverlay.trimmingContainer!=window&&t.hideCellPointer()})},p.prototype.destroy=function(){this.eventManager.clear(),this.editorContainer.parentNode.removeChild(this.editorContainer)},h("mobile",p)},{"./../dom.js":27,"./../editors.js":29,"./../eventManager.js":41,"./../helpers.js":42,"./_baseEditor.js":30}],37:[function(t,e,n){"use strict";Object.defineProperties(n,{NumericEditor:{get:function(){return c}},__esModule:{value:!0}});var i,o,r,s=(i=t("numeral"),i&&i.__esModule&&i||{"default":i})["default"],a=(o=t("./../editors.js"),o&&o.__esModule&&o||{"default":o}),l=(a.getEditor,a.registerEditor),u=(r=t("./textEditor.js"),r&&r.__esModule&&r||{"default":r}).TextEditor,c=function(){$traceurRuntime.superConstructor(h).apply(this,arguments)},h=c;$traceurRuntime.createClass(c,{beginEditing:function(t){if("undefined"==typeof t&&this.originalValue){"undefined"!=typeof this.cellProperties.language&&s.language(this.cellProperties.language);var e=s.languageData().delimiters.decimal;t=(""+this.originalValue).replace(".",e)}$traceurRuntime.superGet(this,h.prototype,"beginEditing").call(this,t)}},{},u),l("numeric",c)},{"./../editors.js":29,"./textEditor.js":40,numeral:"numeral"}],38:[function(t,e,n){"use strict";Object.defineProperties(n,{PasswordEditor:{get:function(){return c}},__esModule:{value:!0}});var i,o,r,s=(i=t("./../dom.js"),i&&i.__esModule&&i||{"default":i}),a=(o=t("./../editors.js"),o&&o.__esModule&&o||{"default":o}),l=(a.getEditor,a.registerEditor),u=(r=t("./textEditor.js"),r&&r.__esModule&&r||{"default":r}).TextEditor,c=function(){$traceurRuntime.superConstructor(h).apply(this,arguments)},h=c;$traceurRuntime.createClass(c,{createElements:function(){$traceurRuntime.superGet(this,h.prototype,"createElements").call(this),this.TEXTAREA=document.createElement("input"),this.TEXTAREA.setAttribute("type","password"),this.TEXTAREA.className="handsontableInput",this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,s.empty(this.TEXTAREA_PARENT),this.TEXTAREA_PARENT.appendChild(this.TEXTAREA)}},{},u),l("password",c)},{"./../dom.js":27,"./../editors.js":29,"./textEditor.js":40}],39:[function(t,e,n){"use strict";Object.defineProperties(n,{SelectEditor:{get:function(){return d}},__esModule:{value:!0}});var i,o,r,s,a=(i=t("./../dom.js"),i&&i.__esModule&&i||{"default":i}),l=(o=t("./../helpers.js"),o&&o.__esModule&&o||{"default":o}),u=(r=t("./../editors.js"),r&&r.__esModule&&r||{"default":r}),c=(u.getEditor,u.registerEditor),h=(s=t("./_baseEditor.js"),s&&s.__esModule&&s||{"default":s}).BaseEditor,d=h.prototype.extend();d.prototype.init=function(){this.select=document.createElement("SELECT"),a.addClass(this.select,"htSelectEditor"),this.select.style.display="none",this.instance.rootElement.appendChild(this.select),this.registerHooks()},d.prototype.registerHooks=function(){var t=this;this.instance.addHook("afterScrollVertically",function(){return t.refreshDimensions()}),this.instance.addHook("afterColumnResize",function(){return t.refreshDimensions()}),this.instance.addHook("afterRowResize",function(){return t.refreshDimensions()})},d.prototype.prepare=function(){h.prototype.prepare.apply(this,arguments);var t,e=this.cellProperties.selectOptions;t="function"==typeof e?this.prepareOptions(e(this.row,this.col,this.prop)):this.prepareOptions(e),a.empty(this.select);for(var n in t)if(t.hasOwnProperty(n)){var i=document.createElement("OPTION");i.value=n,a.fastInnerHTML(i,t[n]),this.select.appendChild(i)}},d.prototype.prepareOptions=function(t){var e={};if(Array.isArray(t))for(var n=0,i=t.length;i>n;n++)e[t[n]]=t[n];else"object"==typeof t&&(e=t);return e},d.prototype.getValue=function(){return this.select.value},d.prototype.setValue=function(t){this.select.value=t};var f=function(t){var e=this,n=e.getActiveEditor();switch(null!=t&&null==t.isImmediatePropagationEnabled&&(t.stopImmediatePropagation=function(){this.isImmediatePropagationEnabled=!1},t.isImmediatePropagationEnabled=!0,t.isImmediatePropagationStopped=function(){return!this.isImmediatePropagationEnabled}),t.keyCode){case l.keyCode.ARROW_UP:var i=n.select.selectedIndex-1;i>=0&&(n.select[i].selected=!0),t.stopImmediatePropagation(),t.preventDefault();break;case l.keyCode.ARROW_DOWN:var o=n.select.selectedIndex+1;o<=n.select.length-1&&(n.select[o].selected=!0),t.stopImmediatePropagation(),t.preventDefault()}};d.prototype.checkEditorSection=function(){return this.row<this.instance.getSettings().fixedRowsTop?this.col<this.instance.getSettings().fixedColumnsLeft?"corner":"top":this.col<this.instance.getSettings().fixedColumnsLeft?"left":void 0},d.prototype.open=function(){this._opened=!0,this.refreshDimensions(),this.select.style.display="",this.instance.addHook("beforeKeyDown",f)},d.prototype.close=function(){this._opened=!1,this.select.style.display="none",this.instance.removeHook("beforeKeyDown",f)},d.prototype.focus=function(){this.select.focus()},d.prototype.refreshDimensions=function(){if(this.state===Handsontable.EditorState.EDITING){if(this.TD=this.getEditedCell(),!this.TD)return void this.close();var t,e=a.outerWidth(this.TD)+1,n=a.outerHeight(this.TD)+1,i=a.offset(this.TD),o=a.offset(this.instance.rootElement),r=a.getScrollableElement(this.TD),s=i.top-o.top-1-(r.scrollTop||0),l=i.left-o.left-1-(r.scrollLeft||0),u=this.checkEditorSection(),c=this.instance.getSettings();switch(c.rowHeaders?1:0,c.colHeaders?1:0,u){case"top":t=a.getCssTransform(this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.holder.parentNode);break;case"left":t=a.getCssTransform(this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.holder.parentNode);break;case"corner":t=a.getCssTransform(this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.holder.parentNode)}0===this.instance.getSelected()[0]&&(s+=1),0===this.instance.getSelected()[1]&&(l+=1);var h=this.select.style;t&&-1!=t?h[t[0]]=t[1]:a.resetCssTransform(this.select);var d=a.getComputedStyle(this.TD);parseInt(d.borderTopWidth,10)>0&&(n-=1),parseInt(d.borderLeftWidth,10)>0&&(e-=1),h.height=n+"px",h.minWidth=e+"px",h.top=s+"px",h.left=l+"px",h.margin="0px"}},d.prototype.getEditedCell=function(){var t,e=this.checkEditorSection();switch(e){case"top":t=this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.select.style.zIndex=101;break;case"corner":t=this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.select.style.zIndex=103;break;case"left":t=this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.select.style.zIndex=102;break;default:t=this.instance.getCell(this.row,this.col),this.select.style.zIndex=""}return-1!=t&&-2!=t?t:void 0},c("select",d)},{"./../dom.js":27,"./../editors.js":29,"./../helpers.js":42,"./_baseEditor.js":30}],40:[function(t,e,n){"use strict";Object.defineProperties(n,{TextEditor:{get:function(){return g}},__esModule:{value:!0}});var i,o,r,s,a,l,u=(i=t("./../dom.js"),i&&i.__esModule&&i||{"default":i}),c=(o=t("./../helpers.js"),o&&o.__esModule&&o||{"default":o}),h=(r=t("autoResize"),r&&r.__esModule&&r||{"default":r})["default"],d=(s=t("./_baseEditor.js"),s&&s.__esModule&&s||{"default":s}).BaseEditor,f=(a=t("./../eventManager.js"),a&&a.__esModule&&a||{"default":a}).eventManager,p=(l=t("./../editors.js"),l&&l.__esModule&&l||{"default":l}),m=(p.getEditor,p.registerEditor),g=d.prototype.extend();g.prototype.init=function(){var t=this;this.createElements(),this.eventManager=f(this),this.bindEvents(),this.autoResize=h(),this.instance.addHook("afterDestroy",function(){t.destroy()})},g.prototype.getValue=function(){return this.TEXTAREA.value},g.prototype.setValue=function(t){this.TEXTAREA.value=t};var v=function(t){var e,n,i=this,o=i.getActiveEditor();if(e=c.keyCode,n=(t.ctrlKey||t.metaKey)&&!t.altKey,u.enableImmediatePropagation(t),t.target===o.TEXTAREA&&!t.isImmediatePropagationStopped()){if(17===t.keyCode||224===t.keyCode||91===t.keyCode||93===t.keyCode)return void t.stopImmediatePropagation();switch(t.keyCode){case e.ARROW_RIGHT:o.isInFullEditMode()&&(!o.isWaiting()&&!o.allowKeyEventPropagation||!o.isWaiting()&&o.allowKeyEventPropagation&&!o.allowKeyEventPropagation(t.keyCode))&&t.stopImmediatePropagation();break;case e.ARROW_LEFT:o.isInFullEditMode()&&(!o.isWaiting()&&!o.allowKeyEventPropagation||!o.isWaiting()&&o.allowKeyEventPropagation&&!o.allowKeyEventPropagation(t.keyCode))&&t.stopImmediatePropagation();break;case e.ARROW_UP:case e.ARROW_DOWN:o.isInFullEditMode()&&(!o.isWaiting()&&!o.allowKeyEventPropagation||!o.isWaiting()&&o.allowKeyEventPropagation&&!o.allowKeyEventPropagation(t.keyCode))&&t.stopImmediatePropagation();break;case e.ENTER:var r=o.instance.getSelected(),s=!(r[0]===r[2]&&r[1]===r[3]);if(n&&!s||t.altKey){if(o.isOpened()){var a=u.getCaretPosition(o.TEXTAREA),l=o.getValue(),h=l.slice(0,a)+"\n"+l.slice(a);o.setValue(h),u.setCaretPosition(o.TEXTAREA,a+1)}else o.beginEditing(o.originalValue+"\n");t.stopImmediatePropagation()}t.preventDefault();break;case e.A:case e.X:case e.C:case e.V:n&&t.stopImmediatePropagation();break;case e.BACKSPACE:case e.DELETE:case e.HOME:case e.END:t.stopImmediatePropagation()}-1===[e.ARROW_UP,e.ARROW_RIGHT,e.ARROW_DOWN,e.ARROW_LEFT].indexOf(t.keyCode)&&o.autoResize.resize(String.fromCharCode(t.keyCode))}};g.prototype.open=function(){this.refreshDimensions(),this.instance.addHook("beforeKeyDown",v)},g.prototype.close=function(){this.textareaParentStyle.display="none",this.autoResize.unObserve(),document.activeElement===this.TEXTAREA&&this.instance.listen(),this.instance.removeHook("beforeKeyDown",v)},g.prototype.focus=function(){this.TEXTAREA.focus(),u.setCaretPosition(this.TEXTAREA,this.TEXTAREA.value.length)},g.prototype.createElements=function(){this.TEXTAREA=document.createElement("TEXTAREA"),u.addClass(this.TEXTAREA,"handsontableInput"),this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.TEXTAREA_PARENT=document.createElement("DIV"),u.addClass(this.TEXTAREA_PARENT,"handsontableInputHolder"),this.textareaParentStyle=this.TEXTAREA_PARENT.style,this.textareaParentStyle.top=0,this.textareaParentStyle.left=0,this.textareaParentStyle.display="none",this.TEXTAREA_PARENT.appendChild(this.TEXTAREA),this.instance.rootElement.appendChild(this.TEXTAREA_PARENT);var t=this;this.instance._registerTimeout(setTimeout(function(){t.refreshDimensions()},0))},g.prototype.checkEditorSection=function(){return this.row<this.instance.getSettings().fixedRowsTop?this.col<this.instance.getSettings().fixedColumnsLeft?"corner":"top":this.col<this.instance.getSettings().fixedColumnsLeft?"left":void 0},g.prototype.getEditedCell=function(){var t,e=this.checkEditorSection();switch(e){case"top":t=this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=101;break;case"corner":t=this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=103;break;case"left":t=this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=102;break;default:t=this.instance.getCell(this.row,this.col),this.textareaParentStyle.zIndex=""}return-1!=t&&-2!=t?t:void 0},g.prototype.refreshDimensions=function(){if(this.state===Handsontable.EditorState.EDITING){if(this.TD=this.getEditedCell(),!this.TD)return void this.close();var t,e=u.offset(this.TD),n=u.offset(this.instance.rootElement),i=u.getScrollableElement(this.TD),o=e.top-n.top-1-(i.scrollTop||0),r=e.left-n.left-1-(i.scrollLeft||0),s=this.instance.getSettings(),a=(s.rowHeaders?1:0,s.colHeaders?1:0,this.checkEditorSection()),l=this.TD.style.backgroundColor;switch(a){case"top":t=u.getCssTransform(this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.holder.parentNode);break;case"left":t=u.getCssTransform(this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.holder.parentNode);break;case"corner":t=u.getCssTransform(this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.holder.parentNode)}0===this.instance.getSelected()[0]&&(o+=1),0===this.instance.getSelected()[1]&&(r+=1),t&&-1!=t?this.textareaParentStyle[t[0]]=t[1]:u.resetCssTransform(this.textareaParentStyle),this.textareaParentStyle.top=o+"px",this.textareaParentStyle.left=r+"px";var c=this.TD.offsetTop-this.instance.view.wt.wtOverlays.topOverlay.getScrollPosition(),h=this.TD.offsetLeft-this.instance.view.wt.wtOverlays.leftOverlay.getScrollPosition(),d=u.innerWidth(this.TD)-8,f=this.instance.view.maximumVisibleElementWidth(h)-9,p=this.TD.scrollHeight+1,m=Math.max(this.instance.view.maximumVisibleElementHeight(c)-2,23),g=u.getComputedStyle(this.TD);this.TEXTAREA.style.fontSize=g.fontSize,this.TEXTAREA.style.fontFamily=g.fontFamily,this.TEXTAREA.style.backgroundColor="",this.TEXTAREA.style.backgroundColor=l?l:u.getComputedStyle(this.TEXTAREA).backgroundColor,this.autoResize.init(this.TEXTAREA,{minHeight:Math.min(p,m),maxHeight:m,minWidth:Math.min(d,f),maxWidth:f},!0),this.textareaParentStyle.display="block"}},g.prototype.bindEvents=function(){var t=this;this.eventManager.addEventListener(this.TEXTAREA,"cut",function(t){c.stopPropagation(t)}),this.eventManager.addEventListener(this.TEXTAREA,"paste",function(t){c.stopPropagation(t)}),this.instance.addHook("afterScrollVertically",function(){t.refreshDimensions()}),this.instance.addHook("afterColumnResize",function(){t.refreshDimensions(),t.focus()}),this.instance.addHook("afterRowResize",function(){t.refreshDimensions(),t.focus()}),this.instance.addHook("afterDestroy",function(){t.eventManager.destroy()})},g.prototype.destroy=function(){this.eventManager.destroy()},m("text",g)},{"./../dom.js":27,"./../editors.js":29,"./../eventManager.js":41,"./../helpers.js":42,"./_baseEditor.js":30,autoResize:"autoResize"}],41:[function(t,e,n){"use strict";function i(t,e){var n,i,o,r,a,l="HOT-TABLE";if(e.isTargetWebComponent=!1,e.realTarget=e.target,!Handsontable.eventManager.isHotTableEnv)return e;for(e=s.polymerWrap(e),a=e.path?e.path.length:0;a--;){if(e.path[a].nodeName===l)n=!0;else if(n&&e.path[a].shadowRoot){r=e.path[a];break}0!==a||r||(r=e.path[a])}return r||(r=e.target),e.isTargetWebComponent=!0,s.isWebComponentSupportedNatively()?e.realTarget=e.srcElement||e.toElement:(t instanceof Handsontable.Core||t instanceof Walkontable)&&(t instanceof Handsontable.Core?i=t.view.wt.wtTable.TABLE:t instanceof Walkontable&&(i=t.wtTable.TABLE.parentNode.parentNode),o=s.closest(e.target,[l],i),o?e.realTarget=i.querySelector(l)||e.target:e.realTarget=e.target),Object.defineProperty(e,"target",{get:function(){return s.polymerWrap(r)},enumerable:!0,configurable:!0}),e}function o(t){return new a(t)}Object.defineProperties(n,{EventManager:{get:function(){return a}},eventManager:{get:function(){return o}},__esModule:{value:!0}});var r,s=(r=t("./dom.js"),r&&r.__esModule&&r||{"default":r}),a=function(){var t=void 0!==arguments[0]?arguments[0]:null;this.context=t||this,this.context.eventListeners||(this.context.eventListeners=[])};$traceurRuntime.createClass(a,{addEventListener:function(t,e,n){function o(t){void 0==t.target&&void 0!=t.srcElement&&(t.definePoperty?t.definePoperty("target",{value:t.srcElement}):t.target=t.srcElement),void 0==t.preventDefault&&(t.definePoperty?t.definePoperty("preventDefault",{value:function(){this.returnValue=!1}}):t.preventDefault=function(){this.returnValue=!1}),t=i(s,t),n.call(this,t)}var r=this,s=this.context;return this.context.eventListeners.push({element:t,event:e,callback:n,callbackProxy:o}),window.addEventListener?t.addEventListener(e,o,!1):t.attachEvent("on"+e,o),Handsontable.countEventManagerListeners++,function(){r.removeEventListener(t,e,n)}},removeEventListener:function(t,e,n){for(var i,o=this.context.eventListeners.length;o--;)if(i=this.context.eventListeners[o],i.event==e&&i.element==t){if(n&&n!=i.callback)continue;this.context.eventListeners.splice(o,1),i.element.removeEventListener?i.element.removeEventListener(i.event,i.callbackProxy,!1):i.element.detachEvent("on"+i.event,i.callbackProxy),Handsontable.countEventManagerListeners--}},clearEvents:function(){if(this.context)for(var t=this.context.eventListeners.length;t--;){var e=this.context.eventListeners[t];e&&this.removeEventListener(e.element,e.event,e.callback)}},clear:function(){this.clearEvents()},destroy:function(){this.clearEvents(),this.context=null},fireEvent:function(t,e){var n,i={bubbles:!0,cancelable:"mousemove"!==e,view:window,detail:0,screenX:0,screenY:0,clientX:1,clientY:1,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:void 0};document.createEvent?(n=document.createEvent("MouseEvents"),n.initMouseEvent(e,i.bubbles,i.cancelable,i.view,i.detail,i.screenX,i.screenY,i.clientX,i.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,i.relatedTarget||document.body.parentNode)):n=document.createEventObject(),t.dispatchEvent?t.dispatchEvent(n):t.fireEvent("on"+e,n)}},{}),window.Handsontable=window.Handsontable||{},Handsontable.countEventManagerListeners=0,Handsontable.eventManager=o},{"./dom.js":27}],42:[function(t,e,n){"use strict";function i(t){return 32==t||t>=48&&57>=t||t>=96&&111>=t||t>=186&&192>=t||t>=219&&222>=t||t>=226||t>=65&&90>=t}function o(t){var e=[Q.ARROW_DOWN,Q.ARROW_UP,Q.ARROW_LEFT,Q.ARROW_RIGHT,Q.HOME,Q.END,Q.DELETE,Q.BACKSPACE,Q.F1,Q.F2,Q.F3,Q.F4,Q.F5,Q.F6,Q.F7,Q.F8,Q.F9,Q.F10,Q.F11,Q.F12,Q.TAB,Q.PAGE_DOWN,Q.PAGE_UP,Q.ENTER,Q.ESCAPE,Q.SHIFT,Q.CAPS_LOCK,Q.ALT];return-1!=e.indexOf(t)}function r(t){return-1!=[Q.CONTROL_LEFT,224,Q.COMMAND_LEFT,Q.COMMAND_RIGHT].indexOf(t)}function s(t){switch(typeof t){case"string":case"number":return t+"";case"object":return null===t?"":t.toString();case"undefined":return"";default:return t.toString()}}function a(t){return t[0].toUpperCase()+t.substr(1)}function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],i=t.length;i--;){var o=s(t[i]).toLowerCase();-1===n.indexOf(o)&&n.push(o)}return 1===n.length}function u(t){var e;if(Array.isArray(t))e=[];else{e={};for(var n in t)t.hasOwnProperty(n)&&(t[n]&&"object"==typeof t[n]&&!Array.isArray(t[n])?e[n]=u(t[n]):Array.isArray(t[n])?t[n].length&&"object"==typeof t[n][0]&&!Array.isArray(t[n][0])?e[n]=[u(t[n][0])]:e[n]=[]:e[n]=null)}return e}function c(t){for(var e,n=t+1,i="";n>0;)e=(n-1)%26,i=String.fromCharCode(65+e)+i,n=parseInt((n-e)/26,10);return i}function h(t,e){t="number"==typeof t?t:100,e="number"==typeof e?e:4;var n,i,o=[];for(n=0;t>n;n++){var r=[];for(i=0;e>i;i++)r.push(c(i)+(n+1));o.push(r)}return o}function d(t,e){t="number"==typeof t?t:100,e="number"==typeof e?e:4;var n,i,o=[];for(n=0;t>n;n++){var r={};for(i=0;e>i;i++)r["prop"+i]=c(i)+(n+1);o.push(r)}return o}function f(t){var e=typeof t;return"number"==e?!isNaN(t)&&isFinite(t):"string"==e?t.length?1==t.length?/\d/.test(t):/^\s*[+-]?\s*(?:(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?)|(?:0x[a-f\d]+))\s*$/i.test(t):!1:"object"==e?!(!t||"number"!=typeof t.valueOf()||t instanceof Date):!1}function p(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+t()+t()}function m(t,e){return e.prototype.constructor=e,t.prototype=new e,t.prototype.constructor=t,t}function g(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}function v(t,e){for(var n in e)e.hasOwnProperty(n)&&(e[n]&&"object"==typeof e[n]?(t[n]||(Array.isArray(e[n])?t[n]=[]:t[n]={}),v(t[n],e[n])):t[n]=e[n])}function y(t){return"object"==typeof t?JSON.parse(JSON.stringify(t)):t}function w(t,e){return JSON.stringify(t)===JSON.stringify(e)}function b(t){var e;if("object"==typeof t.__proto__)e=t.__proto__;else{var n,i=t.constructor;"function"==typeof t.constructor&&(n=i,delete t.constructor&&(i=t.constructor,t.constructor=n)),e=i?i.prototype:null}return e}function C(t,e){function n(){}m(n,t);for(var i=0,o=e.length;o>i;i++)n.prototype[e[i]]=void 0;return n}function k(t){var e,n,i,o,r=[],s=0;for(e=0,n=t.length;n>e;e++)for(i=0,o=t[e].length;o>i;i++)i==s&&(r.push([]),s++),r[i].push(t[e][i]);return r}function x(t){for(var e=0,n=t.length;n>e;)t[e]=[t[e]],e++}function _(t,e){for(var n=0,i=e.length;i>n;)t.push(e[n]),n++}function T(t){var e=["INPUT","SELECT","TEXTAREA"];return e.indexOf(t.nodeName)>-1||"true"===t.contentEditable}function S(t){return T(t)&&-1==t.className.indexOf("handsontableInput")&&-1==t.className.indexOf("copyPaste")}function E(t){return"[object Object]"==Object.prototype.toString.call(t)}function D(t){var e=[];if(!t||0===t.length||!t[0]||0===t[0].length)return e;for(var n=t.length,i=t[0].length,o=0;n>o;o++)for(var r=0;i>r;r++)e[r]||(e[r]=[]),e[r][o]=t[o][r];return e}function R(t,e){return function(){return t.apply(e,arguments)}}function M(t,e){function n(t){var e=Handsontable.cellTypes[t];if("undefined"==typeof e)throw new Error('You declared cell type "'+t+'" as a string that is not mapped to a known object. Cell type must be an object or a string mapped to an object in Handsontable.cellTypes');return e}return e="undefined"==typeof e?!0:e,function(i,o){return function r(i){if(i){if(i.hasOwnProperty(t)&&void 0!==i[t])return i[t];if(i.hasOwnProperty("type")&&i.type){var o;if("string"!=typeof i.type)throw new Error("Cell type must be a string ");if(o=n(i.type),o.hasOwnProperty(t))return o[t];if(e)return}return r(b(i))}}("number"==typeof i?this.getCellMeta(i,o):i)}}function A(t){return t||(t=navigator.userAgent),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)}function O(){return"ontouchstart"in window}function H(t){"function"==typeof t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function P(t){if(t.pageX)return t.pageX;var e=J.getWindowScrollLeft(),n=t.clientX+e;return n}function L(t){if(t.pageY)return t.pageY;var e=J.getWindowScrollTop(),n=t.clientY+e;return n}function I(t,e,n,i){i.value=n,i.writable=i.writable===!1?!1:!0,i.enumerable=i.enumerable===!1?!1:!0,i.configurable=i.configurable===!1?!1:!0,Object.defineProperty(t,e,i)}function j(t){return et.call(window,t)}function N(t){nt.call(window,t)}function $(t,e,n,i){var o=-1,r=t.length;for(i&&r&&(n=t[++o]);++o<r;)n=e(n,t[o],o,t);return n}function F(t,e){for(var n=-1,i=t.length,o=-1,r=[];++n<i;){var s=t[n];e(s,n,t)&&(r[++o]=s)}return r}function W(t,e){for(var n=-1,i=t.length;++n<i&&e(t[n],n,t)!==!1;);return t}function B(t,e){for(var n in t)if((!t.hasOwnProperty||t.hasOwnProperty&&t.hasOwnProperty(n))&&e(t[n],n,t)===!1)break;return t}function V(t,e,n){var i=-1;for("function"==typeof e?(n=e,e=t):i=t-1;++i<=e&&n(i)!==!1;);}function z(t){return $(t,function(t,e){return t+e},0)}function Y(t){return t.length?z(t)/t.length:0}function U(t){return/^([0-9][0-9]?\%$)|(^100\%$)/.test(t)}function G(t,e){return e=parseInt(e.toString().replace("%",""),10),e=parseInt(t*e/100)}function q(t){function e(){var e=this,s=arguments,a=Date.now(),l=!1;o.lastCallThrottled=!0,i||(i=a,l=!0);var u=n-(a-i);return l?(o.lastCallThrottled=!1,t.apply(this,s)):(r&&clearTimeout(r),r=setTimeout(function(){o.lastCallThrottled=!1,t.apply(e,s),i=0,r=void 0},u)),o}var n=void 0!==arguments[1]?arguments[1]:200,i=0,o={lastCallThrottled:!0},r=null;return e}function X(t){function e(){s=o}function n(){return s?(s--,t.apply(this,arguments)):r.apply(this,arguments)}var i=void 0!==arguments[1]?arguments[1]:200,o=void 0!==arguments[2]?arguments[2]:10,r=q(t,i),s=o;return n.clearHits=e,n}Object.defineProperties(n,{isPrintableChar:{get:function(){return i}},isMetaKey:{get:function(){return o}},isCtrlKey:{get:function(){return r}},stringify:{get:function(){return s}},toUpperCaseFirst:{get:function(){return a}},equalsIgnoreCase:{get:function(){return l}},duckSchema:{get:function(){return u}},spreadsheetColumnLabel:{get:function(){return c}},createSpreadsheetData:{get:function(){return h}},createSpreadsheetObjectData:{get:function(){return d}},isNumeric:{get:function(){return f}},randomString:{get:function(){return p}},inherit:{get:function(){return m}},extend:{get:function(){return g}},deepExtend:{get:function(){return v}},deepClone:{get:function(){return y}},isObjectEquals:{get:function(){return w}},getPrototypeOf:{get:function(){return b}},columnFactory:{get:function(){return C}},translateRowsToColumns:{get:function(){return k}},to2dArray:{get:function(){return x}},extendArray:{get:function(){return _}},isInput:{get:function(){return T}},isOutsideInput:{get:function(){return S}},keyCode:{get:function(){return Q}},isObject:{get:function(){return E}},pivot:{get:function(){return D}},proxy:{get:function(){return R}},cellMethodLookupFactory:{get:function(){return M}},isMobileBrowser:{get:function(){return A}},isTouchSupported:{get:function(){return O}},stopPropagation:{get:function(){return H}},pageX:{get:function(){return P}},pageY:{get:function(){return L}},defineGetter:{get:function(){return I}},requestAnimationFrame:{get:function(){return j}},cancelAnimationFrame:{get:function(){return N}},arrayFilter:{get:function(){return F}},arrayEach:{get:function(){return W}},objectEach:{get:function(){return B}},rangeEach:{get:function(){return V}},arraySum:{get:function(){return z}},arrayAvg:{get:function(){return Y}},isPercentValue:{get:function(){return U}},valueAccordingPercent:{get:function(){return G}},throttle:{get:function(){return q}},throttleAfterHits:{get:function(){return X}},__esModule:{value:!0}});for(var K,J=(K=t("./dom.js"),K&&K.__esModule&&K||{"default":K}),Q={MOUSE_LEFT:1,MOUSE_RIGHT:3,MOUSE_MIDDLE:2,BACKSPACE:8,COMMA:188,INSERT:45,DELETE:46,END:35,ENTER:13,ESCAPE:27,CONTROL_LEFT:91,COMMAND_LEFT:17,COMMAND_RIGHT:93,ALT:18,HOME:36,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,SPACE:32,SHIFT:16,CAPS_LOCK:20,TAB:9,ARROW_RIGHT:39,ARROW_LEFT:37,ARROW_UP:38,ARROW_DOWN:40,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,A:65,X:88,C:67,V:86},Z=0,tt=["ms","moz","webkit","o"],et=window.requestAnimationFrame,nt=window.cancelAnimationFrame,it=0;it<tt.length&&!et;++it)et=window[tt[it]+"RequestAnimationFrame"],nt=window[tt[it]+"CancelAnimationFrame"]||window[tt[it]+"CancelRequestAnimationFrame"];et||(et=function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-Z)),i=window.setTimeout(function(){t(e+n)},n);return Z=e+n,i}),nt||(nt=function(t){clearTimeout(t)}),window.Handsontable=window.Handsontable||{},Handsontable.helper={arrayAvg:Y,arrayEach:W,arrayFilter:F,arrayReduce:$,arraySum:z,cancelAnimationFrame:N,cellMethodLookupFactory:M,columnFactory:C,createSpreadsheetData:h,createSpreadsheetObjectData:d,deepClone:y,deepExtend:v,defineGetter:I,duckSchema:u,equalsIgnoreCase:l,extend:g,extendArray:_,getPrototypeOf:b,inherit:m,isCtrlKey:r,isInput:T,isMetaKey:o,isMobileBrowser:A,isNumeric:f,isObject:E,isObjectEquals:w,isOutsideInput:S,isPercentValue:U,isPrintableChar:i,isTouchSupported:O,keyCode:Q,objectEach:B,pageX:P,pageY:L,pivot:D,proxy:R,randomString:p,rangeEach:V,requestAnimationFrame:j,spreadsheetColumnLabel:c,stopPropagation:H,stringify:s,throttle:q,throttleAfterHits:X,to2dArray:x,toUpperCaseFirst:a,translateRowsToColumns:k,valueAccordingPercent:G}},{"./dom.js":27}],43:[function(t,e,n){"use strict";function i(){function t(t){return null!==t&&!n(t)&&("string"==typeof t||"number"==typeof t)}function e(t){return null!==t&&("object"==typeof t||"function"==typeof t)}function n(t){return t!==t}var i={arrayMap:[],weakMap:new WeakMap};return{get:function(n){return t(n)?i.arrayMap[n]:e(n)?i.weakMap.get(n):void 0},set:function(n,o){if(t(n))i.arrayMap[n]=o;else{if(!e(n))throw new Error("Invalid key type");i.weakMap.set(n,o)}},"delete":function(n){t(n)?delete i.arrayMap[n]:e(n)&&i.weakMap["delete"](n)}}}Object.defineProperties(n,{MultiMap:{get:function(){return i}},__esModule:{value:!0}}),window.MultiMap=i},{}],44:[function(t,e,n){"use strict";Object.defineProperties(n,{Hooks:{get:function(){return u}},__esModule:{value:!0}});var i,o,r=["afterCellMetaReset","afterChange","afterChangesObserved","afterColumnMove","afterColumnResize","afterContextMenuDefaultOptions","afterContextMenuHide","afterContextMenuShow","afterCopyLimit","afterCreateCol","afterCreateRow","afterDeselect","afterDestroy","afterDocumentKeyDown","afterGetCellMeta","afterGetColHeader","afterGetRowHeader","afterInit","afterIsMultipleSelectionCheck","afterLoadData","afterMomentumScroll","afterOnCellCornerMouseDown","afterOnCellMouseDown","afterOnCellMouseOver","afterRemoveCol","afterRemoveRow","afterRender","afterRenderer","afterRowMove","afterRowResize","afterScrollHorizontally","afterScrollVertically","afterSelection","afterSelectionByProp","afterSelectionEnd","afterSelectionEndByProp","afterSetCellMeta","afterUpdateSettings","afterValidate","beforeAutofill","beforeCellAlignment","beforeChange","beforeChangeRender","beforeDrawBorders","beforeGetCellMeta","beforeInit","beforeInitWalkontable","beforeKeyDown","beforeOnCellMouseDown","beforeRemoveCol","beforeRemoveRow","beforeRender","beforeSetRangeEnd","beforeTouchScroll","beforeValidate","construct","init","modifyCol","modifyColWidth","modifyRow","modifyRowHeight","persistentStateLoad","persistentStateReset","persistentStateSave"],s=((i=t("./eventManager.js"),i&&i.__esModule&&i||{"default":i}).EventManager,o=t("./helpers.js"),o&&o.__esModule&&o||{"default":o}),a=s.arrayEach,l=s.objectEach,u=function(){this.globalBucket=this.createEmptyBucket()};$traceurRuntime.createClass(u,{createEmptyBucket:function(){var t=Object.create(null);return a(r,function(e){return t[e]=[]}),t},getBucket:function(){var t=void 0!==arguments[0]?arguments[0]:null;return t?(t.pluginHookBucket||(t.pluginHookBucket=this.createEmptyBucket()),t.pluginHookBucket):this.globalBucket},add:function(t,e){var n=void 0!==arguments[2]?arguments[2]:null,i=this;if(Array.isArray(e))a(e,function(e){return i.add(t,e,n)});else{var o=this.getBucket(n);"undefined"==typeof o[t]&&(this.register(t),o[t]=[]),e.skip=!1,-1===o[t].indexOf(e)&&o[t].push(e)}return this},once:function(t,e){var n=void 0!==arguments[2]?arguments[2]:null,i=this;Array.isArray(e)?a(e,function(e){return i.once(t,e,n)}):(e.runOnce=!0,this.add(t,e,n))},remove:function(t,e){var n=void 0!==arguments[2]?arguments[2]:null,i=this.getBucket(n);return"undefined"!=typeof i[t]&&i[t].indexOf(e)>=0?(e.skip=!0,!0):!1},run:function(t,e,n,i,o,r,s,l){var u=this,c=this.globalBucket[e];c&&c.length&&a(c,function(a){if(a&&!a.skip){var c=a.call(t,n,i,o,r,s,l);void 0!==c&&(n=c),a.runOnce&&u.remove(e,a)}});var h=this.getBucket(t)[e];return h&&h.length&&a(h,function(a){if(a&&!a.skip){var c=a.call(t,n,i,o,r,s,l);void 0!==c&&(n=c),a.runOnce&&u.remove(e,a,t)}}),n},destroy:function(){var t=void 0!==arguments[0]?arguments[0]:null;l(this.getBucket(t),function(t,e,n){return n[e].length=0})},register:function(t){this.isRegistered(t)||r.push(t)},deregister:function(t){this.isRegistered(t)&&r.splice(r.indexOf(t),1)},isRegistered:function(t){return r.indexOf(t)>=0},getRegistered:function(){return r}},{}),Handsontable.utils=Handsontable.utils||{},Handsontable.utils.Hooks=u},{"./eventManager.js":41,"./helpers.js":42}],45:[function(t,e,n){"use strict";function i(t,e){Handsontable.hooks.add("construct",function(){var n;t=t.toLowerCase(),r.has(this)||r.set(this,{}),n=r.get(this),n[t]||(n[t]=new e(this))}),Handsontable.hooks.add("afterDestroy",function(){var t,e;if(r.has(this)){e=r.get(this);for(t in e)e.hasOwnProperty(t)&&e[t].destroy();r["delete"](this)}})}function o(t,e){if("string"!=typeof e)throw Error('Only strings can be passed as "plugin" parameter');var n=e.toLowerCase();return r.has(t)&&r.get(t)[n]?r.get(t)[n]:void 0}Object.defineProperties(n,{registerPlugin:{get:function(){return i}},getPlugin:{get:function(){return o}},__esModule:{value:!0}});var r=new WeakMap},{}],46:[function(t,e,n){"use strict";Object.defineProperties(n,{"default":{get:function(){return c}},__esModule:{value:!0}});var i,o=(i=t("./../helpers.js"),i&&i.__esModule&&i||{"default":i}),r=o.defineGetter,s=o.objectEach,a=o.arrayEach,l=new WeakMap,u=function(t){var e=this;r(this,"hot",t,{writable:!1}),l.set(this,{hooks:{}}),this.enabled=!1,this.hot.addHook("afterUpdateSettings",function(){return e.onUpdateSettings()}),this.hot.addHook("beforeInit",function(){return e.init()})};$traceurRuntime.createClass(u,{init:function(){this.isEnabled&&(this[(this.isEnabled()?"enable":"disable")+"Plugin"](),this.enabled=this.isEnabled())},enablePlugin:function(){this.enabled=!0},disablePlugin:function(){this.eventManager&&this.eventManager.clear(),this.clearHooks(),this.enabled=!1},addHook:function(t,e){var n=l.get(this).hooks[t]=l.get(this).hooks[t]||[];this.hot.addHook(t,e),
n.push(e),l.get(this).hooks[t]=n},removeHooks:function(t){var e=this;a(l.get(this).hooks[t]||[],function(n){e.hot.removeHook(t,n)})},clearHooks:function(){var t=this,e=l.get(this).hooks;s(e,function(e,n){return t.removeHooks(n)}),e.length=0},onUpdateSettings:function(){this.isEnabled&&(this.enabled&&!this.isEnabled()&&this.disablePlugin(),!this.enabled&&this.isEnabled()&&this.enablePlugin())},destroy:function(){this.eventManager&&this.eventManager.destroy(),this.clearHooks(),delete this.hot}},{});var c=u},{"./../helpers.js":42}],47:[function(t,e,n){"use strict";Object.defineProperties(n,{AutoColumnSize:{get:function(){return x}},__esModule:{value:!0}});var i,o,r,s,a,l,u=(i=t("./../_base.js"),i&&i.__esModule&&i||{"default":i})["default"],c=(o=t("./../../helpers.js"),o&&o.__esModule&&o||{"default":o}),h=c.arrayEach,d=c.arrayFilter,f=(c.objectEach,c.rangeEach),p=c.requestAnimationFrame,m=c.cancelAnimationFrame,g=c.isObject,v=c.isPercentValue,y=c.valueAccordingPercent,w=(r=t("./../../utils/ghostTable.js"),r&&r.__esModule&&r||{"default":r}).GhostTable,b=(s=t("./../../plugins.js"),s&&s.__esModule&&s||{"default":s}).registerPlugin,C=(a=t("./../../utils/samplesGenerator.js"),a&&a.__esModule&&a||{"default":a}).SamplesGenerator,k=(l=t("./../../3rdparty/walkontable/src/calculator/viewportColumns.js"),l&&l.__esModule&&l||{"default":l}).WalkontableViewportColumnsCalculator,x=function(t){var e=this;$traceurRuntime.superConstructor(_).call(this,t),this.widths=[],this.ghostTable=new w(this.hot),this.samplesGenerator=new C(function(t,n){return e.hot.getDataAtCell(t,n)}),this.firstCalculation=!0,this.inProgress=!1},_=x;$traceurRuntime.createClass(x,{isEnabled:function(){return this.hot.getSettings().autoColumnSize!==!1&&!this.hot.getSettings().colWidths},enablePlugin:function(){var t=this;this.enabled||(this.addHook("afterLoadData",function(){return t.onAfterLoadData()}),this.addHook("beforeChange",function(e){return t.onBeforeChange(e)}),this.addHook("beforeColumnResize",function(e,n,i){return t.onBeforeColumnResize(e,n,i)}),this.addHook("beforeRender",function(e){return t.onBeforeRender(e)}),this.addHook("modifyColWidth",function(e,n){return t.getColumnWidth(n,e)}),$traceurRuntime.superGet(this,_.prototype,"enablePlugin").call(this))},calculateColumnsWidth:function(){var t=void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countCols()-1},e=void 0!==arguments[1]?arguments[1]:{from:0,to:this.hot.countRows()-1},n=void 0!==arguments[2]?arguments[2]:!1,i=this;"number"==typeof t&&(t={from:t,to:t}),"number"==typeof e&&(e={from:e,to:e}),f(t.from,t.to,function(t){if(n||void 0===i.widths[t]&&!i.hot._getColWidthFromSettings(t)){var o=i.samplesGenerator.generateColumnSamples(t,e);o.forEach(function(t,e){return i.ghostTable.addColumn(e,t)})}}),this.ghostTable.columns.length&&(this.ghostTable.getWidths(function(t,e){return i.widths[t]=e}),this.ghostTable.clean())},calculateAllColumnsWidth:function(){var t=void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countRows()-1},e=this,n=0,i=this.hot.countCols()-1,o=null;this.inProgress=!0;var r=function(){return e.hot?(e.calculateColumnsWidth({from:n,to:Math.min(n+_.CALCULATION_STEP,i)},t),n=n+_.CALCULATION_STEP+1,void(i>n?o=p(r):(m(o),e.inProgress=!1,e.hot.view.wt.wtOverlays.adjustElementsSize(!0),e.hot.view.wt.wtOverlays.leftOverlay.needFullRender&&e.hot.view.wt.wtOverlays.leftOverlay.clone.draw()))):(m(o),void(e.inProgress=!1))};this.firstCalculation&&this.getSyncCalculationLimit()&&(this.calculateColumnsWidth({from:0,to:this.getSyncCalculationLimit()},t),this.firstCalculation=!1,n=this.getSyncCalculationLimit()+1),i>n?r():this.inProgress=!1},recalculateAllColumnsWidth:function(){this.clearCache(),this.calculateAllColumnsWidth()},getSyncCalculationLimit:function(){var t=_.SYNC_CALCULATION_LIMIT,e=this.hot.countCols()-1;return g(this.hot.getSettings().autoColumnSize)&&(t=this.hot.getSettings().autoColumnSize.syncLimit,v(t)?t=y(e,t):t>>=0),Math.min(t,e)},getColumnWidth:function(t){var e=arguments[1],n=void 0!==arguments[2]?arguments[2]:!0,i=e;return void 0===i&&(i=this.widths[t],n&&"number"==typeof i&&(i=Math.max(i,k.DEFAULT_WIDTH))),i},getFirstVisibleColumn:function(){var t=this.hot.view.wt;return t.wtViewport.columnsVisibleCalculator?t.wtTable.getFirstVisibleColumn():t.wtViewport.columnsRenderCalculator?t.wtTable.getFirstRenderedColumn():-1},getLastVisibleColumn:function(){var t=this.hot.view.wt;return t.wtViewport.columnsVisibleCalculator?t.wtTable.getLastVisibleColumn():t.wtViewport.columnsRenderCalculator?t.wtTable.getLastRenderedColumn():-1},clearCache:function(){this.widths.length=0},isNeedRecalculate:function(){return d(this.widths,function(t){return void 0===t}).length?!0:!1},onBeforeRender:function(){var t=this.hot.renderCall;this.calculateColumnsWidth({from:this.getFirstVisibleColumn(),to:this.getLastVisibleColumn()},void 0,t),this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllColumnsWidth()},onAfterLoadData:function(){var t=this;this.hot.view?this.recalculateAllColumnsWidth():setTimeout(function(){t.hot&&t.recalculateAllColumnsWidth()},0)},onBeforeChange:function(t){var e=this;h(t,function(t){return e.widths[t[1]]=void 0})},onBeforeColumnResize:function(t,e,n){return n&&(this.calculateColumnsWidth(t,void 0,!0),e=this.getColumnWidth(t,void 0,!1)),e},destroy:function(){this.ghostTable.clean(),$traceurRuntime.superGet(this,_.prototype,"destroy").call(this)}},{get CALCULATION_STEP(){return 50},get SYNC_CALCULATION_LIMIT(){return 50}},u),b("autoColumnSize",x)},{"./../../3rdparty/walkontable/src/calculator/viewportColumns.js":3,"./../../helpers.js":42,"./../../plugins.js":45,"./../../utils/ghostTable.js":81,"./../../utils/samplesGenerator.js":82,"./../_base.js":46}],48:[function(t,e,n){"use strict";Object.defineProperties(n,{AutoRowSize:{get:function(){return b}},__esModule:{value:!0}});var i,o,r,s,a,l=(i=t("./../_base.js"),i&&i.__esModule&&i||{"default":i})["default"],u=(o=t("./../../helpers.js"),o&&o.__esModule&&o||{"default":o}),c=(u.arrayEach,u.arrayFilter),h=(u.objectEach,u.rangeEach),d=u.requestAnimationFrame,f=u.cancelAnimationFrame,p=u.isObject,m=u.isPercentValue,g=u.valueAccordingPercent,v=(r=t("./../../utils/ghostTable.js"),r&&r.__esModule&&r||{"default":r}).GhostTable,y=(s=t("./../../plugins.js"),s&&s.__esModule&&s||{"default":s}).registerPlugin,w=(a=t("./../../utils/samplesGenerator.js"),a&&a.__esModule&&a||{"default":a}).SamplesGenerator,b=function(t){var e=this;$traceurRuntime.superConstructor(C).call(this,t),this.heights=[],this.ghostTable=new v(this.hot),this.samplesGenerator=new w(function(t,n){return e.hot.getDataAtCell(t,n)}),this.firstCalculation=!0,this.inProgress=!1},C=b;$traceurRuntime.createClass(b,{isEnabled:function(){return this.hot.getSettings().autoRowSize===!0||p(this.hot.getSettings().autoRowSize)},enablePlugin:function(){var t=this;this.enabled||(this.addHook("afterLoadData",function(){return t.onAfterLoadData()}),this.addHook("beforeChange",function(e){return t.onBeforeChange(e)}),this.addHook("beforeColumnMove",function(){return t.recalculateAllRowsHeight()}),this.addHook("beforeColumnResize",function(){return t.recalculateAllRowsHeight()}),this.addHook("beforeColumnSort",function(){return t.clearCache()}),this.addHook("beforeRender",function(e){return t.onBeforeRender(e)}),this.addHook("beforeRowMove",function(e,n){return t.onBeforeRowMove(e,n)}),this.addHook("beforeRowResize",function(e,n,i){return t.onBeforeRowResize(e,n,i)}),this.addHook("modifyRowHeight",function(e,n){return t.getRowHeight(n,e)}),$traceurRuntime.superGet(this,C.prototype,"enablePlugin").call(this))},disablePlugin:function(){$traceurRuntime.superGet(this,C.prototype,"disablePlugin").call(this)},calculateRowsHeight:function(){var t=void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countRows()-1},e=void 0!==arguments[1]?arguments[1]:{from:0,to:this.hot.countCols()-1},n=void 0!==arguments[2]?arguments[2]:!1,i=this;"number"==typeof t&&(t={from:t,to:t}),"number"==typeof e&&(e={from:e,to:e}),h(t.from,t.to,function(t){if(n||void 0===i.heights[t]){var o=i.samplesGenerator.generateRowSamples(t,e);o.forEach(function(t,e){return i.ghostTable.addRow(e,t)})}}),this.ghostTable.rows.length&&(this.ghostTable.getHeights(function(t,e){return i.heights[t]=e}),this.ghostTable.clean())},calculateAllRowsHeight:function(){var t=void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countCols()-1},e=this,n=0,i=this.hot.countRows()-1,o=null;this.inProgress=!0;var r=function(){return e.hot?(e.calculateRowsHeight({from:n,to:Math.min(n+C.CALCULATION_STEP,i)},t),n=n+C.CALCULATION_STEP+1,void(i>n?o=d(r):(f(o),e.inProgress=!1,e.hot.view.wt.wtOverlays.adjustElementsSize(!0),e.hot.view.wt.wtOverlays.leftOverlay.needFullRender&&e.hot.view.wt.wtOverlays.leftOverlay.clone.draw()))):(f(o),void(e.inProgress=!1))};this.firstCalculation&&this.getSyncCalculationLimit()&&(this.calculateRowsHeight({from:0,to:this.getSyncCalculationLimit()},t),this.firstCalculation=!1,n=this.getSyncCalculationLimit()+1),i>n?r():this.inProgress=!1},recalculateAllRowsHeight:function(){this.clearCache(),this.calculateAllRowsHeight()},getSyncCalculationLimit:function(){var t=C.SYNC_CALCULATION_LIMIT,e=this.hot.countRows()-1;return p(this.hot.getSettings().autoRowSize)&&(t=this.hot.getSettings().autoRowSize.syncLimit,m(t)?t=g(e,t):t>>=0),Math.min(t,e)},getRowHeight:function(t){var e=arguments[1],n=e;return void 0!==this.heights[t]&&this.heights[t]>(e||0)&&(n=this.heights[t]),n},getFirstVisibleRow:function(){var t=this.hot.view.wt;return t.wtViewport.rowsVisibleCalculator?t.wtTable.getFirstVisibleRow():t.wtViewport.rowsRenderCalculator?t.wtTable.getFirstRenderedRow():-1},getLastVisibleRow:function(){var t=this.hot.view.wt;return t.wtViewport.rowsVisibleCalculator?t.wtTable.getLastVisibleRow():t.wtViewport.rowsRenderCalculator?t.wtTable.getLastRenderedRow():-1},clearCache:function(){this.heights.length=0},clearCacheByRange:function(t){var e=this;"number"==typeof t&&(t={from:t,to:t}),h(Math.min(t.from,t.to),Math.max(t.from,t.to),function(t){return e.heights[t]=void 0})},isNeedRecalculate:function(){return c(this.heights,function(t){return void 0===t}).length?!0:!1},onBeforeRender:function(){var t=this.hot.renderCall;this.calculateRowsHeight({from:this.getFirstVisibleRow(),to:this.getLastVisibleRow()},void 0,t),this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllRowsHeight()},onBeforeRowMove:function(t,e){this.clearCacheByRange({from:t,to:e}),this.calculateAllRowsHeight()},onBeforeRowResize:function(t,e,n){return n&&(this.calculateRowsHeight(t,void 0,!0),e=this.getRowHeight(t)),e},onAfterLoadData:function(){var t=this;this.hot.view?this.recalculateAllRowsHeight():setTimeout(function(){t.hot&&t.recalculateAllRowsHeight()},0)},onBeforeChange:function(t){var e=null;1===t.length?e=t[0][0]:t.length>1&&(e={from:t[0][0],to:t[t.length-1][0]}),null!==e&&this.clearCacheByRange(e)},destroy:function(){this.ghostTable.clean(),$traceurRuntime.superGet(this,C.prototype,"destroy").call(this)}},{get CALCULATION_STEP(){return 50},get SYNC_CALCULATION_LIMIT(){return 500}},l),y("autoRowSize",b)},{"./../../helpers.js":42,"./../../plugins.js":45,"./../../utils/ghostTable.js":81,"./../../utils/samplesGenerator.js":82,"./../_base.js":46}],49:[function(t,e,n){"use strict";function i(t,e,n,i){var o,r,s,a,l,u=n.length,c=n?n[0].length:0,h=[],d=[];if(o=e.row-t.row,r=e.col-t.col,-1!==["down","up"].indexOf(i)){for(var f=0;r>=f;f++)s=parseInt(n[0][f],10),a=parseInt(n[u-1][f],10),l=("down"===i?a-s:s-a)/(u-1)||0,d.push(l);h.push(d)}if(-1!==["right","left"].indexOf(i))for(var p=0;o>=p;p++)s=parseInt(n[p][0],10),a=parseInt(n[p][c-1],10),l=("right"===i?a-s:s-a)/(c-1)||0,d=[],d.push(l),h.push(d);return h}function o(t){function e(e){return t.autofill?void(t.autofill.handle&&t.autofill.handle.isDragged&&(t.autofill.handle.isDragged>1&&t.autofill.apply(),t.autofill.handle.isDragged=0,a=!1)):!0}function n(t){var e,n;return s.instance.autofill?(e=u.offset(s.instance.table).top-(window.pageYOffset||document.documentElement.scrollTop)+u.outerHeight(s.instance.table),n=u.offset(s.instance.table).left-(window.pageXOffset||document.documentElement.scrollLeft)+u.outerWidth(s.instance.table),s.addingStarted===!1&&s.instance.autofill.handle.isDragged>0&&t.clientY>e&&t.clientX<=n?(s.instance.mouseDragOutside=!0,s.addingStarted=!0):s.instance.mouseDragOutside=!1,void(s.instance.mouseDragOutside&&setTimeout(function(){s.addingStarted=!1,s.instance.alter("insert_row")},200))):!1}var i,o,r,s=this,a=!1;this.instance=t,this.addingStarted=!1,r=c(t),r.addEventListener(document,"mouseup",e),r.addEventListener(document,"mousemove",n),i=this.instance.view.wt.wtSettings.settings.onCellCornerMouseDown,this.instance.view.wt.wtSettings.settings.onCellCornerMouseDown=function(e){t.autofill.handle.isDragged=1,a=!0,i(e)},o=this.instance.view.wt.wtSettings.settings.onCellMouseOver,this.instance.view.wt.wtSettings.settings.onCellMouseOver=function(e,n,i,r){t.autofill&&a&&!t.view.isMouseDown()&&t.autofill.handle&&t.autofill.handle.isDragged&&(t.autofill.handle.isDragged++,t.autofill.showBorder(n),t.autofill.checkIfNewRowNeeded()),o(e,n,i,r)},this.instance.view.wt.wtSettings.settings.onCellCornerDblClick=function(){t.autofill.selectAdjacent()}}Object.defineProperties(n,{Autofill:{get:function(){return o}},__esModule:{value:!0}});var r,s,a,l,u=(r=t("./../../dom.js"),r&&r.__esModule&&r||{"default":r}),c=(s=t("./../../eventManager.js"),s&&s.__esModule&&s||{"default":s}).eventManager,h=((a=t("./../../plugins.js"),a&&a.__esModule&&a||{"default":a}).registerPlugin,(l=t("./../../3rdparty/walkontable/src/cell/coords.js"),l&&l.__esModule&&l||{"default":l}).WalkontableCellCoords);o.prototype.init=function(){this.handle={}},o.prototype.disable=function(){this.handle.disabled=!0},o.prototype.selectAdjacent=function(){var t,e,n,i,o;t=this.instance.selection.isMultiple()?this.instance.view.wt.selections.area.getCorners():this.instance.view.wt.selections.current.getCorners(),e=this.instance.getData();t:for(n=t[2]+1;n<this.instance.countRows();n++){for(o=t[1];o<=t[3];o++)if(e[n][o])break t;(e[n][t[1]-1]||e[n][t[3]+1])&&(i=n)}i&&(this.instance.view.wt.selections.fill.clear(),this.instance.view.wt.selections.fill.add(new h(t[0],t[1])),this.instance.view.wt.selections.fill.add(new h(i,t[3])),this.apply())},o.prototype.apply=function(){var t,e,n,o,r,s,a,l;this.handle.isDragged=0,t=this.instance.view.wt.selections.fill.getCorners(),t&&(this.instance.view.wt.selections.fill.clear(),e=this.instance.selection.isMultiple()?this.instance.view.wt.selections.area.getCorners():this.instance.view.wt.selections.current.getCorners(),Handsontable.hooks.run(this.instance,"afterAutofillApplyValues",e,t),t[0]===e[0]&&t[1]<e[1]?(s="left",n=new h(t[0],t[1]),o=new h(t[2],e[1]-1)):t[0]===e[0]&&t[3]>e[3]?(s="right",n=new h(t[0],e[3]+1),o=new h(t[2],t[3])):t[0]<e[0]&&t[1]===e[1]?(s="up",n=new h(t[0],t[1]),o=new h(e[0]-1,t[3])):t[2]>e[2]&&t[1]===e[1]&&(s="down",n=new h(e[2]+1,t[1]),o=new h(t[2],t[3])),n&&n.row>-1&&n.col>-1?(l={from:this.instance.getSelectedRange().from,to:this.instance.getSelectedRange().to},r=this.instance.getData(l.from.row,l.from.col,l.to.row,l.to.col),a=i(n,o,r,s),Handsontable.hooks.run(this.instance,"beforeAutofill",n,o,r),this.instance.populateFromArray(n.row,n.col,r,o.row,o.col,"autofill",null,s,a),this.instance.selection.setRangeStart(new h(t[0],t[1])),this.instance.selection.setRangeEnd(new h(t[2],t[3]))):this.instance.selection.refreshBorders())},o.prototype.showBorder=function(t){var e=this.instance.getSelectedRange().getTopLeftCorner(),n=this.instance.getSelectedRange().getBottomRightCorner();if("horizontal"!==this.instance.getSettings().fillHandle&&(n.row<t.row||e.row>t.row))t=new h(t.row,n.col);else{if("vertical"===this.instance.getSettings().fillHandle)return;t=new h(n.row,t.col)}this.instance.view.wt.selections.fill.clear(),this.instance.view.wt.selections.fill.add(this.instance.getSelectedRange().from),this.instance.view.wt.selections.fill.add(this.instance.getSelectedRange().to),this.instance.view.wt.selections.fill.add(t),this.instance.view.render()},o.prototype.checkIfNewRowNeeded=function(){var t,e,n=this.instance.countRows(),i=this;this.instance.view.wt.selections.fill.cellRange&&this.addingStarted===!1&&(e=this.instance.getSelected(),t=this.instance.view.wt.selections.fill.getCorners(),e[2]<n-1&&t[2]===n-1&&(this.addingStarted=!0,this.instance._registerTimeout(setTimeout(function(){i.instance.alter("insert_row"),i.addingStarted=!1},200))))},Handsontable.hooks.add("afterInit",function(){var t=new o(this);"undefined"!=typeof this.getSettings().fillHandle&&(t.handle&&this.getSettings().fillHandle===!1?t.disable():t.handle||this.getSettings().fillHandle===!1||(this.autofill=t,this.autofill.init()))}),Handsontable.Autofill=o},{"./../../3rdparty/walkontable/src/cell/coords.js":5,"./../../dom.js":27,"./../../eventManager.js":41,"./../../plugins.js":45}],50:[function(t,e,n){"use strict";Object.defineProperties(n,{"default":{get:function(){return f}},__esModule:{value:!0}});var i,o,r,s,a=(i=t("./../../dom.js"),i&&i.__esModule&&i||{"default":i}),l=(o=t("./../../eventManager.js"),o&&o.__esModule&&o||{"default":o}).eventManager,u=(r=t("./../_base.js"),r&&r.__esModule&&r||{"default":r})["default"],c=(s=t("./../../plugins.js"),s&&s.__esModule&&s||{"default":s}).registerPlugin;Handsontable.hooks.register("beforeColumnSort"),Handsontable.hooks.register("afterColumnSort");var h=function(t){$traceurRuntime.superConstructor(d).call(this,t),this.sortIndicators=[]},d=h;$traceurRuntime.createClass(h,{isEnabled:function(){return!!this.hot.getSettings().columnSorting},enablePlugin:function(){var t=this;if(!this.enabled){var e=this;this.hot.sortIndex=[],this.hot.sort=function(){var t=Array.prototype.slice.call(arguments);return e.sortByColumn.apply(e,t)},"undefined"==typeof this.hot.getSettings().observeChanges&&this.enableObserveChangesPlugin(),this.bindColumnSortingAfterClick(),this.addHook("modifyRow",function(e){return t.translateRow(e)}),this.addHook("afterUpdateSettings",function(){return t.onAfterUpdateSettings()}),this.addHook("afterGetColHeader",function(e,n){return t.getColHeader(e,n)}),this.addHook("afterCreateRow",function(){e.afterCreateRow.apply(e,arguments)}),this.addHook("afterRemoveRow",function(){e.afterRemoveRow.apply(e,arguments)}),this.addHook("afterInit",function(){return t.sortBySettings()}),this.addHook("afterLoadData",function(){t.hot.sortIndex=[],t.hot.view&&t.sortBySettings()}),this.hot.view&&this.sortBySettings(),$traceurRuntime.superGet(this,d.prototype,"enablePlugin").call(this)}},disablePlugin:function(){this.hot.sort=void 0,$traceurRuntime.superGet(this,d.prototype,"disablePlugin").call(this)},onAfterUpdateSettings:function(){this.sortBySettings()},sortBySettings:function(){var t,e,n=this.hot.getSettings().columnSorting,i=this.loadSortingState();"undefined"!=typeof i?(t=i.sortColumn,e=i.sortOrder):(t=n.column,e=n.sortOrder),this.sortByColumn(t,e)},setSortingColumn:function(t,e){return"undefined"==typeof t?(this.hot.sortColumn=void 0,void(this.hot.sortOrder=void 0)):(this.hot.sortColumn===t&&"undefined"==typeof e?this.hot.sortOrder===!1?this.hot.sortOrder=void 0:this.hot.sortOrder=!this.hot.sortOrder:this.hot.sortOrder="undefined"!=typeof e?e:!0,void(this.hot.sortColumn=t))},sortByColumn:function(t,e){this.setSortingColumn(t,e),"undefined"!=typeof this.hot.sortColumn&&(Handsontable.hooks.run(this.hot,"beforeColumnSort",this.hot.sortColumn,this.hot.sortOrder),this.sort(),this.hot.render(),this.saveSortingState(),Handsontable.hooks.run(this.hot,"afterColumnSort",this.hot.sortColumn,this.hot.sortOrder))},saveSortingState:function(){var t={};"undefined"!=typeof this.hot.sortColumn&&(t.sortColumn=this.hot.sortColumn),"undefined"!=typeof this.hot.sortOrder&&(t.sortOrder=this.hot.sortOrder),(t.hasOwnProperty("sortColumn")||t.hasOwnProperty("sortOrder"))&&Handsontable.hooks.run(this.hot,"persistentStateSave","columnSorting",t)},loadSortingState:function(){var t={};return Handsontable.hooks.run(this.hot,"persistentStateLoad","columnSorting",t),t.value},bindColumnSortingAfterClick:function(){function t(){var t=i.hot.view.TBODY.querySelector("tr").querySelectorAll("th");return t.length}function e(e){var n=a.closest(e,"TH");return a.index(n)-t()}if(!this.bindedSortEvent){var n=l(this.hot),i=this;this.bindedSortEvent=!0,n.addEventListener(this.hot.rootElement,"click",function(t){if(a.hasClass(t.target,"columnSorting")){var n=e(t.target);if(n!==this.lastSortedColumn)i.sortOrderClass="ascending";else switch(i.hot.sortOrder){case void 0:i.sortOrderClass="ascending";break;case!0:i.sortOrderClass="descending";break;case!1:i.sortOrderClass=void 0}this.lastSortedColumn=n,i.sortByColumn(n)}})}},enableObserveChangesPlugin:function(){var t=this;this.hot._registerTimeout(setTimeout(function(){t.hot.updateSettings({observeChanges:!0})},0))},defaultSort:function(t){return function(e,n){return"string"==typeof e[1]&&(e[1]=e[1].toLowerCase()),"string"==typeof n[1]&&(n[1]=n[1].toLowerCase()),e[1]===n[1]?0:null===e[1]||""===e[1]?1:null===n[1]||""===n[1]?-1:e[1]<n[1]?t?-1:1:e[1]>n[1]?t?1:-1:0}},dateSort:function(t){return function(e,n){if(e[1]===n[1])return 0;if(null===e[1])return 1;if(null===n[1])return-1;var i=new Date(e[1]),o=new Date(n[1]);return o>i?t?-1:1:i>o?t?1:-1:0}},sort:function(){if("undefined"!=typeof this.hot.sortOrder){var t,e;this.hot.sortingEnabled=!1,this.hot.sortIndex.length=0;for(var n=this.hot.colOffset(),i=0,o=this.hot.countRows()-this.hot.getSettings().minSpareRows;o>i;i++)this.hot.sortIndex.push([i,this.hot.getDataAtCell(i,this.hot.sortColumn+n)]);switch(t=this.hot.getCellMeta(0,this.hot.sortColumn),this.sortIndicators[this.hot.sortColumn]=t.sortIndicator,t.type){case"date":e=this.dateSort;break;default:e=this.defaultSort}this.hot.sortIndex.sort(e(this.hot.sortOrder));for(var i=this.hot.sortIndex.length;i<this.hot.countRows();i++)this.hot.sortIndex.push([i,this.hot.getDataAtCell(i,this.hot.sortColumn+n)]);this.hot.sortingEnabled=!0}},translateRow:function(t){return this.hot.sortingEnabled&&"undefined"!=typeof this.hot.sortOrder&&this.hot.sortIndex&&this.hot.sortIndex.length&&this.hot.sortIndex[t]?this.hot.sortIndex[t][0]:t},untranslateRow:function(t){if(this.hot.sortingEnabled&&this.hot.sortIndex&&this.hot.sortIndex.length)for(var e=0;e<this.hot.sortIndex.length;e++)if(this.hot.sortIndex[e][0]==t)return e},getColHeader:function(t,e){var n=e.querySelector(".colHeader");this.hot.getSettings().columnSorting&&t>=0&&a.addClass(n,"columnSorting"),a.removeClass(n,"descending"),a.removeClass(n,"ascending"),this.sortIndicators[t]&&t===this.hot.sortColumn&&("ascending"===this.sortOrderClass?a.addClass(n,"ascending"):"descending"===this.sortOrderClass&&a.addClass(n,"descending"))},isSorted:function(){return"undefined"!=typeof this.hot.sortColumn},afterCreateRow:function(t,e){if(this.isSorted()){for(var n=0;n<this.hot.sortIndex.length;n++)this.hot.sortIndex[n][0]>=t&&(this.hot.sortIndex[n][0]+=e);for(var n=0;e>n;n++)this.hot.sortIndex.splice(t+n,0,[t+n,this.hot.getData()[t+n][this.hot.sortColumn+this.hot.colOffset()]]);this.saveSortingState()}},afterRemoveRow:function(t,e){if(this.isSorted()){var n=this.translateRow(t);this.hot.sortIndex.splice(t,e);for(var i=0;i<this.hot.sortIndex.length;i++)this.hot.sortIndex[i][0]>n&&(this.hot.sortIndex[i][0]-=e);this.saveSortingState()}}},{},u);var f=h;c("columnSorting",h)},{"./../../dom.js":27,"./../../eventManager.js":41,"./../../plugins.js":45,"./../_base.js":46}],51:[function(t,e,n){"use strict";Object.defineProperties(n,{CommentEditor:{get:function(){return r}},__esModule:{value:!0}});var i,o=(i=t("./../../dom.js"),i&&i.__esModule&&i||{"default":i}),r=function(){this.editor=this.createEditor(),this.editorStyle=this.editor.style,this.editorStyle.position="absolute",this.editorStyle.zIndex=100,this.hide()},s=r;$traceurRuntime.createClass(r,{setPosition:function(t,e){this.editorStyle.left=t+"px",this.editorStyle.top=e+"px"},show:function(){this.editorStyle.display="block"},hide:function(){this.editorStyle.display="none"},isVisible:function(){return"block"===this.editorStyle.display},setValue:function(){var t=void 0!==arguments[0]?arguments[0]:"";t=t||"",this.getInputElement().value=t},getValue:function(){return this.getInputElement().value},isFocused:function(){return document.activeElement===this.getInputElement()},focus:function(){this.getInputElement().focus()},createEditor:function(){var t,e,n=document.querySelector("."+s.CLASS_EDITOR_CONTAINER);return n||(n=document.createElement("div"),o.addClass(n,s.CLASS_EDITOR_CONTAINER),document.body.appendChild(n)),t=document.createElement("div"),o.addClass(t,s.CLASS_EDITOR),e=document.createElement("textarea"),o.addClass(e,s.CLASS_INPUT),t.appendChild(e),n.appendChild(t),t},getInputElement:function(){return this.editor.querySelector("."+s.CLASS_INPUT)},destroy:function(){this.editor.parentNode.removeChild(this.editor),this.editor=null,this.editorStyle=null}},{get CLASS_EDITOR_CONTAINER(){return"htCommentsContainer"},get CLASS_EDITOR(){return"htComments"},get CLASS_INPUT(){return"htCommentTextArea"},get CLASS_CELL(){return"htCommentCell"}})},{"./../../dom.js":27}],52:[function(t,e,n){"use strict";Object.defineProperties(n,{Comments:{get:function(){return g}},__esModule:{value:!0}});var i,o,r,s,a,l,u=(i=t("./../../dom.js"),i&&i.__esModule&&i||{"default":i}),c=(o=t("./../../eventManager.js"),o&&o.__esModule&&o||{"default":o}).EventManager,h=(r=t("./../../3rdparty/walkontable/src/cell/coords.js"),r&&r.__esModule&&r||{"default":r}).WalkontableCellCoords,d=(s=t("./../../plugins.js"),s&&s.__esModule&&s||{"default":s}),f=d.registerPlugin,p=(d.getPlugin,(a=t("./../_base.js"),a&&a.__esModule&&a||{"default":a})["default"]),m=(l=t("./commentEditor.js"),l&&l.__esModule&&l||{"default":l}).CommentEditor,g=function(t){$traceurRuntime.superConstructor(v).call(this,t),this.editor=null,this.eventManager=null,this.range={},this.mouseDown=!1,this.contextMenuEvent=!1,this.timer=null},v=g;$traceurRuntime.createClass(g,{isEnabled:function(){return this.hot.getSettings().comments},enablePlugin:function(){var t=this;this.enabled||(this.editor||(this.editor=new m),this.eventManager||(this.eventManager=new c(this)),this.addHook("afterContextMenuDefaultOptions",function(e){return t.addToContextMenu(e)}),this.addHook("afterRenderer",function(e,n,i,o,r,s){return t.onAfterRenderer(e,s)}),this.addHook("afterScrollVertically",function(){return t.refreshEditorPosition()}),this.addHook("afterColumnResize",function(){return t.refreshEditorPosition()}),this.addHook("afterRowResize",function(){return t.refreshEditorPosition()}),this.registerListeners(),$traceurRuntime.superGet(this,v.prototype,"enablePlugin").call(this))},registerListeners:function(){var t=this;this.eventManager.addEventListener(document,"mouseover",function(e){return t.onMouseOver(e)}),this.eventManager.addEventListener(document,"mousedown",function(e){return t.onMouseDown(e)}),this.eventManager.addEventListener(document,"mousemove",function(e){return t.onMouseMove(e)}),this.eventManager.addEventListener(document,"mouseup",function(e){return t.onMouseUp(e)}),this.eventManager.addEventListener(this.editor.getInputElement(),"blur",function(e){return t.onEditorBlur(e)})},setRange:function(t){this.range=t},clearRange:function(){this.range={}},targetIsCellWithComment:function(t){return u.hasClass(t.target,"htCommentCell")&&u.closest(t.target,[this.hot.rootElement])?!0:!1},targetIsCommentTextArea:function(t){return this.editor.getInputElement()===t.target},saveComment:function(){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');var t=this.editor.getValue(),e=this.range.from.row,n=this.range.from.col;this.hot.setCellMeta(e,n,"comment",t),this.hot.render()},saveCommentAtCell:function(t,e){this.setRange({from:new h(t,e)}),this.saveComment()},removeComment:function(){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');this.hot.removeCellMeta(this.range.from.row,this.range.from.col,"comment"),this.hot.render(),this.hide()},removeCommentAtCell:function(t,e){this.setRange({from:new h(t,e)}),this.removeComment()},show:function(){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');var t=this.hot.getCellMeta(this.range.from.row,this.range.from.col);return this.refreshEditorPosition(!0),this.editor.setValue(t.comment||""),this.editor.show(),!0},showAtCell:function(t,e){return this.setRange({from:new h(t,e)}),this.show()},hide:function(){this.editor.hide()},refreshEditorPosition:function(){var t=void 0!==arguments[0]?arguments[0]:!1;if(t||this.range.from&&this.editor.isVisible()){var e=this.hot.view.wt.wtTable.getCell(this.range.from),n=u.offset(e),i=this.hot.getColWidth(this.range.from.col),o=n.top,r=n.left,s=0,a=0;this.hot.view.wt.wtViewport.hasVerticalScroll()&&(o-=this.hot.view.wt.wtOverlays.topOverlay.getScrollPosition(),s=20),this.hot.view.wt.wtViewport.hasHorizontalScroll()&&(r-=this.hot.view.wt.wtOverlays.leftOverlay.getScrollPosition(),a=20);var l=r+i,c=o,h=this.hot.view.wt.wtTable.holder.getBoundingClientRect(),d={left:h.left+u.getWindowScrollLeft()+a,right:h.right+u.getWindowScrollLeft()-15,top:h.top+u.getWindowScrollTop()+s,bottom:h.bottom+u.getWindowScrollTop()};l<=d.left||l>d.right||c<=d.top||c>d.bottom?this.hide():this.editor.setPosition(l,c)}},onMouseDown:function(t){this.mouseDown=!0,this.hot.view&&this.hot.view.wt&&(this.contextMenuEvent||this.targetIsCommentTextArea(t)||this.targetIsCellWithComment(t)||this.hide(),this.contextMenuEvent=!1)},onMouseOver:function(t){if(!this.mouseDown&&!this.editor.isFocused())if(this.targetIsCellWithComment(t)){var e=this.hot.view.wt.wtTable.getCoords(t.target),n={from:new h(e.row,e.col)};this.setRange(n),this.show()}else this.targetIsCommentTextArea(t)||this.editor.isFocused()||this.hide()},onMouseMove:function(t){var e=this;this.targetIsCommentTextArea(t)&&(this.mouseDown=!0,clearTimeout(this.timer),this.timer=setTimeout(function(){e.mouseDown=!1},200))},onMouseUp:function(t){this.mouseDown=!1},onAfterRenderer:function(t,e){e.comment&&u.addClass(t,e.commentedCellClassName)},onEditorBlur:function(t){this.saveComment()},checkSelectionCommentsConsistency:function(){var t=!1,e=this.hot.getSelectedRange().from;return this.hot.getCellMeta(e.row,e.col).comment&&(t=!0),t},onContextMenuAddComment:function(){var t=this,e=this.hot.getSelectedRange();this.contextMenuEvent=!0,this.setRange({from:e.from}),this.show(),setTimeout(function(){t.hot&&(t.hot.deselectCell(),t.editor.focus())},10)},onContextMenuRemoveComment:function(t,e){this.contextMenuEvent=!0,this.removeCommentAtCell(e.start.row,e.start.col)},addToContextMenu:function(t){var e=this;t.items.push(Handsontable.ContextMenu.SEPARATOR,{key:"commentsAddEdit",name:function(){return e.checkSelectionCommentsConsistency()?"Edit Comment":"Add Comment"},callback:function(){return e.onContextMenuAddComment()},disabled:function(){return!1}},{key:"commentsRemove",name:function(){return"Delete Comment"},callback:function(t,n){return e.onContextMenuRemoveComment(t,n)},disabled:function(){return!e.checkSelectionCommentsConsistency()}})},destroy:function(){this.editor&&this.editor.destroy(),$traceurRuntime.superGet(this,v.prototype,"destroy").call(this)}},{},p),f("comments",g)},{"./../../3rdparty/walkontable/src/cell/coords.js":5,"./../../dom.js":27,"./../../eventManager.js":41,"./../../plugins.js":45,"./../_base.js":46,"./commentEditor.js":51}],53:[function(t,e,n){"use strict";function i(t,e){function n(){var e=t.getSelected();return e?e[0]<0?null:t.countRows()>=t.getSettings().maxRows?null:e:null}this.instance=t;var o=this;if(o.menus=[],o.htMenus={},o.triggerRows=[],o.eventManager=w(o),this.enabled=!0,this.instance.addHook("afterDestroy",function(){o.destroy()}),this.defaultOptions={items:[{key:"row_above",name:"Insert row above",callback:function(t,e){this.alter("insert_row",e.start.row)},disabled:function(){var t=n();if(!t)return!0;var e=[0,t[1],this.countRows()-1,t[1]];return e.join(",")===t.join(",")}},{key:"row_below",name:"Insert row below",callback:function(t,e){this.alter("insert_row",e.end.row+1)},disabled:function(){var t=n();if(!t)return!0;var e=[0,t[1],this.countRows()-1,t[1]];return e.join(",")===t.join(",")}},i.SEPARATOR,{key:"col_left",name:"Insert column on the left",callback:function(t,e){this.alter("insert_col",e.start.col)},disabled:function(){if(!this.isColumnModificationAllowed())return!0;var t=this.getSelected(),e=[t[0],0,t[0],this.countCols()-1],n=e.join(",")==t.join(",");return this.getSelected()[1]<0||this.countCols()>=this.getSettings().maxCols||n}},{key:"col_right",name:"Insert column on the right",callback:function(t,e){
this.alter("insert_col",e.end.col+1)},disabled:function(){if(!this.isColumnModificationAllowed())return!0;var t=this.getSelected(),e=[t[0],0,t[0],this.countCols()-1],n=e.join(",")==t.join(",");return t[1]<0||this.countCols()>=this.getSettings().maxCols||n}},i.SEPARATOR,{key:"remove_row",name:"Remove row",callback:function(t,e){var n=e.end.row-e.start.row+1;this.alter("remove_row",e.start.row,n)},disabled:function(){var t=n();if(!t)return!0;var e=[0,t[1],this.countRows()-1,t[1]];return e.join(",")===t.join(",")}},{key:"remove_col",name:"Remove column",callback:function(t,e){var n=e.end.col-e.start.col+1;this.alter("remove_col",e.start.col,n)},disabled:function(){if(!this.isColumnModificationAllowed())return!0;var t=this.getSelected(),e=[t[0],0,t[0],this.countCols()-1],n=e.join(",")==t.join(",");return t[1]<0||n}},i.SEPARATOR,{key:"undo",name:"Undo",callback:function(){this.undo()},disabled:function(){return this.undoRedo&&!this.undoRedo.isUndoAvailable()}},{key:"redo",name:"Redo",callback:function(){this.redo()},disabled:function(){return this.undoRedo&&!this.undoRedo.isRedoAvailable()}},i.SEPARATOR,{key:"make_read_only",name:function(){var t="Read only",e=o.checkSelectionReadOnlyConsistency(this);return e&&(t=o.markSelected(t)),t},callback:function(){var t=o.checkSelectionReadOnlyConsistency(this),e=this;this.getSelectedRange().forAll(function(n,i){e.getCellMeta(n,i).readOnly=t?!1:!0}),this.render()}},i.SEPARATOR,{key:"alignment",name:"Alignment",submenu:{items:[{name:function(){var t="Left",e=o.checkSelectionAlignment(this,"htLeft");return e&&(t=o.markSelected(t)),t},callback:function(){h.call(this,this.getSelectedRange(),"horizontal","htLeft")},disabled:!1},{name:function(){var t="Center",e=o.checkSelectionAlignment(this,"htCenter");return e&&(t=o.markSelected(t)),t},callback:function(){h.call(this,this.getSelectedRange(),"horizontal","htCenter")},disabled:!1},{name:function(){var t="Right",e=o.checkSelectionAlignment(this,"htRight");return e&&(t=o.markSelected(t)),t},callback:function(){h.call(this,this.getSelectedRange(),"horizontal","htRight")},disabled:!1},{name:function(){var t="Justify",e=o.checkSelectionAlignment(this,"htJustify");return e&&(t=o.markSelected(t)),t},callback:function(){h.call(this,this.getSelectedRange(),"horizontal","htJustify")},disabled:!1},i.SEPARATOR,{name:function(){var t="Top",e=o.checkSelectionAlignment(this,"htTop");return e&&(t=o.markSelected(t)),t},callback:function(){h.call(this,this.getSelectedRange(),"vertical","htTop")},disabled:!1},{name:function(){var t="Middle",e=o.checkSelectionAlignment(this,"htMiddle");return e&&(t=o.markSelected(t)),t},callback:function(){h.call(this,this.getSelectedRange(),"vertical","htMiddle")},disabled:!1},{name:function(){var t="Bottom",e=o.checkSelectionAlignment(this,"htBottom");return e&&(t=o.markSelected(t)),t},callback:function(){h.call(this,this.getSelectedRange(),"vertical","htBottom")},disabled:!1}]}}]},o.options={},v.extend(o.options,this.options),this.bindMouseEvents(),this.markSelected=function(t){return"<span class='selected'>"+String.fromCharCode(10003)+"</span>"+t},this.checkSelectionAlignment=function(t,e){var n=!1;return t.getSelectedRange()&&t.getSelectedRange().forAll(function(i,o){var r=t.getCellMeta(i,o).className;return r&&-1!=r.indexOf(e)?(n=!0,!1):void 0}),n},!this.instance.getSettings().allowInsertRow){var s=r(this.defaultOptions.items,"row_above");this.defaultOptions.items.splice(s,1);var a=r(this.defaultOptions.items,"row_above");this.defaultOptions.items.splice(a,1),this.defaultOptions.items.splice(a,1)}if(!this.instance.getSettings().allowInsertColumn){var l=r(this.defaultOptions.items,"col_left");this.defaultOptions.items.splice(l,1);var u=r(this.defaultOptions.items,"col_right");this.defaultOptions.items.splice(u,1),this.defaultOptions.items.splice(u,1)}var c,d,f=!1,p=!1;this.instance.getSettings().allowRemoveRow||(c=r(this.defaultOptions.items,"remove_row"),this.defaultOptions.items.splice(c,1),f=!0),this.instance.getSettings().allowRemoveColumn||(d=r(this.defaultOptions.items,"remove_col"),this.defaultOptions.items.splice(d,1),p=!0),f&&p&&this.defaultOptions.items.splice(d,1),this.checkSelectionReadOnlyConsistency=function(t){var e=!1;return t.getSelectedRange()&&t.getSelectedRange().forAll(function(n,i){return t.getCellMeta(n,i).readOnly?(e=!0,!1):void 0}),e},Handsontable.hooks.run(t,"afterContextMenuDefaultOptions",this.defaultOptions)}function o(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n].key===e)return t[n]}function r(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n].key===e)return n}function s(){if(!this.rootElement.className.indexOf("htContextMenu")){for(var t=0,e=0,n=this.getSettings().data.length,o=parseInt(this.view.wt.wtTable.hider.style.width,10),r=0;n>r;r++)this.getSettings().data[r].name==i.SEPARATOR.name?t+=1:e+=26;this.view.wt.wtTable.holder.style.width=o+22+"px",this.view.wt.wtTable.holder.style.height=e+t+4+"px"}}function a(t,e){return-1!=t.indexOf(e)?t:(t=t.replace("htTop","").replace("htMiddle","").replace("htBottom","").replace("  ",""),t+=" "+e)}function l(t,e){return-1!=t.indexOf(e)?t:(t=t.replace("htLeft","").replace("htCenter","").replace("htRight","").replace("htJustify","").replace("  ",""),t+=" "+e)}function u(t){for(var e={},n=t.from.row;n<=t.to.row;n++)for(var i=t.from.col;i<=t.to.col;i++)e[n]||(e[n]=[]),e[n][i]=this.getCellMeta(n,i).className;return e}function c(t,e,n,i){var o=this.getCellMeta(t,e),r=i;o.className&&(r="vertical"===n?a(o.className,i):l(o.className,i)),this.setCellMeta(t,e,"className",r)}function h(t,e,n){var i=u.call(this,t);if(this.runHooks("beforeCellAlignment",i,t,e,n),t.from.row==t.to.row&&t.from.col==t.to.col)c.call(this,t.from.row,t.from.col,e,n);else for(var o=t.from.row;o<=t.to.row;o++)for(var r=t.from.col;r<=t.to.col;r++)c.call(this,o,r,e,n);this.render()}function d(){var t=this,e=t.getSettings().contextMenu,n=v.isObject(e)?e:{};e?(t.contextMenu||(t.contextMenu=new i(t,n)),t.contextMenu.enable()):t.contextMenu&&(t.contextMenu.destroy(),delete t.contextMenu)}Object.defineProperties(n,{ContextMenu:{get:function(){return i}},__esModule:{value:!0}});var f,p,m,g,v=(f=t("./../../helpers.js"),f&&f.__esModule&&f||{"default":f}),y=(p=t("./../../dom.js"),p&&p.__esModule&&p||{"default":p}),w=(m=t("./../../eventManager.js"),m&&m.__esModule&&m||{"default":m}).eventManager;(g=t("./../../plugins.js"),g&&g.__esModule&&g||{"default":g}).registerPlugin,i.prototype.createMenu=function(t,e){t&&(t=t.replace(/ /g,"_"),t="htContextSubMenu_"+t);var n;return n=t?document.querySelector(".htContextMenu."+t):document.querySelector(".htContextMenu"),n||(n=document.createElement("DIV"),y.addClass(n,"htContextMenu"),t&&y.addClass(n,t),document.getElementsByTagName("body")[0].appendChild(n)),this.menus.indexOf(n)<0&&(this.menus.push(n),e=e||0,this.triggerRows.push(e)),n},i.prototype.bindMouseEvents=function(){function t(t){function e(t){return"TD"===t.nodeName||"TD"===t.parentNode.nodeName}var n,o,r,s,a=this.instance.getSettings(),l=this.instance.getSettings().rowHeaders,u=this.instance.getSettings().colHeaders;if(o=t.realTarget,this.closeAll(),t.preventDefault(),v.stopPropagation(t),l||u){if(l&&u&&(n=o.parentNode.querySelectorAll(".cornerHeader").length>0))return}else if(!(e(o)||y.hasClass(o,"current")&&y.hasClass(o,"wtBorder")))return;s=this.createMenu(),r=this.getItems(a.contextMenu),this.show(s,r),this.setMenuPosition(t,s),this.eventManager.addEventListener(document.documentElement,"mousedown",v.proxy(i.prototype.closeAll,this))}var e=w(this.instance);e.addEventListener(this.instance.rootElement,"contextmenu",v.proxy(t,this))},i.prototype.bindTableEvents=function(){this._afterScrollCallback=function(){},this.instance.addHook("afterScrollVertically",this._afterScrollCallback),this.instance.addHook("afterScrollHorizontally",this._afterScrollCallback)},i.prototype.unbindTableEvents=function(){this._afterScrollCallback&&(this.instance.removeHook("afterScrollVertically",this._afterScrollCallback),this.instance.removeHook("afterScrollHorizontally",this._afterScrollCallback),this._afterScrollCallback=null)},i.prototype.performAction=function(t,e){var n=this,o=e.getSelected()[0],r=e.getData()[o];if(r.disabled!==!0&&("function"!=typeof r.disabled||r.disabled.call(this.instance)!==!0)&&!r.hasOwnProperty("submenu")){if("function"!=typeof r.callback)return;var s=this.instance.getSelectedRange();if(s){var a=i.utils.normalizeSelection(s);r.callback.call(this.instance,r.key,a,t),n.closeAll()}}},i.prototype.unbindMouseEvents=function(){this.eventManager.clear();var t=w(this.instance);t.removeEventListener(this.instance.rootElement,"contextmenu")},i.prototype.show=function(t,e){var n=this;t.removeAttribute("style"),t.style.display="block";var i={data:e,colHeaders:!1,colWidths:[200],autoRowSize:!1,readOnly:!0,copyPaste:!1,columns:[{data:"name",renderer:v.proxy(this.renderer,this)}],renderAllRows:!0,beforeKeyDown:function(t){n.onBeforeKeyDown(t,o)},afterOnCellMouseOver:function(t,e,i){n.onCellMouseOver(t,e,i,o)}},o=new Handsontable(t,i);o.isHotTableEnv=this.instance.isHotTableEnv,Handsontable.eventManager.isHotTableEnv=this.instance.isHotTableEnv,this.eventManager.removeEventListener(t,"mousedown"),this.eventManager.addEventListener(t,"mousedown",function(t){n.performAction(t,o)}),this.bindTableEvents(),o.listen(),this.htMenus[o.guid]=o,Handsontable.hooks.run(this.instance,"afterContextMenuShow",o)},i.prototype.close=function(t){this.hide(t),this.eventManager.clear(),this.unbindTableEvents(),this.instance.listen()},i.prototype.closeAll=function(){for(;this.menus.length>0;){var t=this.menus.pop();t&&this.close(t)}this.triggerRows=[]},i.prototype.closeLastOpenedSubMenu=function(){var t=this.menus.pop();t&&this.hide(t)},i.prototype.hide=function(t){t.style.display="none";var e=this.htMenus[t.id];Handsontable.hooks.run(this.instance,"afterContextMenuHide",e),e.destroy(),delete this.htMenus[t.id]},i.prototype.renderer=function(t,e,n,o,r,s){function a(t){return t.hasOwnProperty("submenu")}function l(t){return new RegExp(i.SEPARATOR.name,"i").test(t.name)}function u(t){return t.disabled===!0||"function"==typeof t.disabled&&t.disabled.call(c.instance)===!0}var c=this,h=t.getData()[n],d=document.createElement("DIV");"function"==typeof s&&(s=s.call(this.instance)),y.empty(e),e.appendChild(d),l(h)?y.addClass(e,"htSeparator"):y.fastInnerHTML(d,s),u(h)?(y.addClass(e,"htDisabled"),this.eventManager.addEventListener(d,"mouseenter",function(){t.deselectCell()})):a(h)?(y.addClass(e,"htSubmenu"),this.eventManager.addEventListener(d,"mouseenter",function(){t.selectCell(n,o)})):(y.removeClass(e,"htSubmenu"),y.removeClass(e,"htDisabled"),this.eventManager.addEventListener(d,"mouseenter",function(){t.selectCell(n,o)}))},i.prototype.onCellMouseOver=function(t,e,n,i){var o=this.menus.length;if(o>0){var r=this.menus[o-1];r.id!=i.guid&&this.closeLastOpenedSubMenu()}else this.closeLastOpenedSubMenu();if(-1!=n.className.indexOf("htSubmenu")){var s=i.getData()[e.row],a=this.getItems(s.submenu),l=this.createMenu(s.name,e.row),u=n.getBoundingClientRect();this.show(l,a),this.setSubMenuPosition(u,l)}},i.prototype.onBeforeKeyDown=function(t,e){function n(t){var e=t.getCell(0,0);i.utils.isSeparator(e)||i.utils.isDisabled(e)?r(0,0,t):t.selectCell(0,0)}function o(t){var e=t.countRows()-1,n=t.getCell(e,0);i.utils.isSeparator(n)||i.utils.isDisabled(n)?s(e,0,t):t.selectCell(e,0)}function r(t,e,n){var o=t+1,s=o<n.countRows()?n.getCell(o,e):null;s&&(i.utils.isSeparator(s)||i.utils.isDisabled(s)?r(o,e,n):n.selectCell(o,e))}function s(t,e,n){var o=t-1,r=o>=0?n.getCell(o,e):null;r&&(i.utils.isSeparator(r)||i.utils.isDisabled(r)?s(o,e,n):n.selectCell(o,e))}function a(t,e,n,i){var o=t.getData()[i],r=e.getItems(o.submenu),s=e.createMenu(o.name,i),a=n.getBoundingClientRect(),l=e.show(s,r);e.setSubMenuPosition(a,s),l.selectCell(0,0)}y.enableImmediatePropagation(t);var l=this,u=e.getSelected();switch(t.keyCode){case v.keyCode.ESCAPE:l.closeAll(),t.preventDefault(),t.stopImmediatePropagation();break;case v.keyCode.ENTER:u&&l.performAction(t,e);break;case v.keyCode.ARROW_DOWN:u?r(u[0],u[1],e,l):n(e,l),t.preventDefault(),t.stopImmediatePropagation();break;case v.keyCode.ARROW_UP:u?s(u[0],u[1],e,l):o(e,l),t.preventDefault(),t.stopImmediatePropagation();break;case v.keyCode.ARROW_RIGHT:if(u){var c=u[0],h=e.getCell(u[0],0);i.utils.hasSubMenu(h)&&a(e,l,h,c)}t.preventDefault(),t.stopImmediatePropagation();break;case v.keyCode.ARROW_LEFT:if(u){if(-1!=e.rootElement.className.indexOf("htContextSubMenu_")){l.closeLastOpenedSubMenu();var d=l.menus.length;if(d>0){var f=l.menus[d-1],p=l.triggerRows.pop();e=this.htMenus[f.id],e.selectCell(p,0)}}t.preventDefault(),t.stopImmediatePropagation()}}},i.prototype.getItems=function(t){function e(t){"string"==typeof t?this.name=t:v.extend(this,t)}var n,i;e.prototype=t,t&&t.items&&(t=t.items),t===!0&&(t=this.defaultOptions.items),n=[];for(var r in t)t.hasOwnProperty(r)&&(i="string"==typeof t[r]?o(this.defaultOptions.items,t[r]):o(this.defaultOptions.items,r),i||(i=t[r]),i=new e(i),"object"==typeof t[r]&&v.extend(i,t[r]),i.key||(i.key=r),n.push(i));return n},i.prototype.setSubMenuPosition=function(t,e){var n=y.getWindowScrollTop(),i=y.getWindowScrollLeft(),o={top:n+t.top,topRelative:t.top,left:t.left,leftRelative:t.left-i,scrollTop:n,scrollLeft:i,cellHeight:t.height,cellWidth:t.width};this.menuFitsBelowCursor(o,e,document.body.clientWidth)?this.positionMenuBelowCursor(o,e,!0):this.menuFitsAboveCursor(o,e)?this.positionMenuAboveCursor(o,e,!0):this.positionMenuBelowCursor(o,e,!0),this.menuFitsOnRightOfCursor(o,e,document.body.clientWidth)?this.positionMenuOnRightOfCursor(o,e,!0):this.positionMenuOnLeftOfCursor(o,e,!0)},i.prototype.setMenuPosition=function(t,e){var n=y.getWindowScrollTop(),i=y.getWindowScrollLeft(),o=t.pageY||t.clientY+n,r=t.pageX||t.clientX+i,s={top:o,topRelative:o-n,left:r,leftRelative:r-i,scrollTop:n,scrollLeft:i,cellHeight:t.target.clientHeight,cellWidth:t.target.clientWidth};this.menuFitsBelowCursor(s,e,document.body.clientHeight)?this.positionMenuBelowCursor(s,e):this.menuFitsAboveCursor(s,e)?this.positionMenuAboveCursor(s,e):this.positionMenuBelowCursor(s,e),this.menuFitsOnRightOfCursor(s,e,document.body.clientWidth)?this.positionMenuOnRightOfCursor(s,e):this.positionMenuOnLeftOfCursor(s,e)},i.prototype.menuFitsAboveCursor=function(t,e){return t.topRelative>=e.offsetHeight},i.prototype.menuFitsBelowCursor=function(t,e,n){return t.topRelative+e.offsetHeight<=n},i.prototype.menuFitsOnRightOfCursor=function(t,e,n){return t.leftRelative+e.offsetWidth<=n},i.prototype.positionMenuBelowCursor=function(t,e){e.style.top=t.top+"px"},i.prototype.positionMenuAboveCursor=function(t,e,n){n?e.style.top=t.top+t.cellHeight-e.offsetHeight+"px":e.style.top=t.top-e.offsetHeight+"px"},i.prototype.positionMenuOnRightOfCursor=function(t,e,n){n?e.style.left=1+t.left+t.cellWidth+"px":e.style.left=1+t.left+"px"},i.prototype.positionMenuOnLeftOfCursor=function(t,e,n){n?e.style.left=t.left-e.offsetWidth+"px":e.style.left=t.left-e.offsetWidth+"px"},i.utils={},i.utils.normalizeSelection=function(t){return{start:t.getTopLeftCorner(),end:t.getBottomRightCorner()}},i.utils.isSeparator=function(t){return y.hasClass(t,"htSeparator")},i.utils.hasSubMenu=function(t){return y.hasClass(t,"htSubmenu")},i.utils.isDisabled=function(t){return y.hasClass(t,"htDisabled")},i.prototype.enable=function(){this.enabled||(this.enabled=!0,this.bindMouseEvents())},i.prototype.disable=function(){this.enabled&&(this.enabled=!1,this.closeAll(),this.unbindMouseEvents(),this.unbindTableEvents())},i.prototype.destroy=function(){for(this.closeAll();this.menus.length>0;){var t=this.menus.pop();this.triggerRows.pop(),t&&(this.close(t),this.isMenuEnabledByOtherHotInstance()||this.removeMenu(t))}this.unbindMouseEvents(),this.unbindTableEvents()},i.prototype.isMenuEnabledByOtherHotInstance=function(){for(var t=document.querySelectorAll(".handsontable"),e=!1,n=0,i=t.length;i>n;n++){var o=this.htMenus[t[n].id];if(o&&o.getSettings().contextMenu){e=!0;break}}return e},i.prototype.removeMenu=function(t){t.parentNode&&this.menu.parentNode.removeChild(t)},i.prototype.align=function(t,e,n){h.call(this,t,e,n)},i.SEPARATOR={name:"---------"},Handsontable.hooks.add("afterInit",d),Handsontable.hooks.add("afterUpdateSettings",d),Handsontable.hooks.add("afterInit",s),Handsontable.hooks.register("afterContextMenuDefaultOptions"),Handsontable.hooks.register("afterContextMenuShow"),Handsontable.hooks.register("afterContextMenuHide"),Handsontable.ContextMenu=i},{"./../../dom.js":27,"./../../eventManager.js":41,"./../../helpers.js":42,"./../../plugins.js":45}],54:[function(t,e,n){"use strict";Object.defineProperties(n,{ContextMenuCopyPaste:{get:function(){return f}},__esModule:{value:!0}});var i,o,r,s,a,l=(i=t("./../../dom.js"),i&&i.__esModule&&i||{"default":i}),u=(o=t("./../../eventManager.js"),o&&o.__esModule&&o||{"default":o}).eventManager,c=(r=t("./../../plugins.js"),r&&r.__esModule&&r||{"default":r}).registerPlugin,h=(s=t("./../_base.js"),s&&s.__esModule&&s||{"default":s})["default"],d=(a=t("zeroclipboard"),a&&a.__esModule&&a||{"default":a})["default"],f=function(t){var e=this;$traceurRuntime.superConstructor(p).call(this,t),this.swfPath=null,this.hotContextMenu=null,this.outsideClickDeselectsCache=null,this.hot.addHook("afterContextMenuShow",function(t){return e.setupZeroClipboard(t)}),this.hot.addHook("afterInit",function(){return e.afterInit()}),this.hot.addHook("afterContextMenuDefaultOptions",function(t){return e.addToContextMenu(t)})},p=f;$traceurRuntime.createClass(f,{afterInit:function(){if(this.hot.getSettings().contextMenuCopyPaste){"object"==typeof this.hot.getSettings().contextMenuCopyPaste&&(this.swfPath=this.hot.getSettings().contextMenuCopyPaste.swfPath),"undefined"==typeof d&&console.error("To be able to use the Copy/Paste feature from the context menu, you need to manualy include ZeroClipboard.js file to your website.");try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(t){"undefined"==typeof navigator.mimeTypes["application/x-shockwave-flash"]&&console.error("To be able to use the Copy/Paste feature from the context menu, your browser needs to have Flash Plugin installed.")}this.prepareZeroClipboard()}},prepareZeroClipboard:function(){this.swfPath&&d.config({swfPath:this.swfPath})},getCopyValue:function(){return this.hot.copyPaste.setCopyableText(),this.hot.copyPaste.copyPasteInstance.elTextarea.value},addToContextMenu:function(t){this.hot.getSettings().contextMenuCopyPaste&&t.items.unshift({key:"copy",name:"Copy"},{key:"paste",name:"Paste",callback:function(){this.copyPaste.triggerPaste()}},Handsontable.ContextMenu.SEPARATOR)},setupZeroClipboard:function(t){var e,n,i=this;if(this.hot.getSettings().contextMenuCopyPaste){this.hotContextMenu=t,e=this.hotContextMenu.getData();for(var o=0,r=e.length;r>o;o++)if("copy"===e[o].key){n=new d(this.hotContextMenu.getCell(o,0)),n.off(),n.on("copy",function(t){var e=t.clipboardData;e.setData("text/plain",i.getCopyValue()),i.hot.getSettings().outsideClickDeselects=i.outsideClickDeselectsCache}),this.bindEvents();break}}},removeCurrentClass:function(){if(this.hotContextMenu.rootElement){var t=this.hotContextMenu.rootElement.querySelector("td.current");t&&l.removeClass(t,"current")}this.outsideClickDeselectsCache=this.hot.getSettings().outsideClickDeselects,this.hot.getSettings().outsideClickDeselects=!1},removeZeroClipboardClass:function(){if(this.hotContextMenu.rootElement){var t=this.hotContextMenu.rootElement.querySelector("td.zeroclipboard-is-hover");t&&l.removeClass(t,"zeroclipboard-is-hover")}this.hot.getSettings().outsideClickDeselects=this.outsideClickDeselectsCache},bindEvents:function(){var t=this,e=u(this.hotContextMenu);e.addEventListener(document,"mouseenter",function(){return t.removeCurrentClass()}),e.addEventListener(document,"mouseleave",function(){return t.removeZeroClipboardClass()})}},{},h),c("contextMenuCopyPaste",f)},{"./../../dom.js":27,"./../../eventManager.js":41,"./../../plugins.js":45,"./../_base.js":46,zeroclipboard:"zeroclipboard"}],55:[function(t,e,n){"use strict";function i(t){function e(){t.isListening()&&t.selection.empty()}function n(e){var n,i,o,r,s,a,l,u,c,h;t.isListening()&&t.selection.isSelected()&&(n=e,i=f.parse(n),o=t.getSelected(),r=new p(o[0],o[1]),s=new p(o[2],o[3]),a=new m(r,r,s),l=a.getTopLeftCorner(),u=a.getBottomRightCorner(),c=l,h=new p(Math.max(u.row,i.length-1+l.row),Math.max(u.col,i[0].length-1+l.col)),t.addHookOnce("afterChange",function(t,e){t&&t.length&&this.selectCell(c.row,c.col,h.row,h.col)}),t.populateFromArray(c.row,c.col,i,h.row,h.col,"paste",t.getSettings().pasteMode))}function i(e){if(t.getSelected()&&(!t.getActiveEditor()||!t.getActiveEditor().isOpened())){if(h.isCtrlKey(e.keyCode))return o.setCopyableText(),void e.stopImmediatePropagation();var n=(e.ctrlKey||e.metaKey)&&!e.altKey;e.keyCode==h.keyCode.A&&n&&t._registerTimeout(setTimeout(h.proxy(o.setCopyableText,o),0))}}var o=this;this.copyPasteInstance=d(),this.copyPasteInstance.onCut(e),this.copyPasteInstance.onPaste(n),t.addHook("beforeKeyDown",i),this.destroy=function(){this.copyPasteInstance&&(this.copyPasteInstance.removeCallback(e),this.copyPasteInstance.removeCallback(n),this.copyPasteInstance.destroy(),this.copyPasteInstance=null),t.removeHook("beforeKeyDown",i)},t.addHook("afterDestroy",h.proxy(this.destroy,this)),this.triggerPaste=h.proxy(this.copyPasteInstance.triggerPaste,this.copyPasteInstance),this.triggerCut=h.proxy(this.copyPasteInstance.triggerCut,this.copyPasteInstance),this.setCopyableText=function(){var e=t.getSettings(),n=e.copyRowsLimit,i=e.copyColsLimit,o=t.getSelectedRange(),r=o.getTopLeftCorner(),s=o.getBottomRightCorner(),a=r.row,l=r.col,u=s.row,c=s.col,h=Math.min(u,a+n-1),d=Math.min(c,l+i-1);t.copyPaste.copyPasteInstance.copyable(t.getCopyableData(a,l,h,d)),(u!==h||c!==d)&&Handsontable.hooks.run(t,"afterCopyLimit",u-a+1,c-l+1,n,i)}}function o(){var t=this,e=t.getSettings().copyPaste!==!1;e&&!t.copyPaste?t.copyPaste=new i(t):!e&&t.copyPaste&&(t.copyPaste.destroy(),t.copyPaste=null)}Object.defineProperties(n,{CopyPastePlugin:{get:function(){return i}},__esModule:{value:!0}});var r,s,a,l,u,c,h=(r=t("./../../helpers.js"),r&&r.__esModule&&r||{"default":r}),d=(s=t("copyPaste"),s&&s.__esModule&&s||{"default":s})["default"],f=(a=t("SheetClip"),a&&a.__esModule&&a||{"default":a})["default"],p=((l=t("./../../plugins.js"),l&&l.__esModule&&l||{"default":l}).registerPlugin,(u=t("./../../3rdparty/walkontable/src/cell/coords.js"),u&&u.__esModule&&u||{"default":u}).WalkontableCellCoords),m=(c=t("./../../3rdparty/walkontable/src/cell/range.js"),c&&c.__esModule&&c||{"default":c}).WalkontableCellRange;Handsontable.hooks.add("afterInit",o),Handsontable.hooks.add("afterUpdateSettings",o),Handsontable.hooks.register("afterCopyLimit")},{"./../../3rdparty/walkontable/src/cell/coords.js":5,"./../../3rdparty/walkontable/src/cell/range.js":6,"./../../helpers.js":42,"./../../plugins.js":45,SheetClip:"SheetClip",copyPaste:"copyPaste"}],56:[function(t,e,n){"use strict";function i(){}var o,r,s,a,l=((o=t("./../../plugins.js"),o&&o.__esModule&&o||{"default":o}).registerPlugin,(r=t("./../../3rdparty/walkontable/src/cell/range.js"),r&&r.__esModule&&r||{"default":r}).WalkontableCellRange),u=(s=t("./../../3rdparty/walkontable/src/selection.js"),s&&s.__esModule&&s||{"default":s}).WalkontableSelection,c=function(t){return"boolean"==typeof t&&t===!0?!0:"object"==typeof t&&t.length>0?!0:!1},h=function(){c(this.getSettings().customBorders)&&(this.customBorders||(a=this,this.customBorders=new i))},d=function(t){for(var e=0;e<a.view.wt.selections.length;e++)if(a.view.wt.selections[e].settings.className==t)return e;return-1},f=function(t){var e={row:t.row,col:t.col},n=new u(t,new l(e,e,e)),i=d(t.className);i>=0?a.view.wt.selections[i]=n:a.view.wt.selections.push(n)},p=function(t,e,n){var i=b(t,e);i=C(i,n),this.setCellMeta(t,e,"borders",i),f(i)},m=function(t){for(var e=t.range,n=e.from.row;n<=e.to.row;n++)for(var i=e.from.col;i<=e.to.col;i++){var o=b(n,i),r=0;n==e.from.row&&(r++,t.hasOwnProperty("top")&&(o.top=t.top)),n==e.to.row&&(r++,t.hasOwnProperty("bottom")&&(o.bottom=t.bottom)),i==e.from.col&&(r++,t.hasOwnProperty("left")&&(o.left=t.left)),i==e.to.col&&(r++,t.hasOwnProperty("right")&&(o.right=t.right)),r>0&&(this.setCellMeta(n,i,"borders",o),f(o))}},g=function(t,e){return"border_row"+t+"col"+e},v=function(){return{width:1,color:"#000"}},y=function(){return{hide:!0}},w=function(){return{width:1,color:"#000",cornerVisible:!1}},b=function(t,e){return{className:g(t,e),border:w(),row:t,col:e,top:y(),right:y(),bottom:y(),left:y()}},C=function(t,e){return e.hasOwnProperty("border")&&(t.border=e.border),e.hasOwnProperty("top")&&(t.top=e.top),e.hasOwnProperty("right")&&(t.right=e.right),e.hasOwnProperty("bottom")&&(t.bottom=e.bottom),e.hasOwnProperty("left")&&(t.left=e.left),t},k=function(t){for(var e=document.querySelectorAll("."+t),n=0;n<e.length;n++)if(e[n]&&"TD"!=e[n].nodeName){var i=e[n].parentNode;i.parentNode&&i.parentNode.removeChild(i)}},x=function(t,e){var n=g(t,e);k(n),this.removeCellMeta(t,e,"borders")},_=function(t,e,n,i){var o=this.getCellMeta(t,e).borders;o&&void 0!=o.border||(o=b(t,e)),i?o[n]=y():o[n]=v(),this.setCellMeta(t,e,"borders",o);var r=g(t,e);k(r),f(o),this.render()},T=function(t,e,n){if(t.from.row==t.to.row&&t.from.col==t.to.col)"noBorders"==e?x.call(this,t.from.row,t.from.col):_.call(this,t.from.row,t.from.col,e,n);else switch(e){case"noBorders":for(var i=t.from.col;i<=t.to.col;i++)for(var o=t.from.row;o<=t.to.row;o++)x.call(this,o,i);break;case"top":for(var r=t.from.col;r<=t.to.col;r++)_.call(this,t.from.row,r,e,n);break;case"right":for(var s=t.from.row;s<=t.to.row;s++)_.call(this,s,t.to.col,e);break;case"bottom":for(var a=t.from.col;a<=t.to.col;a++)_.call(this,t.to.row,a,e);break;case"left":for(var l=t.from.row;l<=t.to.row;l++)_.call(this,l,t.from.col,e)}},S=function(t,e){var n=!1;return t.getSelectedRange().forAll(function(i,o){var r=t.getCellMeta(i,o).borders;if(r){if(!e)return n=!0,!1;if(!r[e].hasOwnProperty("hide"))return n=!0,!1}}),n},E=function(t){return"<span class='selected'>"+String.fromCharCode(10003)+"</span>"+t},D=function(t){this.getSettings().customBorders&&(t.items.push(Handsontable.ContextMenu.SEPARATOR),t.items.push({key:"borders",name:"Borders",submenu:{items:{top:{name:function(){var t="Top",e=S(this,"top");return e&&(t=E(t)),t},callback:function(){var t=S(this,"top");T.call(this,this.getSelectedRange(),"top",t)},disabled:!1},right:{name:function(){var t="Right",e=S(this,"right");return e&&(t=E(t)),t},callback:function(){var t=S(this,"right");T.call(this,this.getSelectedRange(),"right",t)},disabled:!1},bottom:{name:function(){var t="Bottom",e=S(this,"bottom");return e&&(t=E(t)),t},callback:function(){var t=S(this,"bottom");T.call(this,this.getSelectedRange(),"bottom",t)},disabled:!1},left:{name:function(){var t="Left",e=S(this,"left");return e&&(t=E(t)),t},callback:function(){var t=S(this,"left");T.call(this,this.getSelectedRange(),"left",t)},disabled:!1},remove:{name:"Remove border(s)",callback:function(){T.call(this,this.getSelectedRange(),"noBorders")},disabled:function(){return!S(this)}}}}}))};Handsontable.hooks.add("beforeInit",h),Handsontable.hooks.add("afterContextMenuDefaultOptions",D),Handsontable.hooks.add("afterInit",function(){var t=this.getSettings().customBorders;if(t){for(var e=0;e<t.length;e++)t[e].range?m.call(this,t[e]):p.call(this,t[e].row,t[e].col,t[e]);this.render(),this.view.wt.draw(!0)}}),Handsontable.CustomBorders=i},{"./../../3rdparty/walkontable/src/cell/range.js":6,"./../../3rdparty/walkontable/src/selection.js":18,"./../../plugins.js":45}],57:[function(t,e,n){"use strict";function i(){this.boundaries=null,this.callback=null}Object.defineProperties(n,{DragToScroll:{get:function(){return i}},__esModule:{value:!0}});var o,r,s=(o=t("./../../eventManager.js"),o&&o.__esModule&&o||{"default":o}).eventManager;(r=t("./../../plugins.js"),r&&r.__esModule&&r||{"default":r}).registerPlugin,Handsontable.plugins.DragToScroll=i,i.prototype.setBoundaries=function(t){this.boundaries=t},i.prototype.setCallback=function(t){this.callback=t},i.prototype.check=function(t,e){var n=0,i=0;e<this.boundaries.top?i=e-this.boundaries.top:e>this.boundaries.bottom&&(i=e-this.boundaries.bottom),t<this.boundaries.left?n=t-this.boundaries.left:t>this.boundaries.right&&(n=t-this.boundaries.right),this.callback(n,i)};var a,l=function(t){t.dragToScrollListening=!1;var e=t.view.wt.wtTable.holder;a=new i,e!==window&&(a.setBoundaries(e.getBoundingClientRect()),a.setCallback(function(t,n){0>t?e.scrollLeft-=50:t>0&&(e.scrollLeft+=50),0>n?e.scrollTop-=20:n>0&&(e.scrollTop+=20)}),t.dragToScrollListening=!0)};Handsontable.hooks.add("afterInit",function(){var t=this,e=s(this);e.addEventListener(document,"mouseup",function(){t.dragToScrollListening=!1}),e.addEventListener(document,"mousemove",function(e){t.dragToScrollListening&&a.check(e.clientX,e.clientY)})}),Handsontable.hooks.add("afterDestroy",function(){s(this).clear()}),Handsontable.hooks.add("afterOnCellMouseDown",function(){l(this)}),Handsontable.hooks.add("afterOnCellCornerMouseDown",function(){l(this)}),Handsontable.plugins.DragToScroll=i},{"./../../eventManager.js":41,"./../../plugins.js":45}],58:[function(t,e,n){"use strict";function i(t){var e=[],n={rows:0,cols:0},i={rows:0,cols:0},o=[],r=[],a={groupIndicatorContainer:"htGroupIndicatorContainer",groupIndicator:function(t){return"ht"+t+"Group"},groupStart:"htGroupStart",collapseButton:"htCollapseButton",expandButton:"htExpandButton",collapseGroupId:function(t){return"htCollapse-"+t},collapseFromLevel:function(t,e){return"htCollapse"+t+"FromLevel-"+e},clickable:"clickable",levelTrigger:"htGroupLevelTrigger"},u=function(t,e){return function(n,i){return"undefined"==typeof e||"asc"===e?n[t]-i[t]:i[t]-n[t]}},c=function(t,e){for(var n=[];e>=t;)n.push(t++);return n},h=function(t,e,n){var i=[],o={row:null,col:null};if("cols"==t)for(;n>=e;)o={row:-1,col:e++},i.push(o);else for(;n>=e;)o={row:e++,col:-1},i.push(o);for(var r=d(i),s=0,a=0,l=0;l<r.length;l++)s+=r[l].filter(function(t){return t.rows}).length,a+=r[l].filter(function(t){return t.cols}).length;return{total:{rows:s,cols:a},groups:r}},d=function(t){for(var e=[],n=0;n<t.length;n++)e.push(f(t[n]));return e},f=function(t,n,i){for(var o=t.row,r=t.col,s=-1===o?0:o,a=-1===r?0:r,l=[],u=0;u<e.length;u++){var c=e[u],h=c.id,d=(c.level,c.rows||[]),f=c.cols||[];-1===l.indexOf(h)&&(-1!==d.indexOf(s)||-1!==f.indexOf(a))&&l.push(c)}-1===r?l=l.concat(v()):-1===o&&(l=l.concat(w())),n&&(l=l.filter(function(t){return t.level===n})),i&&("cols"===i?l=l.filter(function(t){return t.cols}):"rows"===i&&(l=l.filter(function(t){return t.rows})));var p=[];return l.filter(function(t){return-1===p.indexOf(t.id)?(p.push(t.id),t):void 0})},p=function(t){for(var n=0,i=e.length;i>n;n++)if(e[n].id==t)return e[n];return!1},m=function(t,n){for(var i=0,o=e.length;o>i;i++)if(e[i].level==n&&e[i].rows&&e[i].rows.indexOf(t)>-1)return e[i];return!1},g=function(t,n){for(var i=0,o=e.length;o>i;i++)if(e[i].level==n&&e[i].cols&&e[i].cols.indexOf(t)>-1)return e[i];return!1},v=function(){for(var t=[],n=0,i=e.length;i>n;n++)Array.isArray(e[n].cols)&&t.push(e[n]);return t},y=function(t){for(var n=[],i=0,o=e.length;o>i;i++)e[i].cols&&e[i].level===t&&n.push(e[i]);return n},w=function(){for(var t=[],n=0,i=e.length;i>n;n++)Array.isArray(e[n].rows)&&t.push(e[n]);return t},b=function(t){for(var n=[],i=0,o=e.length;o>i;i++)e[i].rows&&e[i].level===t&&n.push(e[i]);return n},C=function(t){var e=0;return t.length&&t.forEach(function(t){if(t=t.filter(function(t){return t.cols}),t.length){var n=t.sort(u("level","desc")),i=n[0].level;i>e&&(e=i)}}),e},k=function(t){var e=0;return t.length&&t.forEach(function(t){if(t=t.filter(function(t){return t.rows}),t.length){var n=t.sort(u("level","desc")),i=n[0].level;i>e&&(e=i)}}),e},x=function(t,o){var r=h("cols",t,o),s=C(r.groups);s===i.cols?i.cols++:s>i.cols&&(i.cols=s+1),n.cols||(n.cols=v().length),n.cols++,e.push({id:"c"+n.cols,level:s+1,cols:c(t,o),hidden:0})},_=function(t,o){var r=h("rows",t,o),s=k(r.groups);i.rows=Math.max(i.rows,s+1),n.rows||(n.rows=w().length),n.rows++,e.push({id:"r"+n.rows,level:s+1,rows:c(t,o),hidden:0})},T=function(t,e){for(var n,i=0,s=e.length;s>i;i++)if(e[i].hidden=t,n=e[i].level,o[n]||(o[n]=[]),r[n]||(r[n]=[]),e[i].rows)for(var a=0,l=e[i].rows.length;l>a;a++)t>0?o[n][e[i].rows[a]]=!0:o[n][e[i].rows[a]]=void 0;else if(e[i].cols)for(var a=0,u=e[i].cols.length;u>a;a++)t>0?r[n][e[i].cols[a]]=!0:r[n][e[i].cols[a]]=void 0},S=function(t,e,n,i){var o,r;switch(t){case"rows":o=m(e+1,n).id,r=Handsontable.Grouping.getGroupLevelsByRows();break;case"cols":o=g(e+1,n).id,r=Handsontable.Grouping.getGroupLevelsByCols()}return!!(r[e+1]&&r[e+1].indexOf(n)>-1&&i==o)},E=function(t,e,n,i){
var o,r;switch(t){case"rows":o=m(e-1,n).id,r=Handsontable.Grouping.getGroupLevelsByRows();break;case"cols":o=g(e-1,n).id,r=Handsontable.Grouping.getGroupLevelsByCols()}return!!(r[e-1]&&r[e-1].indexOf(n)>-1&&i==o)},D=function(e,n,s,a){if(0===n)return!1;var l,u,c=E(e,n,s,a),h=S(e,n,s,a),d=!1;switch(e){case"rows":l=Handsontable.Grouping.getGroupLevelsByRows(),u=t.countRows();for(var f=0;f<=i.rows;f++)if(o[f]&&o[f][n+1]){d=!0;break}break;case"cols":l=Handsontable.Grouping.getGroupLevelsByCols(),u=t.countCols();for(var f=0;f<=i.cols;f++)if(r[f]&&r[f][n+1]){d=!0;break}}if(c){if(n==u-1)return!0;if(!h||h&&d)return!0;if(!l[n+1])return!0}return!1},R=function(e){var n;switch(e){case"rows":n=i.rows;for(var s=0;n>=s;s++)if(o[s]&&o[s][t.countRows()-1])return!0;break;case"cols":n=i.cols;for(var s=0;n>=s;s++)if(r[s]&&r[s][t.countCols()-1])return!0}return!1},M=function(e,n,s,a){var l,u,c,h=p(a),d=!1,f=function(t){for(var e=!1,s="rows"==t?o:r,a=0;a<=i[t];a++){for(c=n;h[t].indexOf(c)>-1;)e=!(!s[a]||!s[a][c]),c--;if(e)break}return e},m=E(e,n,s,a),g=S(e,n,s,a);switch(e){case"rows":l=Handsontable.Grouping.getGroupLevelsByRows(),u=t.countRows(),d=f(e);break;case"cols":l=Handsontable.Grouping.getGroupLevelsByCols(),u=t.countCols(),d=f(e)}if(n==u-1)return!1;if(0===n){if(g)return!0}else if(!m||m&&d){if(g)return!0}else if(!l[n-1]&&g)return!0;return!1},A=function(t,e,n,i,o){var r;switch(t){case"rows":r=m(e-1,n).id;break;case"cols":r=g(e-1,n).id}if(!r)return null;if(e>0&&E(t,e-1,n,r)&&r!=i){var l=document.createElement("DIV");return s.addClass(l,a.expandButton),l.id="htExpand-"+r,l.appendChild(document.createTextNode("+")),l.setAttribute("data-level",n),l.setAttribute("data-type",t),l.setAttribute("data-hidden","1"),o.appendChild(l),l}return null},O=function(t){for(var e=w(),n=v(),i=0,o=e.length;o>i;i++)if(e[i].rows.indexOf(t.row)>-1&&e[i].hidden)return!0;if(null===t.col)return!1;for(var i=0,r=n.length;r>i;i++)if(n[i].cols.indexOf(t.col)>-1&&n[i].hidden)return!0;return!1};return{getGroups:function(){return e},getLevels:function(){return i},instance:t,baseSpareRows:t.getSettings().minSpareRows,baseSpareCols:t.getSettings().minSpareCols,getRowGroups:w,getColGroups:v,init:function(){var e=t.getSettings().groups;e&&Array.isArray(e)&&Handsontable.Grouping.initGroups(e)},initGroups:function(t){e=[],t.forEach(function(t){var e=[],n=!1,i=!1;Array.isArray(t.rows)?(e=t.rows,n=!0):Array.isArray(t.cols)&&(e=t.cols,i=!0);var o=e[0],r=e[e.length-1];n?_(o,r):i&&x(o,r)})},resetGroups:function(){e=[],n={rows:0,cols:0},i={rows:0,cols:0};var t;for(var o in a)if("function"!=typeof a[o]){t=document.querySelectorAll("."+a[o]);for(var r=0,l=t.length;l>r;r++)s.removeClass(t[r],a[o])}for(var u=["htGroupColClosest","htGroupCol"],o=0,c=u.length;c>o;o++){t=document.querySelectorAll("."+u[o]);for(var r=0,l=t.length;l>r;r++)s.removeClass(t[r],u[o])}},updateGroups:function(){var t=this.getSettings().groups;Handsontable.Grouping.resetGroups(),Handsontable.Grouping.initGroups(t)},afterGetRowHeader:function(t,e){if(e.parentNode){for(var n=!1,i=0,r=o.length;r>i;i++)o[i]&&o[i][t]===!0&&(n=!0);n?s.addClass(e.parentNode,"hidden"):!n&&s.hasClass(e.parentNode,"hidden")&&s.removeClass(e.parentNode,"hidden")}},afterGetColHeader:function(e,n){var i=this.view.wt.wtSettings.getSetting("rowHeaders").length,o=t.rootElement.querySelectorAll("colgroup col:nth-child("+parseInt(e+i+1,10)+")");if(0!==o.length){for(var a=!1,l=0,u=r.length;u>l;l++)r[l]&&r[l][e]===!0&&(a=!0);if(a)for(var l=0,c=o.length;c>l;l++)s.addClass(o[l],"hidden");else if(!a&&s.hasClass(o[0],"hidden"))for(var l=0,c=o.length;c>l;l++)s.removeClass(o[l],"hidden")}},groupIndicatorsFactory:function(t,e){var o,r,u,c,h,d,f,p;switch(e){case"horizontal":o=Handsontable.Grouping.getGroupLevelsByCols(),r=function(t){return Array.prototype.indexOf.call(t.parentNode.parentNode.childNodes,t.parentNode)+1},u=function(t,e){return g(t,e).id},c="cols",h=function(t,e){return g(t-1,e)},d="columnHeaders",f=function(t){if(1===t.length){var e=t[0];t[0]=function(t,n,i){-1>t?y()(t,n,i):(s.removeClass(n,a.groupIndicatorContainer),e(t,n,i))}}return function(){return t}},p=!0;break;case"vertical":o=Handsontable.Grouping.getGroupLevelsByRows(),r=function(t){return s.index(t)+1},u=function(t,e){return m(t,e).id},c="rows",h=function(t,e){return m(t-1,e)},d="rowHeaders",f=function(t){return t}}var v=function(t){var e=document.createElement("div");return t.appendChild(e),{button:e,addClass:function(t){s.addClass(e,t)}}},y=function(){var t=e.charAt(0).toUpperCase()+e.slice(1);return function(e,n,i){i++;for(var r,d;r=n.lastChild;)n.removeChild(r);s.addClass(n,a.groupIndicatorContainer);var f=u(e,i);if(e>-1&&o[e]&&o[e].indexOf(i)>-1&&(d=v(n),d.addClass(a.groupIndicator(t)),M(c,e,i,f)&&d.addClass(a.groupStart),D(c,e,i,f)&&(d.button.appendChild(document.createTextNode("-")),d.addClass(a.collapseButton),d.button.id=a.collapseGroupId(f),d.button.setAttribute("data-level",i),d.button.setAttribute("data-type",c))),p){var m=s.index(n.parentNode);if(-1===e||-1>e&&m===Handsontable.Grouping.getLevels().cols+1||0===m&&0===Handsontable.Grouping.getLevels().cols)if(d=v(n),d.addClass(a.levelTrigger),-1===e)d.button.id=a.collapseFromLevel("Cols",i),d.button.appendChild(document.createTextNode(i));else if(-1>e&&m===Handsontable.Grouping.getLevels().cols+1||0===m&&0===Handsontable.Grouping.getLevels().cols){var g=s.index(n)+1;d.button.id=a.collapseFromLevel("Rows",g),d.button.appendChild(document.createTextNode(g))}}var y=A(c,e,i,f,n);if(e>0){var w=h(e-1,i);y&&w.hidden&&s.addClass(y,a.clickable)}l()}};if(t=f(t),n[c]>0)for(var w=0;w<i[c]+1;w++)Array.isArray(t)||(t="function"==typeof t?t():new Array(t)),t.unshift(y())},getGroupLevelsByRows:function(){for(var t=w(),e=[],n=0,i=t.length;i>n;n++)if(t[n].rows)for(var o=0,r=t[n].rows.length;r>o;o++)e[t[n].rows[o]]||(e[t[n].rows[o]]=[]),e[t[n].rows[o]].push(t[n].level);return e},getGroupLevelsByCols:function(){for(var t=v(),e=[],n=0,i=t.length;i>n;n++)if(t[n].cols)for(var o=0,r=t[n].cols.length;r>o;o++)e[t[n].cols[o]]||(e[t[n].cols[o]]=[]),e[t[n].cols[o]].push(t[n].level);return e},toggleGroupVisibility:function(e,n,o){if(s.hasClass(e.target,a.expandButton)||s.hasClass(e.target,a.collapseButton)||s.hasClass(e.target,a.levelTrigger)){var r,l,u,c,h=e.target,d=h.id.split("-"),f=[],m=function(t){t&&(h=t),d=h.id.split("-"),r=d[1],l=parseInt(h.getAttribute("data-level"),10),u=h.getAttribute("data-type"),c=parseInt(h.getAttribute("data-hidden")),c=isNaN(c)?1:c?0:1,h.setAttribute("data-hidden",c.toString()),f.push(p(r))};if(h.className.indexOf(a.levelTrigger)>-1){for(var g,v=[],w=[],C=h.id.indexOf("Rows")>-1?"rows":"cols",k=1,x=i[C];x>=k;k++)if(g="rows"==C?b(k):y(k),k>=parseInt(d[1],10))for(var _=0,S=g.length;S>_;_++)w.push(g[_]);else for(var _=0,S=g.length;S>_;_++)v.push(g[_]);T(!0,w),T(!1,v)}else m(),T(c,f);u=u||C;var E=R(u),D=u.charAt(0).toUpperCase()+u.slice(1),M=Handsontable.Grouping["baseSpare"+D];E?0==M&&(t.alter("insert_"+u.slice(0,-1),t["count"+D]()),Handsontable.Grouping["dummy"+u.slice(0,-1)]=!0):0==M&&Handsontable.Grouping["dummy"+u.slice(0,-1)]&&(t.alter("remove_"+u.slice(0,-1),t["count"+D]()-1),Handsontable.Grouping["dummy"+u.slice(0,-1)]=!1),t.render(),e.stopImmediatePropagation()}},modifySelectionFactory:function(t){var e,n=this.instance,i=new WalkontableCellCoords(0,0),o=function(t,e){var n=0;switch(t){case"down":for(;O(e);)n++,e.row+=1;break;case"up":for(;O(e);)n--,e.row-=1;break;case"right":for(;O(e);)n++,e.col+=1;break;case"left":for(;O(e);)n--,e.col-=1}return n},r=function(t,e){t.row>0?O(e)&&(t.row+=o("down",e)):t.row<0&&O(e)&&(t.row+=o("up",e)),t.col>0?O(e)&&(t.col+=o("right",e)):t.col<0&&O(e)&&(t.col+=o("left",e))};switch(t){case"start":return function(t){e=n.getSelected(),i.row=e[0]+t.row,i.col=e[1]+t.col,r(t,i)};case"end":return function(t){e=n.getSelected(),i.row=e[2]+t.row,i.col=e[3]+t.col,r(t,i)}}},modifyRowHeight:function(e,n){return t.view.wt.wtTable.rowFilter&&O({row:n,col:null})?0:void 0},validateGroups:function(){for(var e=function(t,e){return t[0]<e[0]&&t[1]<e[1]&&e[0]<=t[1]||t[0]>e[0]&&e[1]<t[1]&&t[0]<=e[1]?!0:void 0},n=t.getSettings().groups,i=[],o=[],r=0,s=n.length;s>r;r++)if(n[r].rows){if(1===n[r].rows.length)throw new Error("Grouping error:  Group {"+n[r].rows[0]+"} is invalid. Cannot define single-entry groups.");if(0===n[r].rows.length)throw new Error("Grouping error:  Cannot define empty groups.");o.push(n[r].rows);for(var a=0,l=o.length;l>a;a++)if(e(n[r].rows,o[a]))throw new Error("Grouping error:  ranges {"+n[r].rows[0]+", "+n[r].rows[1]+"} and {"+o[a][0]+", "+o[a][1]+"} are overlapping.")}else if(n[r].cols){if(1===n[r].cols.length)throw new Error("Grouping error:  Group {"+n[r].cols[0]+"} is invalid. Cannot define single-entry groups.");if(0===n[r].cols.length)throw new Error("Grouping error:  Cannot define empty groups.");i.push(n[r].cols);for(var a=0,u=i.length;u>a;a++)if(e(n[r].cols,i[a]))throw new Error("Grouping error:  ranges {"+n[r].cols[0]+", "+n[r].cols[1]+"} and {"+i[a][0]+", "+i[a][1]+"} are overlapping.")}return!0},afterGetRowHeaderRenderers:function(t){Handsontable.Grouping.groupIndicatorsFactory(t,"vertical")},afterGetColumnHeaderRenderers:function(t){Handsontable.Grouping.groupIndicatorsFactory(t,"horizontal")},hookProxy:function(e,n){return function(){return t.getSettings().groups?n?Handsontable.Grouping[e](n).apply(this,arguments):Handsontable.Grouping[e].apply(this,arguments):void 0}}}}var o,r,s=(o=t("./../../dom.js"),o&&o.__esModule&&o||{"default":o});(r=t("./../../plugins.js"),r&&r.__esModule&&r||{"default":r}).registerPlugin,i.prototype.beforeInit=function(){};var a=function(){var t=this,e=!!t.getSettings().groups;if(e){var n={};Handsontable.Grouping=new i(t),t.getSettings().rowHeaders||(n.rowHeaders=!0),t.getSettings().colHeaders||(n.colHeaders=!0),(n.colHeaders||n.rowHeaders)&&t.updateSettings(n);var o=Handsontable.Grouping.validateGroups();if(!o)return;t.addHook("beforeInit",Handsontable.Grouping.hookProxy("init")),t.addHook("afterUpdateSettings",Handsontable.Grouping.hookProxy("updateGroups")),t.addHook("afterGetColumnHeaderRenderers",Handsontable.Grouping.hookProxy("afterGetColumnHeaderRenderers")),t.addHook("afterGetRowHeaderRenderers",Handsontable.Grouping.hookProxy("afterGetRowHeaderRenderers")),t.addHook("afterGetRowHeader",Handsontable.Grouping.hookProxy("afterGetRowHeader")),t.addHook("afterGetColHeader",Handsontable.Grouping.hookProxy("afterGetColHeader")),t.addHook("beforeOnCellMouseDown",Handsontable.Grouping.hookProxy("toggleGroupVisibility")),t.addHook("modifyTransformStart",Handsontable.Grouping.hookProxy("modifySelectionFactory","start")),t.addHook("modifyTransformEnd",Handsontable.Grouping.hookProxy("modifySelectionFactory","end")),t.addHook("modifyRowHeight",Handsontable.Grouping.hookProxy("modifyRowHeight"))}},l=function(){for(var t=document.querySelectorAll("colgroup"),e=0,n=t.length;n>e;e++){var i=t[e].querySelectorAll("col.rowHeader");if(0===i.length)return;for(var o=0,r=i.length+1;r>o;o++){if(2==r)return;o<Handsontable.Grouping.getLevels().rows+1&&(o==Handsontable.Grouping.getLevels().rows?s.addClass(i[o],"htGroupColClosest"):s.addClass(i[o],"htGroupCol"))}}};Handsontable.hooks.add("beforeInit",a),Handsontable.hooks.add("afterUpdateSettings",function(){this.getSettings().groups&&!Handsontable.Grouping?a.call(this,arguments):!this.getSettings().groups&&Handsontable.Grouping&&(Handsontable.Grouping.resetGroups(),Handsontable.Grouping=void 0)}),Handsontable.plugins.Grouping=i},{"./../../dom.js":27,"./../../plugins.js":45}],59:[function(t,e,n){"use strict";function i(t){function e(e){e.items.push(Handsontable.ContextMenu.SEPARATOR,{key:"freeze_column",name:function(){var e=t.getSelected()[1];return e>f-1?"Freeze this column":"Unfreeze this column"},disabled:function(){var e=t.getSelected();return e[1]!==e[3]},callback:function(){var e=t.getSelected()[1];e>f-1?l(e):u(e)}})}function n(){t.updateSettings({fixedColumnsLeft:f+1}),f++}function i(){t.updateSettings({fixedColumnsLeft:f-1}),f--}function o(e){t.manualColumnPositions&&0!==t.manualColumnPositions.length||t.manualColumnPositions||(t.manualColumnPositions=[]),e?t.manualColumnPositions[e]||r(e+1):r(t.countCols())}function r(e){if(t.manualColumnPositions.length<e)for(var n=t.manualColumnPositions.length;e>n;n++)t.manualColumnPositions[n]=n}function s(e,n,i,o){null==i&&(i=e),"freeze"===o?t.manualColumnPositions.splice(f,0,t.manualColumnPositions.splice(n,1)[0]):"unfreeze"===o&&t.manualColumnPositions.splice(i,0,t.manualColumnPositions.splice(n,1)[0])}function a(t){for(var e=f,n=c(e),i=c(t);i>n;)e++,n=c(e);return e-1}function l(e){if(!(f-1>=e)){var i=c(e)||e;o(i),s(i,e,null,"freeze"),n(),t.view.wt.wtOverlays.leftOverlay.refresh(),t.view.wt.wtOverlays.adjustElementsSize()}}function u(e){if(!(e>f-1)){var n=a(e),r=c(e)||e;o(r),s(r,e,n,"unfreeze"),i(),t.view.wt.wtOverlays.leftOverlay.refresh()}}function c(e){return t.manualColumnPositions[e]}function h(t){return this.manualColumnPositionsPluginUsages.length>1?t:c(t)}function d(){t.addHook("modifyCol",h),t.addHook("afterContextMenuDefaultOptions",e)}var f=t.getSettings().fixedColumnsLeft,p=function(){"undefined"!=typeof t.manualColumnPositionsPluginUsages?t.manualColumnPositionsPluginUsages.push("manualColumnFreeze"):t.manualColumnPositionsPluginUsages=["manualColumnFreeze"],d()};return{init:p,freezeColumn:l,unfreezeColumn:u,helpers:{addFixedColumn:n,removeFixedColumn:i,checkPositionData:o,modifyColumnOrder:s,getBestColumnReturnPosition:a}}}Object.defineProperties(n,{ManualColumnFreeze:{get:function(){return i}},__esModule:{value:!0}});var o,r=((o=t("./../../plugins.js"),o&&o.__esModule&&o||{"default":o}).registerPlugin,function(){if(this.getSettings().manualColumnFreeze){var t;Handsontable.plugins.manualColumnFreeze=i,this.manualColumnFreeze=new i(this),t=this.manualColumnFreeze,t.init.call(this)}});Handsontable.hooks.add("beforeInit",r)},{"./../../plugins.js":45}],60:[function(t,e,n){"use strict";function i(){function t(t){f=this,p=t;var e=this.view.wt.wtTable.getCoords(t).col;if(e>=0){d=e;var n=p.getBoundingClientRect();h=n.left,m.style.top=n.top+"px",m.style.left=h+"px",f.rootElement.appendChild(m)}}function e(t,e){var n=t.getBoundingClientRect(),i=6;e>0?m.style.left=n.left+n.width-i+"px":m.style.left=n.left+"px"}function n(){var t=this;u.addClass(m,"active"),u.addClass(g,"active");var e=p.getBoundingClientRect();g.style.width=e.width+"px",g.style.height=t.view.maximumVisibleElementHeight(0)+"px",g.style.top=m.style.top,g.style.left=h+"px",t.rootElement.appendChild(g)}function i(t){g.style.left=h+t+"px"}function o(){u.removeClass(m,"active"),u.removeClass(g,"active")}var r,s,a,h,d,f,p,m=document.createElement("DIV"),g=document.createElement("DIV"),v=c(this);m.className="manualColumnMover",g.className="manualColumnMoverGuide";var y=function(){var t=this;Handsontable.hooks.run(t,"persistentStateSave","manualColumnPositions",t.manualColumnPositions)},w=function(){var t=this,e={};return Handsontable.hooks.run(t,"persistentStateLoad","manualColumnPositions",e),e.value},b=function(t){return"BODY"!=t.tagName?"THEAD"==t.parentNode.tagName?!0:(t=t.parentNode,b(t)):!1},C=function(t){return"TABLE"!=t.tagName?"TH"==t.tagName?t:C(t.parentNode):null},k=function(){var c,h=this;v.addEventListener(h.rootElement,"mouseover",function(n){if(b(n.target)){var i=C(n.target);if(i)if(c){var o=h.view.wt.wtTable.getCoords(i).col;o>=0&&(s=o,e(n.target,s-r))}else t.call(h,i)}}),v.addEventListener(h.rootElement,"mousedown",function(t){u.hasClass(t.target,"manualColumnMover")&&(a=l.pageX(t),n.call(h),c=h,r=d,s=d)}),v.addEventListener(window,"mousemove",function(t){c&&i(l.pageX(t)-a)}),v.addEventListener(window,"mouseup",function(e){c&&(o(),c=!1,_(h.manualColumnPositions,h.countCols()),h.manualColumnPositions.splice(s,0,h.manualColumnPositions.splice(r,1)[0]),Handsontable.hooks.run(h,"beforeColumnMove",r,s),h.forceFullRender=!0,h.view.render(),y.call(h),Handsontable.hooks.run(h,"afterColumnMove",r,s),t.call(h,p))}),h.addHook("afterDestroy",x)},x=function(){v.clear()},_=function(t,e){if(t.length<e)for(var n=t.length;e>n;n++)t[n]=n};this.beforeInit=function(){this.manualColumnPositions=[]},this.init=function(t){var e=this,n=!!this.getSettings().manualColumnMove;if(n){var i=this.getSettings().manualColumnMove,o=w.call(e);"undefined"!=typeof o?this.manualColumnPositions=o:Array.isArray(i)?this.manualColumnPositions=i:this.manualColumnPositions=[],"afterInit"==t&&("undefined"!=typeof e.manualColumnPositionsPluginUsages?e.manualColumnPositionsPluginUsages.push("manualColumnMove"):e.manualColumnPositionsPluginUsages=["manualColumnMove"],k.call(this),this.manualColumnPositions.length>0&&(this.forceFullRender=!0,this.render()))}else{var r=e.manualColumnPositionsPluginUsages?e.manualColumnPositionsPluginUsages.indexOf("manualColumnMove"):-1;r>-1&&(x.call(this),this.manualColumnPositions=[],e.manualColumnPositionsPluginUsages[r]=void 0)}},this.modifyCol=function(t){return this.getSettings().manualColumnMove?("undefined"==typeof this.manualColumnPositions[t]&&_(this.manualColumnPositions,t+1),this.manualColumnPositions[t]):t},this.afterRemoveCol=function(t,e){if(this.getSettings().manualColumnMove){var n,i=this.manualColumnPositions;n=i.splice(t,e),i=i.map(function(t){var e,i=t;for(e=0;e<n.length;e++)t>n[e]&&i--;return i}),this.manualColumnPositions=i}},this.afterCreateCol=function(t,e){if(this.getSettings().manualColumnMove){var n=this.manualColumnPositions;if(n.length){for(var i=[],o=0;e>o;o++)i.push(t+o);t>=n.length?n.concat(i):(n=n.map(function(n){return n>=t?n+e:n}),n.splice.apply(n,[t,0].concat(i))),this.manualColumnPositions=n}}}}Object.defineProperties(n,{ManualColumnMove:{get:function(){return i}},__esModule:{value:!0}});var o,r,s,a,l=(o=t("./../../helpers.js"),o&&o.__esModule&&o||{"default":o}),u=(r=t("./../../dom.js"),r&&r.__esModule&&r||{"default":r}),c=(s=t("./../../eventManager.js"),s&&s.__esModule&&s||{"default":s}).eventManager,h=((a=t("./../../plugins.js"),a&&a.__esModule&&a||{"default":a}).registerPlugin,new i);Handsontable.hooks.add("beforeInit",h.beforeInit),Handsontable.hooks.add("afterInit",function(){h.init.call(this,"afterInit")}),Handsontable.hooks.add("afterUpdateSettings",function(){h.init.call(this,"afterUpdateSettings")}),Handsontable.hooks.add("modifyCol",h.modifyCol),Handsontable.hooks.add("afterRemoveCol",h.afterRemoveCol),Handsontable.hooks.add("afterCreateCol",h.afterCreateCol),Handsontable.hooks.register("beforeColumnMove"),Handsontable.hooks.register("afterColumnMove")},{"./../../dom.js":27,"./../../eventManager.js":41,"./../../helpers.js":42,"./../../plugins.js":45}],61:[function(t,e,n){"use strict";function i(){function t(t){h=this,r=t;var e=this.view.wt.wtTable.getCoords(t).col;if(e>=0){s=e;var n=r.getBoundingClientRect();m=n.left-6,p=parseInt(n.width,10),g.style.top=n.top+"px",g.style.left=m+p+"px",h.rootElement.appendChild(g)}}function e(){g.style.left=m+a+"px"}function n(){var t=this;u.addClass(g,"active"),u.addClass(v,"active"),v.style.top=g.style.top,v.style.left=g.style.left,v.style.height=t.view.maximumVisibleElementHeight(0)+"px",t.rootElement.appendChild(v)}function i(){v.style.left=g.style.left}function o(){u.removeClass(g,"active"),u.removeClass(v,"active")}var r,s,a,h,d,f,p,m,g=document.createElement("DIV"),v=document.createElement("DIV"),y=c(this);g.className="manualColumnResizer",v.className="manualColumnResizerGuide";var w=function(){var t=this;Handsontable.hooks.run(t,"persistentStateSave","manualColumnWidths",t.manualColumnWidths)},b=function(){var t=this,e={};return Handsontable.hooks.run(t,"persistentStateLoad","manualColumnWidths",e),e.value},C=function(t){return"BODY"!=t.tagName?"THEAD"==t.parentNode.tagName?!0:(t=t.parentNode,C(t)):!1},k=function(t){return"TABLE"!=t.tagName?"TH"==t.tagName?t:k(t.parentNode):null},x=function(){var c,h=this,m=0,g=null;y.addEventListener(h.rootElement,"mouseover",function(e){if(C(e.target)){var n=k(e.target);n&&(c||t.call(h,n))}}),y.addEventListener(h.rootElement,"mousedown",function(t){u.hasClass(t.target,"manualColumnResizer")&&(n.call(h),c=h,null==g&&(g=setTimeout(function(){if(m>=2){var t=Handsontable.hooks.run(h,"beforeColumnResize",s,d,!0);void 0!==t&&(d=t),T(s,d),h.forceFullRender=!0,h.view.render(),h.view.wt.wtOverlays.adjustElementsSize(!0),Handsontable.hooks.run(h,"afterColumnResize",s,d,!0)}m=0,g=null},500),h._registerTimeout(g)),m++,f=l.pageX(t),d=p)}),y.addEventListener(window,"mousemove",function(t){c&&(a=p+(l.pageX(t)-f),d=T(s,a),e(),i())}),y.addEventListener(window,"mouseup",function(){c&&(o(),c=!1,d!=p&&(Handsontable.hooks.run(h,"beforeColumnResize",s,d),h.forceFullRender=!0,h.view.render(),h.view.wt.wtOverlays.adjustElementsSize(!0),w.call(h),Handsontable.hooks.run(h,"afterColumnResize",s,d)),t.call(h,r))}),h.addHook("afterDestroy",_)},_=function(){y.clear()};this.init=function(t){this.manualColumnWidths=[];var e=this,n=!!this.getSettings().manualColumnResize;if(n){var i=this.getSettings().manualColumnResize,o=b.call(e);"undefined"!=typeof e.manualColumnWidthsPluginUsages?e.manualColumnWidthsPluginUsages.push("manualColumnResize"):e.manualColumnWidthsPluginUsages=["manualColumnResize"],"undefined"!=typeof o?this.manualColumnWidths=o:Array.isArray(i)?this.manualColumnWidths=i:this.manualColumnWidths=[],t||x.call(this)}else{var r=e.manualColumnWidthsPluginUsages?e.manualColumnWidthsPluginUsages.indexOf("manualColumnResize"):-1;r>-1&&(_.call(this),this.manualColumnWidths=[])}};var T=function(t,e){return e=Math.max(e,20),t=Handsontable.hooks.run(h,"modifyCol",t),h.manualColumnWidths[t]=e,e};this.modifyColWidth=function(t,e){return e=this.runHooks("modifyCol",e),this.getSettings().manualColumnResize&&this.manualColumnWidths[e]?this.manualColumnWidths[e]:t}}Object.defineProperties(n,{ManualColumnResize:{get:function(){return i}},__esModule:{value:!0}});var o,r,s,a,l=(o=t("./../../helpers.js"),o&&o.__esModule&&o||{"default":o}),u=(r=t("./../../dom.js"),r&&r.__esModule&&r||{"default":r}),c=(s=t("./../../eventManager.js"),s&&s.__esModule&&s||{"default":s}).eventManager,h=((a=t("./../../plugins.js"),a&&a.__esModule&&a||{"default":a}).registerPlugin,new i);Handsontable.hooks.add("init",h.init),Handsontable.hooks.add("afterUpdateSettings",function(){h.init.call(this,"afterUpdateSettings")}),Handsontable.hooks.add("modifyColWidth",h.modifyColWidth),Handsontable.hooks.register("afterColumnResize"),Handsontable.hooks.register("beforeColumnResize")},{"./../../dom.js":27,"./../../eventManager.js":41,"./../../helpers.js":42,"./../../plugins.js":45}],62:[function(t,e,n){"use strict";function i(){function t(t){var e=this;f=t;var n=this.view.wt.wtTable.getCoords(t).row;if(n>=0){d=n;var i=f.getBoundingClientRect();h=i.top,p.style.top=h+"px",p.style.left=i.left+"px",e.rootElement.appendChild(p)}}function e(t,e){var n=t.getBoundingClientRect(),i=6;e>0?p.style.top=n.top+n.height-i+"px":p.style.top=n.top+"px"}function n(){var t=this;u.addClass(p,"active"),u.addClass(m,"active");var e=f.getBoundingClientRect();m.style.width=t.view.maximumVisibleElementWidth(0)+"px",m.style.height=e.height+"px",m.style.top=h+"px",m.style.left=p.style.left,t.rootElement.appendChild(m)}function i(t){m.style.top=h+t+"px"}function o(){u.removeClass(p,"active"),u.removeClass(m,"active")}var r,s,a,h,d,f,p=document.createElement("DIV"),m=document.createElement("DIV"),g=c(this);p.className="manualRowMover",m.className="manualRowMoverGuide";var v=function(){var t=this;Handsontable.hooks.run(t,"persistentStateSave","manualRowPositions",t.manualRowPositions)},y=function(){var t=this,e={};return Handsontable.hooks.run(t,"persistentStateLoad","manualRowPositions",e),e.value},w=function(t){return"BODY"!=t.tagName?"TBODY"==t.parentNode.tagName?!0:(t=t.parentNode,w(t)):!1},b=function(t){return"TABLE"!=t.tagName?"TH"==t.tagName?t:b(t.parentNode):null},C=function(){var c,h=this;g.addEventListener(h.rootElement,"mouseover",function(n){if(w(n.target)){var i=b(n.target);i&&(c?(s=h.view.wt.wtTable.getCoords(i).row,e(i,s-r)):t.call(h,i))}}),g.addEventListener(h.rootElement,"mousedown",function(t){u.hasClass(t.target,"manualRowMover")&&(a=l.pageY(t),n.call(h),c=h,r=d,s=d)}),g.addEventListener(window,"mousemove",function(t){c&&i(l.pageY(t)-a)}),g.addEventListener(window,"mouseup",function(e){c&&(o(),c=!1,x(h.manualRowPositions,h.countRows()),h.manualRowPositions.splice(s,0,h.manualRowPositions.splice(r,1)[0]),Handsontable.hooks.run(h,"beforeRowMove",r,s),h.forceFullRender=!0,h.view.render(),v.call(h),Handsontable.hooks.run(h,"afterRowMove",r,s),t.call(h,f))}),h.addHook("afterDestroy",k)},k=function(){g.clear()},x=function(t,e){if(t.length<e)for(var n=t.length;e>n;n++)t[n]=n};this.beforeInit=function(){this.manualRowPositions=[]},this.init=function(t){var e=this,n=!!e.getSettings().manualRowMove;if(n){var i=e.getSettings().manualRowMove,o=y.call(e);"undefined"!=typeof e.manualRowPositionsPluginUsages?e.manualRowPositionsPluginUsages.push("manualColumnMove"):e.manualRowPositionsPluginUsages=["manualColumnMove"],"undefined"!=typeof o?this.manualRowPositions=o:Array.isArray(i)?this.manualRowPositions=i:this.manualRowPositions=[],"afterInit"===t&&(C.call(this),this.manualRowPositions.length>0&&(e.forceFullRender=!0,e.render()))}else{var r=e.manualRowPositionsPluginUsages?e.manualRowPositionsPluginUsages.indexOf("manualColumnMove"):-1;r>-1&&(k.call(this),e.manualRowPositions=[],e.manualRowPositionsPluginUsages[r]=void 0)}},this.modifyRow=function(t){var e=this;return e.getSettings().manualRowMove?("undefined"==typeof e.manualRowPositions[t]&&x(this.manualRowPositions,t+1),e.manualRowPositions[t]):t}}Object.defineProperties(n,{ManualRowMove:{get:function(){return i}},__esModule:{value:!0}});var o,r,s,a,l=(o=t("./../../helpers.js"),o&&o.__esModule&&o||{"default":o}),u=(r=t("./../../dom.js"),r&&r.__esModule&&r||{"default":r}),c=(s=t("./../../eventManager.js"),s&&s.__esModule&&s||{"default":s}).eventManager,h=((a=t("./../../plugins.js"),a&&a.__esModule&&a||{"default":a}).registerPlugin,new i);Handsontable.hooks.add("beforeInit",h.beforeInit),Handsontable.hooks.add("afterInit",function(){h.init.call(this,"afterInit")}),Handsontable.hooks.add("afterUpdateSettings",function(){h.init.call(this,"afterUpdateSettings")}),Handsontable.hooks.add("modifyRow",h.modifyRow),Handsontable.hooks.register("beforeRowMove"),Handsontable.hooks.register("afterRowMove")},{"./../../dom.js":27,"./../../eventManager.js":41,"./../../helpers.js":42,"./../../plugins.js":45}],63:[function(t,e,n){"use strict";function i(){function t(t){h=this,r=t;var e=this.view.wt.wtTable.getCoords(t).row;if(e>=0){s=e;var n=r.getBoundingClientRect();m=n.top-6,p=parseInt(n.height,10),g.style.left=n.left+"px",g.style.top=m+p+"px",h.rootElement.appendChild(g)}}function e(){g.style.top=m+a+"px"}function n(){var t=this;u.addClass(g,"active"),u.addClass(v,"active"),v.style.top=g.style.top,v.style.left=g.style.left,v.style.width=t.view.maximumVisibleElementWidth(0)+"px",t.rootElement.appendChild(v)}function i(){v.style.top=g.style.top}function o(){u.removeClass(g,"active"),u.removeClass(v,"active")}var r,s,a,h,d,f,p,m,g=document.createElement("DIV"),v=document.createElement("DIV"),y=c(this);g.className="manualRowResizer",v.className="manualRowResizerGuide";var w=function(){var t=this;Handsontable.hooks.run(t,"persistentStateSave","manualRowHeights",t.manualRowHeights)},b=function(){var t=this,e={};return Handsontable.hooks.run(t,"persistentStateLoad","manualRowHeights",e),e.value},C=function(t){return"BODY"!=t.tagName?"TBODY"==t.parentNode.tagName?!0:(t=t.parentNode,C(t)):!1},k=function(t){return"TABLE"!=t.tagName?"TH"==t.tagName?t:k(t.parentNode):null},x=function(){var c,h=this,m=0,g=null;y.addEventListener(h.rootElement,"mouseover",function(e){if(C(e.target)){var n=k(e.target);n&&(c||t.call(h,n))}}),y.addEventListener(h.rootElement,"mousedown",function(t){u.hasClass(t.target,"manualRowResizer")&&(n.call(h),c=h,null==g&&(g=setTimeout(function(){if(m>=2){var t=Handsontable.hooks.run(h,"beforeRowResize",s,d,!0);void 0!==t&&(d=t),T(s,d),h.forceFullRender=!0,h.view.render(),Handsontable.hooks.run(h,"afterRowResize",s,d,!0)}m=0,g=null},500),h._registerTimeout(g)),m++,f=l.pageY(t),d=p)}),y.addEventListener(window,"mousemove",function(t){c&&(a=p+(l.pageY(t)-f),d=T(s,a),e(),i())}),y.addEventListener(window,"mouseup",function(e){c&&(o(),c=!1,d!=p&&(Handsontable.hooks.run(h,"beforeRowResize",s,d),h.forceFullRender=!0,h.view.render(),w.call(h),Handsontable.hooks.run(h,"afterRowResize",s,d)),t.call(h,r))}),h.addHook("afterDestroy",_)},_=function(){y.clear()};this.init=function(t){this.manualRowHeights=[];var e=this,n=!!this.getSettings().manualRowResize;if(n){var i=this.getSettings().manualRowResize,o=b.call(e);"undefined"!=typeof e.manualRowHeightsPluginUsages?e.manualRowHeightsPluginUsages.push("manualRowResize"):e.manualRowHeightsPluginUsages=["manualRowResize"],"undefined"!=typeof o?this.manualRowHeights=o:Array.isArray(i)?this.manualRowHeights=i:this.manualRowHeights=[],void 0===t&&x.call(this)}else{var r=e.manualRowHeightsPluginUsages?e.manualRowHeightsPluginUsages.indexOf("manualRowResize"):-1;r>-1&&(_.call(this),this.manualRowHeights=[],e.manualRowHeightsPluginUsages[r]=void 0)}};var T=function(t,e){return t=Handsontable.hooks.run(h,"modifyRow",t),h.manualRowHeights[t]=e,e};this.modifyRowHeight=function(t,e){return this.getSettings().manualRowResize&&(e=this.runHooks("modifyRow",e),void 0!==this.manualRowHeights[e])?this.manualRowHeights[e]:t}}Object.defineProperties(n,{ManualRowResize:{get:function(){return i}},__esModule:{value:!0}});var o,r,s,a,l=(o=t("./../../helpers.js"),o&&o.__esModule&&o||{"default":o}),u=(r=t("./../../dom.js"),r&&r.__esModule&&r||{"default":r}),c=(s=t("./../../eventManager.js"),s&&s.__esModule&&s||{"default":s}).eventManager,h=((a=t("./../../plugins.js"),a&&a.__esModule&&a||{"default":a}).registerPlugin,new i);Handsontable.hooks.add("init",h.init),Handsontable.hooks.add("afterUpdateSettings",function(){h.init.call(this,"afterUpdateSettings")}),Handsontable.hooks.add("modifyRowHeight",h.modifyRowHeight),Handsontable.hooks.register("beforeRowResize"),Handsontable.hooks.register("afterRowResize")},{"./../../dom.js":27,"./../../eventManager.js":41,"./../../helpers.js":42,"./../../plugins.js":45}],64:[function(t,e,n){"use strict";function i(){var t=[];return t.getInfo=function(t,e){for(var n=0,i=this.length;i>n;n++)if(this[n].row<=t&&this[n].row+this[n].rowspan-1>=t&&this[n].col<=e&&this[n].col+this[n].colspan-1>=e)return this[n]},t.setInfo=function(t){for(var e=0,n=this.length;n>e;e++)if(this[e].row===t.row&&this[e].col===t.col)return void(this[e]=t);this.push(t)},t.removeInfo=function(t,e){for(var n=0,i=this.length;i>n;n++)if(this[n].row===t&&this[n].col===e){this.splice(n,1);break}},t}function o(t){if(this.mergedCellInfoCollection=new i,Array.isArray(t))for(var e=0,n=t.length;n>e;e++)this.mergedCellInfoCollection.setInfo(t[e])}function r(t,e){var n=this.getSettings().mergeCells;if(n&&!this.selection.isMultiple()){var i=this.mergeCells.mergedCellInfoCollection.getInfo(t[0],t[1]);i&&(t[0]=i.row,t[1]=i.col,t[2]=i.row+i.rowspan-1,t[3]=i.col+i.colspan-1)}}Object.defineProperties(n,{MergeCells:{get:function(){return o}},__esModule:{value:!0}});var s,a,l,u,c=((s=t("./../../plugins.js"),s&&s.__esModule&&s||{"default":s}).registerPlugin,(a=t("./../../3rdparty/walkontable/src/cell/coords.js"),a&&a.__esModule&&a||{"default":a}).WalkontableCellCoords),h=(l=t("./../../3rdparty/walkontable/src/cell/range.js"),l&&l.__esModule&&l||{"default":l}).WalkontableCellRange,d=(u=t("./../../3rdparty/walkontable/src/table.js"),u&&u.__esModule&&u||{"default":u}).WalkontableTable;o.prototype.canMergeRange=function(t){return!t.isSingle()},o.prototype.mergeRange=function(t){if(this.canMergeRange(t)){var e=t.getTopLeftCorner(),n=t.getBottomRightCorner(),i={};i.row=e.row,i.col=e.col,i.rowspan=n.row-e.row+1,i.colspan=n.col-e.col+1,this.mergedCellInfoCollection.setInfo(i)}},o.prototype.mergeOrUnmergeSelection=function(t){var e=this.mergedCellInfoCollection.getInfo(t.from.row,t.from.col);e?this.unmergeSelection(t.from):this.mergeSelection(t)},o.prototype.mergeSelection=function(t){this.mergeRange(t)},o.prototype.unmergeSelection=function(t){var e=this.mergedCellInfoCollection.getInfo(t.row,t.col);this.mergedCellInfoCollection.removeInfo(e.row,e.col)},o.prototype.applySpanProperties=function(t,e,n){var i=this.mergedCellInfoCollection.getInfo(e,n);i?i.row===e&&i.col===n?(t.setAttribute("rowspan",i.rowspan),t.setAttribute("colspan",i.colspan)):(t.removeAttribute("rowspan"),t.removeAttribute("colspan"),t.style.display="none"):(t.removeAttribute("rowspan"),t.removeAttribute("colspan"))},o.prototype.modifyTransform=function(t,e,n){var i=function(t,e){return e.row>=t.row&&e.row<=t.row+t.rowspan-1?!0:!1},o=function(t,e){return e.col>=t.col&&e.col<=t.col+t.colspan-1?!0:!1;
},r=function(t){return new c(e.to.row+t.row,e.to.col+t.col)},s={row:n.row,col:n.col};if("modifyTransformStart"==t){this.lastDesiredCoords||(this.lastDesiredCoords=new c(null,null));for(var a,l=new c(e.highlight.row,e.highlight.col),u=this.mergedCellInfoCollection.getInfo(l.row,l.col),d=0,f=this.mergedCellInfoCollection.length;f>d;d++){var p=this.mergedCellInfoCollection[d];if(p=new c(p.row+p.rowspan-1,p.col+p.colspan-1),e.includes(p)){a=!0;break}}if(u){var m=new c(u.row,u.col),g=new c(u.row+u.rowspan-1,u.col+u.colspan-1),v=new h(m,m,g);v.includes(this.lastDesiredCoords)||(this.lastDesiredCoords=new c(null,null)),s.row=this.lastDesiredCoords.row?this.lastDesiredCoords.row-l.row:s.row,s.col=this.lastDesiredCoords.col?this.lastDesiredCoords.col-l.col:s.col,n.row>0?s.row=u.row+u.rowspan-1-l.row+n.row:n.row<0&&(s.row=l.row-u.row+n.row),n.col>0?s.col=u.col+u.colspan-1-l.col+n.col:n.col<0&&(s.col=l.col-u.col+n.col)}var y=new c(e.highlight.row+s.row,e.highlight.col+s.col),w=this.mergedCellInfoCollection.getInfo(y.row,y.col);w&&(this.lastDesiredCoords=y,s={row:w.row-l.row,col:w.col-l.col})}else if("modifyTransformEnd"==t)for(var d=0,f=this.mergedCellInfoCollection.length;f>d;d++){var b=this.mergedCellInfoCollection[d],m=new c(b.row,b.col),g=new c(b.row+b.rowspan-1,b.col+b.colspan-1),C=new h(m,m,g),k=e.getBordersSharedWith(C);if(C.isEqual(e))e.setDirection("NW-SE");else if(k.length>0){var x=e.highlight.isEqual(C.from);k.indexOf("top")>-1?e.to.isSouthEastOf(C.from)&&x?e.setDirection("NW-SE"):e.to.isSouthWestOf(C.from)&&x&&e.setDirection("NE-SW"):k.indexOf("bottom")>-1&&(e.to.isNorthEastOf(C.from)&&x?e.setDirection("SW-NE"):e.to.isNorthWestOf(C.from)&&x&&e.setDirection("SE-NW"))}var y=r(s),_=i(b,y),T=o(b,y);e.includesRange(C)&&(C.includes(y)||_||T)&&(_&&(s.row<0?s.row-=b.rowspan-1:s.row>0&&(s.row+=b.rowspan-1)),T&&(s.col<0?s.col-=b.colspan-1:s.col>0&&(s.col+=b.colspan-1)))}0!==s.row&&(n.row=s.row),0!==s.col&&(n.col=s.col)};var f=function(){var t=this,e=t.getSettings().mergeCells;e&&(t.mergeCells||(t.mergeCells=new o(e)))},p=function(){var t=this;t.mergeCells&&(t.view.wt.wtTable.getCell=function(e){if(t.getSettings().mergeCells){var n=t.mergeCells.mergedCellInfoCollection.getInfo(e.row,e.col);n&&(e=n)}return d.prototype.getCell.call(this,e)})},m=function(t){if(this.mergeCells){var e=(t.ctrlKey||t.metaKey)&&!t.altKey;e&&77===t.keyCode&&(this.mergeCells.mergeOrUnmergeSelection(this.getSelectedRange()),this.render(),t.stopImmediatePropagation())}},g=function(t){this.getSettings().mergeCells&&(t.items.push(Handsontable.ContextMenu.SEPARATOR),t.items.push({key:"mergeCells",name:function(){var t=this.getSelected(),e=this.mergeCells.mergedCellInfoCollection.getInfo(t[0],t[1]);return e?"Unmerge cells":"Merge cells"},callback:function(){this.mergeCells.mergeOrUnmergeSelection(this.getSelectedRange()),this.render()},disabled:function(){return!1}}))},v=function(t,e,n,i,o,r){this.mergeCells&&this.mergeCells.applySpanProperties(t,e,n)},y=function(t){return function(e){var n=this.getSettings().mergeCells;if(n){var i=this.getSelectedRange();if(this.mergeCells.modifyTransform(t,i,e),"modifyTransformEnd"===t){var o=this.countRows(),r=this.countCols();i.from.row<0?i.from.row=0:i.from.row>0&&i.from.row>=o&&(i.from.row=i.from-1),i.from.col<0?i.from.col=0:i.from.col>0&&i.from.col>=r&&(i.from.col=r-1)}}}},w=function(t){this.lastDesiredCoords=null;var e=this.getSettings().mergeCells;if(e){var n=this.getSelectedRange();n.highlight=new c(n.highlight.row,n.highlight.col),n.to=t;var i=!1;do{i=!1;for(var o=0,r=this.mergeCells.mergedCellInfoCollection.length;r>o;o++){var s=this.mergeCells.mergedCellInfoCollection[o],a=new c(s.row,s.col),l=new c(s.row+s.rowspan-1,s.col+s.colspan-1),u=new h(a,a,l);n.expandByRange(u)&&(t.row=n.to.row,t.col=n.to.col,i=!0)}}while(i)}},b=function(t,e){if(e&&"area"==e){var n=this.getSettings().mergeCells;if(n)for(var i=this.getSelectedRange(),o=new h(i.from,i.from,i.from),r=new h(i.to,i.to,i.to),s=0,a=this.mergeCells.mergedCellInfoCollection.length;a>s;s++){var l=this.mergeCells.mergedCellInfoCollection[s],u=new c(l.row,l.col),d=new c(l.row+l.rowspan-1,l.col+l.colspan-1),f=new h(u,u,d);o.expandByRange(f)&&(t[0]=o.from.row,t[1]=o.from.col),r.expandByRange(f)&&(t[2]=r.from.row,t[3]=r.from.col)}}},C=function(t,e,n){var i=this.getSettings().mergeCells;if(i){var o=this.mergeCells.mergedCellInfoCollection.getInfo(t,e);!o||o.row==t&&o.col==e||(n.copyable=!1)}},k=function(t){var e=this.getSettings().mergeCells;if(e)for(var n,i=this.countCols(),o=0;i>o;o++){if(n=this.mergeCells.mergedCellInfoCollection.getInfo(t.startRow,o),n&&n.row<t.startRow)return t.startRow=n.row,k.call(this,t);if(n=this.mergeCells.mergedCellInfoCollection.getInfo(t.endRow,o)){var r=n.row+n.rowspan-1;if(r>t.endRow)return t.endRow=r,k.call(this,t)}}},x=function(t){var e=this.getSettings().mergeCells;if(e)for(var n,i=this.countRows(),o=0;i>o;o++){if(n=this.mergeCells.mergedCellInfoCollection.getInfo(o,t.startColumn),n&&n.col<t.startColumn)return t.startColumn=n.col,x.call(this,t);if(n=this.mergeCells.mergedCellInfoCollection.getInfo(o,t.endColumn)){var r=n.col+n.colspan-1;if(r>t.endColumn)return t.endColumn=r,x.call(this,t)}}},_=function(t){if(t&&this.mergeCells){var e=this.mergeCells.mergedCellInfoCollection,n=this.getSelectedRange();for(var i in e)if(n.highlight.row==e[i].row&&n.highlight.col==e[i].col&&n.to.row==e[i].row+e[i].rowspan-1&&n.to.col==e[i].col+e[i].colspan-1)return!1}return t};Handsontable.hooks.add("beforeInit",f),Handsontable.hooks.add("afterInit",p),Handsontable.hooks.add("beforeKeyDown",m),Handsontable.hooks.add("modifyTransformStart",y("modifyTransformStart")),Handsontable.hooks.add("modifyTransformEnd",y("modifyTransformEnd")),Handsontable.hooks.add("beforeSetRangeEnd",w),Handsontable.hooks.add("beforeDrawBorders",b),Handsontable.hooks.add("afterIsMultipleSelection",_),Handsontable.hooks.add("afterRenderer",v),Handsontable.hooks.add("afterContextMenuDefaultOptions",g),Handsontable.hooks.add("afterGetCellMeta",C),Handsontable.hooks.add("afterViewportRowCalculatorOverride",k),Handsontable.hooks.add("afterViewportColumnCalculatorOverride",x),Handsontable.hooks.add("afterAutofillApplyValues",r),Handsontable.MergeCells=o},{"./../../3rdparty/walkontable/src/cell/coords.js":5,"./../../3rdparty/walkontable/src/cell/range.js":6,"./../../3rdparty/walkontable/src/table.js":20,"./../../plugins.js":45}],65:[function(t,e,n){"use strict";Object.defineProperties(n,{MultipleSelectionHandles:{get:function(){return h}},__esModule:{value:!0}});var i,o,r,s,a=(i=t("./../../dom.js"),i&&i.__esModule&&i||{"default":i}),l=(o=t("./../_base.js"),o&&o.__esModule&&o||{"default":o})["default"],u=(r=t("./../../eventManager.js"),r&&r.__esModule&&r||{"default":r}).EventManager,c=(s=t("./../../plugins.js"),s&&s.__esModule&&s||{"default":s}).registerPlugin,h=function(t){$traceurRuntime.superConstructor(d).call(this,t),this.dragged=[],this.eventManager=null,this.lastSetCell=null},d=h;$traceurRuntime.createClass(h,{isEnabled:function(){return Handsontable.mobileBrowser},enablePlugin:function(){this.enabled||(this.eventManager||(this.eventManager=new u(this)),this.registerListeners(),$traceurRuntime.superGet(this,d.prototype,"enablePlugin").call(this))},registerListeners:function(){function t(t){if(1===e.dragged.length)return e.dragged.splice(0,e.dragged.length),!0;var n=e.dragged.indexOf(t);return-1==n?!1:void(0===n?e.dragged=e.dragged.slice(0,1):1==n&&(e.dragged=e.dragged.slice(-1)))}var e=this;this.eventManager.addEventListener(this.hot.rootElement,"touchstart",function(t){var n;return a.hasClass(t.target,"topLeftSelectionHandle-HitArea")?(n=e.hot.getSelectedRange(),e.dragged.push("topLeft"),e.touchStartRange={width:n.getWidth(),height:n.getHeight(),direction:n.getDirection()},t.preventDefault(),!1):a.hasClass(t.target,"bottomRightSelectionHandle-HitArea")?(n=e.hot.getSelectedRange(),e.dragged.push("bottomRight"),e.touchStartRange={width:n.getWidth(),height:n.getHeight(),direction:n.getDirection()},t.preventDefault(),!1):void 0}),this.eventManager.addEventListener(this.hot.rootElement,"touchend",function(n){return a.hasClass(n.target,"topLeftSelectionHandle-HitArea")?(t.call(e,"topLeft"),e.touchStartRange=void 0,n.preventDefault(),!1):a.hasClass(n.target,"bottomRightSelectionHandle-HitArea")?(t.call(e,"bottomRight"),e.touchStartRange=void 0,n.preventDefault(),!1):void 0}),this.eventManager.addEventListener(this.hot.rootElement,"touchmove",function(t){var n,i,o,r,s,l,u,c=a.getWindowScrollTop(),h=a.getWindowScrollLeft();0!==e.dragged.length&&(n=document.elementFromPoint(t.touches[0].screenX-h,t.touches[0].screenY-c),n&&n!==e.lastSetCell&&(("TD"==n.nodeName||"TH"==n.nodeName)&&(i=e.hot.getCoords(n),-1==i.col&&(i.col=0),o=e.hot.getSelectedRange(),r=o.getWidth(),s=o.getHeight(),l=o.getDirection(),1==r&&1==s&&e.hot.selection.setRangeEnd(i),u=e.getCurrentRangeCoords(o,i,e.touchStartRange.direction,l,e.dragged[0]),null!==u.start&&e.hot.selection.setRangeStart(u.start),e.hot.selection.setRangeEnd(u.end),e.lastSetCell=n),t.preventDefault()))})},getCurrentRangeCoords:function(t,e,n,i,o){var r=t.getTopLeftCorner(),s=t.getBottomRightCorner(),a=t.getBottomLeftCorner(),l=t.getTopRightCorner(),u={start:null,end:null};switch(n){case"NE-SW":switch(i){case"NE-SW":case"NW-SE":u="topLeft"==o?{start:new WalkontableCellCoords(e.row,t.highlight.col),end:new WalkontableCellCoords(a.row,e.col)}:{start:new WalkontableCellCoords(t.highlight.row,e.col),end:new WalkontableCellCoords(e.row,r.col)};break;case"SE-NW":"bottomRight"==o&&(u={start:new WalkontableCellCoords(s.row,e.col),end:new WalkontableCellCoords(e.row,r.col)})}break;case"NW-SE":switch(i){case"NE-SW":"topLeft"==o?u={start:e,end:a}:u.end=e;break;case"NW-SE":"topLeft"==o?u={start:e,end:s}:u.end=e;break;case"SE-NW":"topLeft"==o?u={start:e,end:r}:u.end=e;break;case"SW-NE":"topLeft"==o?u={start:e,end:l}:u.end=e}break;case"SW-NE":switch(i){case"NW-SE":u="bottomRight"==o?{start:new WalkontableCellCoords(e.row,r.col),end:new WalkontableCellCoords(a.row,e.col)}:{start:new WalkontableCellCoords(r.row,e.col),end:new WalkontableCellCoords(e.row,s.col)};break;case"SW-NE":u="topLeft"==o?{start:new WalkontableCellCoords(t.highlight.row,e.col),end:new WalkontableCellCoords(e.row,s.col)}:{start:new WalkontableCellCoords(e.row,r.col),end:new WalkontableCellCoords(r.row,e.col)};break;case"SE-NW":"bottomRight"==o?u={start:new WalkontableCellCoords(e.row,l.col),end:new WalkontableCellCoords(r.row,e.col)}:"topLeft"==o&&(u={start:a,end:e})}break;case"SE-NW":switch(i){case"NW-SE":case"NE-SW":case"SW-NE":"topLeft"==o&&(u.end=e);break;case"SE-NW":"topLeft"==o?u.end=e:u={start:e,end:r}}}return u},isDragged:function(){return this.dragged.length>0}},{},l),c("multipleSelectionHandles",h)},{"./../../dom.js":27,"./../../eventManager.js":41,"./../../plugins.js":45,"./../_base.js":46}],66:[function(t,e,n){"use strict";function i(){}function o(){var t=this,e=t.getSettings().observeChanges;e?(t.observer&&a.call(t),r.call(t),u.call(t)):e||a.call(t)}function r(){var t=this;t.observeChangesActive=!0,t.pauseObservingChanges=function(){t.observeChangesActive=!1},t.resumeObservingChanges=function(){t.observeChangesActive=!0},t.observedData=t.getData(),t.observer=p.observe(t.observedData,function(e){t.observeChangesActive&&(s.call(t,e),t.render()),t.runHooks("afterChangesObserved")})}function s(t){function e(t){var e;return e=i(t),e=n(e)}function n(t){var e=[];return t.filter(function(t){var n=o(t.path);if(-1!=["add","remove"].indexOf(t.op)&&!isNaN(n.col)){if(-1!=e.indexOf(n.col))return!1;e.push(n.col)}return!0})}function i(t){return t.filter(function(t){return!/[/]length/gi.test(t.path)})}function o(t){var e=t.match(/^\/(\d+)\/?(.*)?$/);return{row:parseInt(e[1],10),col:/^\d*$/.test(e[2])?parseInt(e[2],10):e[2]}}for(var r=this,s=e(t),a=0,l=s.length;l>a;a++){var u=s[a],c=o(u.path);switch(u.op){case"add":isNaN(c.col)?r.runHooks("afterCreateRow",c.row):r.runHooks("afterCreateCol",c.col);break;case"remove":isNaN(c.col)?r.runHooks("afterRemoveRow",c.row,1):r.runHooks("afterRemoveCol",c.col,1);break;case"replace":r.runHooks("afterChange",[c.row,c.col,null,u.value],"external")}}}function a(){var t=this;t.observer&&(l.call(t),c.call(t))}function l(){var t=this;p.unobserve(t.observedData,t.observer),delete t.observedData,delete t.observeChangesActive,delete t.pauseObservingChanges,delete t.resumeObservingChanges}function u(){var t=this;t.addHook("afterDestroy",a),t.addHook("afterCreateRow",h),t.addHook("afterRemoveRow",h),t.addHook("afterCreateCol",h),t.addHook("afterRemoveCol",h),t.addHook("afterChange",function(t,e){"loadData"!=e&&h.call(this)})}function c(){var t=this;t.removeHook("afterDestroy",a),t.removeHook("afterCreateRow",h),t.removeHook("afterRemoveRow",h),t.removeHook("afterCreateCol",h),t.removeHook("afterRemoveCol",h),t.removeHook("afterChange",h)}function h(){var t=this;t.pauseObservingChanges(),t.addHookOnce("afterChangesObserved",function(){t.resumeObservingChanges()})}Object.defineProperties(n,{ObserveChanges:{get:function(){return i}},__esModule:{value:!0}});var d,f,p=((d=t("./../../plugins.js"),d&&d.__esModule&&d||{"default":d}).registerPlugin,(f=t("jsonpatch"),f&&f.__esModule&&f||{"default":f})["default"]);Handsontable.hooks.add("afterLoadData",o),Handsontable.hooks.add("afterUpdateSettings",o),Handsontable.hooks.register("afterChangesObserved")},{"./../../plugins.js":45,jsonpatch:"jsonpatch"}],67:[function(t,e,n){"use strict";function i(t){var e,n=function(){window.localStorage[t+"__persistentStateKeys"]=JSON.stringify(e)},i=function(){var n=window.localStorage[t+"__persistentStateKeys"],i="string"==typeof n?JSON.parse(n):void 0;e=i?i:[]},o=function(){e=[],n()};i(),this.saveValue=function(i,o){window.localStorage[t+"_"+i]=JSON.stringify(o),-1==e.indexOf(i)&&(e.push(i),n())},this.loadValue=function(e,n){e="undefined"!=typeof e?e:n;var i=window.localStorage[t+"_"+e];return"undefined"==typeof i?void 0:JSON.parse(i)},this.reset=function(e){window.localStorage.removeItem(t+"_"+e)},this.resetAll=function(){for(var n=0;n<e.length;n++)window.localStorage.removeItem(t+"_"+e[n]);o()}}function o(){function t(){var t=this;for(var e in o)o.hasOwnProperty(e)&&t.addHook(e,o[e])}function e(){var t=this;for(var e in o)o.hasOwnProperty(e)&&t.removeHook(e,o[e])}var n=this;this.init=function(){var o=this,r=o.getSettings().persistentState;return n.enabled=!!r,n.enabled?(o.storage||(o.storage=new i(o.rootElement.id)),o.resetState=n.resetValue,void t.call(o)):void e.call(o)},this.saveValue=function(t,e){var n=this;n.storage.saveValue(t,e)},this.loadValue=function(t,e){var n=this;e.value=n.storage.loadValue(t)},this.resetValue=function(t){var e=this;"undefined"!=typeof t?e.storage.reset(t):e.storage.resetAll()};var o={persistentStateSave:n.saveValue,persistentStateLoad:n.loadValue,persistentStateReset:n.resetValue};for(var r in o)o.hasOwnProperty(r)&&Handsontable.hooks.register(r)}Object.defineProperties(n,{HandsontablePersistentState:{get:function(){return o}},__esModule:{value:!0}});var r,s=((r=t("./../../plugins.js"),r&&r.__esModule&&r||{"default":r}).registerPlugin,new o);Handsontable.hooks.add("beforeInit",s.init),Handsontable.hooks.add("afterUpdateSettings",s.init)},{"./../../plugins.js":45}],68:[function(t,e,n){"use strict";function i(){var t=this,e=!!t.getSettings().search;e?t.search=new Handsontable.Search(t):delete t.search}var o,r,s=(o=t("./../../dom.js"),o&&o.__esModule&&o||{"default":o}),a=(r=t("./../../renderers.js"),r&&r.__esModule&&r||{"default":r}),l=a.registerRenderer,u=a.getRenderer;Handsontable.Search=function(t){this.query=function(e,n,i){var o=t.countRows(),r=t.countCols(),s=[];n||(n=Handsontable.Search.global.getDefaultCallback()),i||(i=Handsontable.Search.global.getDefaultQueryMethod());for(var a=0;o>a;a++)for(var l=0;r>l;l++){var u=t.getDataAtCell(a,l),c=t.getCellMeta(a,l),h=c.search.callback||n,d=c.search.queryMethod||i,f=d(e,u);if(f){var p={row:a,col:l,data:u};s.push(p)}h&&h(t,a,l,u,f)}return s}},Handsontable.Search.DEFAULT_CALLBACK=function(t,e,n,i,o){t.getCellMeta(e,n).isSearchResult=o},Handsontable.Search.DEFAULT_QUERY_METHOD=function(t,e){return"undefined"!=typeof t&&null!=t&&t.toLowerCase&&0!==t.length?"undefined"==typeof e||null==e?!1:-1!=e.toString().toLowerCase().indexOf(t.toLowerCase()):!1},Handsontable.Search.DEFAULT_SEARCH_RESULT_CLASS="htSearchResult",Handsontable.Search.global=function(){var t=Handsontable.Search.DEFAULT_CALLBACK,e=Handsontable.Search.DEFAULT_QUERY_METHOD,n=Handsontable.Search.DEFAULT_SEARCH_RESULT_CLASS;return{getDefaultCallback:function(){return t},setDefaultCallback:function(e){t=e},getDefaultQueryMethod:function(){return e},setDefaultQueryMethod:function(t){e=t},getDefaultSearchResultClass:function(){return n},setDefaultSearchResultClass:function(t){n=t}}}(),Handsontable.SearchCellDecorator=function(t,e,n,i,o,r,a){var l=null!==a.search&&"object"==typeof a.search&&a.search.searchResultClass||Handsontable.Search.global.getDefaultSearchResultClass();a.isSearchResult?s.addClass(e,l):s.removeClass(e,l)};var c=u("base");l("base",function(t,e,n,i,o,r,s){c.apply(this,arguments),Handsontable.SearchCellDecorator.apply(this,arguments)}),Handsontable.hooks.add("afterInit",i),Handsontable.hooks.add("afterUpdateSettings",i)},{"./../../dom.js":27,"./../../renderers.js":71}],69:[function(t,e,n){"use strict";Object.defineProperties(n,{TouchScroll:{get:function(){return u}},__esModule:{value:!0}});var i,o,r,s=(i=t("./../../dom.js"),i&&i.__esModule&&i||{"default":i}),a=(o=t("./../_base.js"),o&&o.__esModule&&o||{"default":o})["default"],l=(r=t("./../../plugins.js"),r&&r.__esModule&&r||{"default":r}).registerPlugin,u=function(t){var e=this;$traceurRuntime.superConstructor(c).call(this,t),this.hot.addHook("afterInit",function(){return e.init()}),this.hot.addHook("afterUpdateSettings",function(){return e.onAfterUpdateSettings()}),this.scrollbars=[],this.clones=[]},c=u;$traceurRuntime.createClass(u,{init:function(){this.registerEvents(),this.onAfterUpdateSettings()},onAfterUpdateSettings:function(){var t=this;this.hot.addHookOnce("afterRender",function(){var e=t.hot.view.wt.wtOverlays;t.scrollbars=[],t.scrollbars.push(e.topOverlay),t.scrollbars.push(e.leftOverlay),e.topLeftCornerOverlay&&t.scrollbars.push(e.topLeftCornerOverlay),t.clones=[],e.topOverlay.needFullRender&&t.clones.push(e.topOverlay.clone.wtTable.holder.parentNode),e.leftOverlay.needFullRender&&t.clones.push(e.leftOverlay.clone.wtTable.holder.parentNode),e.topLeftCornerOverlay&&t.clones.push(e.topLeftCornerOverlay.clone.wtTable.holder.parentNode)})},registerEvents:function(){var t=this;this.hot.addHook("beforeTouchScroll",function(){return t.onBeforeTouchScroll()}),this.hot.addHook("afterMomentumScroll",function(){return t.onAfterMomentumScroll()})},onBeforeTouchScroll:function(){Handsontable.freezeOverlays=!0;for(var t=0,e=this.clones.length;e>t;t++)s.addClass(this.clones[t],"hide-tween")},onAfterMomentumScroll:function(){Handsontable.freezeOverlays=!1;for(var t=this,e=0,n=this.clones.length;n>e;e++)s.removeClass(this.clones[e],"hide-tween");for(var i=0,o=this.clones.length;o>i;i++)s.addClass(this.clones[i],"show-tween");setTimeout(function(){for(var e=0,n=t.clones.length;n>e;e++)s.removeClass(t.clones[e],"show-tween")},400);for(var r=0,a=this.scrollbars.length;a>r;r++)this.scrollbars[r].refresh(),this.scrollbars[r].resetFixedPosition();this.hot.view.wt.wtOverlays.syncScrollWithMaster()}},{},a),l("touchScroll",u)},{"./../../dom.js":27,"./../../plugins.js":45,"./../_base.js":46}],70:[function(t,e,n){"use strict";function i(){var t=this,e="undefined"==typeof t.getSettings().undo||t.getSettings().undo;e?t.undoRedo||(t.undoRedo=new Handsontable.UndoRedo(t),s(t),t.addHook("beforeKeyDown",o),t.addHook("afterChange",r)):t.undoRedo&&(delete t.undoRedo,a(t),t.removeHook("beforeKeyDown",o),t.removeHook("afterChange",r))}function o(t){var e=this,n=(t.ctrlKey||t.metaKey)&&!t.altKey;n&&(89===t.keyCode||t.shiftKey&&90===t.keyCode?(e.undoRedo.redo(),t.stopImmediatePropagation()):90===t.keyCode&&(e.undoRedo.undo(),t.stopImmediatePropagation()))}function r(t,e){var n=this;return"loadData"==e?n.undoRedo.clear():void 0}function s(t){t.undo=function(){return t.undoRedo.undo()},t.redo=function(){return t.undoRedo.redo()},t.isUndoAvailable=function(){return t.undoRedo.isUndoAvailable()},t.isRedoAvailable=function(){return t.undoRedo.isRedoAvailable()},t.clearUndo=function(){return t.undoRedo.clear()}}function a(t){delete t.undo,delete t.redo,delete t.isUndoAvailable,delete t.isRedoAvailable,delete t.clearUndo}var l,u=(l=t("./../../helpers.js"),l&&l.__esModule&&l||{"default":l});Handsontable.UndoRedo=function(t){var e=this;this.instance=t,this.doneActions=[],this.undoneActions=[],this.ignoreNewActions=!1,t.addHook("afterChange",function(t,n){if(t){var i=new Handsontable.UndoRedo.ChangeAction(t);e.done(i)}}),t.addHook("afterCreateRow",function(t,n,i){if(!i){var o=new Handsontable.UndoRedo.CreateRowAction(t,n);e.done(o)}}),t.addHook("beforeRemoveRow",function(t,n){var i=e.instance.getData();t=(i.length+t)%i.length;var o=i.slice(t,t+n),r=new Handsontable.UndoRedo.RemoveRowAction(t,o);e.done(r)}),t.addHook("afterCreateCol",function(t,n,i){if(!i){var o=new Handsontable.UndoRedo.CreateColumnAction(t,n);e.done(o)}}),t.addHook("beforeRemoveCol",function(n,i){var o=e.instance.getData();n=(e.instance.countCols()+n)%e.instance.countCols();for(var r=[],s=0,a=o.length;a>s;s++)r[s]=o[s].slice(n,n+i);var l;Array.isArray(t.getSettings().colHeaders)&&(l=t.getSettings().colHeaders.slice(n,n+r.length));var u=new Handsontable.UndoRedo.RemoveColumnAction(n,r,l);e.done(u)}),t.addHook("beforeCellAlignment",function(t,n,i,o){var r=new Handsontable.UndoRedo.CellAlignmentAction(t,n,i,o);e.done(r)})},Handsontable.UndoRedo.prototype.done=function(t){this.ignoreNewActions||(this.doneActions.push(t),this.undoneActions.length=0)},Handsontable.UndoRedo.prototype.undo=function(){if(this.isUndoAvailable()){var t=this.doneActions.pop();this.ignoreNewActions=!0;var e=this;t.undo(this.instance,function(){e.ignoreNewActions=!1,e.undoneActions.push(t)})}},Handsontable.UndoRedo.prototype.redo=function(){if(this.isRedoAvailable()){var t=this.undoneActions.pop();this.ignoreNewActions=!0;var e=this;t.redo(this.instance,function(){e.ignoreNewActions=!1,e.doneActions.push(t)})}},Handsontable.UndoRedo.prototype.isUndoAvailable=function(){return this.doneActions.length>0},Handsontable.UndoRedo.prototype.isRedoAvailable=function(){return this.undoneActions.length>0},Handsontable.UndoRedo.prototype.clear=function(){this.doneActions.length=0,this.undoneActions.length=0},Handsontable.UndoRedo.Action=function(){},Handsontable.UndoRedo.Action.prototype.undo=function(){},Handsontable.UndoRedo.Action.prototype.redo=function(){},Handsontable.UndoRedo.ChangeAction=function(t){this.changes=t},u.inherit(Handsontable.UndoRedo.ChangeAction,Handsontable.UndoRedo.Action),Handsontable.UndoRedo.ChangeAction.prototype.undo=function(t,e){for(var n=u.deepClone(this.changes),i=t.countEmptyRows(!0),o=t.countEmptyCols(!0),r=0,s=n.length;s>r;r++)n[r].splice(3,1);t.addHookOnce("afterChange",e),t.setDataAtRowProp(n,null,null,"undo");for(var r=0,s=n.length;s>r;r++)t.getSettings().minSpareRows&&n[r][0]+1+t.getSettings().minSpareRows===t.countRows()&&i==t.getSettings().minSpareRows&&(t.alter("remove_row",parseInt(n[r][0]+1,10),t.getSettings().minSpareRows),t.undoRedo.doneActions.pop()),t.getSettings().minSpareCols&&n[r][1]+1+t.getSettings().minSpareCols===t.countCols()&&o==t.getSettings().minSpareCols&&(t.alter("remove_col",parseInt(n[r][1]+1,10),t.getSettings().minSpareCols),t.undoRedo.doneActions.pop())},Handsontable.UndoRedo.ChangeAction.prototype.redo=function(t,e){for(var n=u.deepClone(this.changes),i=0,o=n.length;o>i;i++)n[i].splice(2,1);t.addHookOnce("afterChange",e),t.setDataAtRowProp(n,null,null,"redo")},Handsontable.UndoRedo.CreateRowAction=function(t,e){this.index=t,this.amount=e},u.inherit(Handsontable.UndoRedo.CreateRowAction,Handsontable.UndoRedo.Action),Handsontable.UndoRedo.CreateRowAction.prototype.undo=function(t,e){var n=t.countRows(),i=t.getSettings().minSpareRows;this.index>=n&&this.index-i<n&&(this.index-=i),t.addHookOnce("afterRemoveRow",e),t.alter("remove_row",this.index,this.amount)},Handsontable.UndoRedo.CreateRowAction.prototype.redo=function(t,e){t.addHookOnce("afterCreateRow",e),t.alter("insert_row",this.index+1,this.amount)},Handsontable.UndoRedo.RemoveRowAction=function(t,e){this.index=t,this.data=e},u.inherit(Handsontable.UndoRedo.RemoveRowAction,Handsontable.UndoRedo.Action),Handsontable.UndoRedo.RemoveRowAction.prototype.undo=function(t,e){var n=[this.index,0];Array.prototype.push.apply(n,this.data),Array.prototype.splice.apply(t.getData(),n),t.addHookOnce("afterRender",e),t.render()},Handsontable.UndoRedo.RemoveRowAction.prototype.redo=function(t,e){t.addHookOnce("afterRemoveRow",e),t.alter("remove_row",this.index,this.data.length)},Handsontable.UndoRedo.CreateColumnAction=function(t,e){this.index=t,this.amount=e},u.inherit(Handsontable.UndoRedo.CreateColumnAction,Handsontable.UndoRedo.Action),Handsontable.UndoRedo.CreateColumnAction.prototype.undo=function(t,e){t.addHookOnce("afterRemoveCol",e),t.alter("remove_col",this.index,this.amount)},Handsontable.UndoRedo.CreateColumnAction.prototype.redo=function(t,e){t.addHookOnce("afterCreateCol",e),t.alter("insert_col",this.index+1,this.amount)},Handsontable.UndoRedo.CellAlignmentAction=function(t,e,n,i){this.stateBefore=t,this.range=e,this.type=n,this.alignment=i},Handsontable.UndoRedo.CellAlignmentAction.prototype.undo=function(t,e){if(t.contextMenu){for(var n=this.range.from.row;n<=this.range.to.row;n++)for(var i=this.range.from.col;i<=this.range.to.col;i++)t.setCellMeta(n,i,"className",this.stateBefore[n][i]||" htLeft");t.addHookOnce("afterRender",e),t.render()}},Handsontable.UndoRedo.CellAlignmentAction.prototype.redo=function(t,e){if(t.contextMenu){for(var n=this.range.from.row;n<=this.range.to.row;n++)for(var i=this.range.from.col;i<=this.range.to.col;i++)t.contextMenu.align.call(t,this.range,this.type,this.alignment);t.addHookOnce("afterRender",e),t.render()}},Handsontable.UndoRedo.RemoveColumnAction=function(t,e,n){this.index=t,this.data=e,this.amount=this.data[0].length,this.headers=n},u.inherit(Handsontable.UndoRedo.RemoveColumnAction,Handsontable.UndoRedo.Action),Handsontable.UndoRedo.RemoveColumnAction.prototype.undo=function(t,e){for(var n,i,o=0,r=t.getData().length;r>o;o++)n=t.getSourceDataAtRow(o),i=[this.index,0],Array.prototype.push.apply(i,this.data[o]),Array.prototype.splice.apply(n,i);"undefined"!=typeof this.headers&&(i=[this.index,0],Array.prototype.push.apply(i,this.headers),Array.prototype.splice.apply(t.getSettings().colHeaders,i)),t.addHookOnce("afterRender",e),t.render()},Handsontable.UndoRedo.RemoveColumnAction.prototype.redo=function(t,e){t.addHookOnce("afterRemoveCol",e),t.alter("remove_col",this.index,this.amount)},Handsontable.hooks.add("afterInit",i),Handsontable.hooks.add("afterUpdateSettings",i)},{"./../../helpers.js":42}],71:[function(t,e,n){"use strict";function i(t,e){var n;l[t]=e,n=a.toUpperCaseFirst(t)+"Renderer",Handsontable.renderers[n]=e,Handsontable[n]=e}function o(t){if("function"==typeof t)return t;if("string"!=typeof t)throw Error('Only strings and functions can be passed as "renderer" parameter');if(!(t in l))throw Error('No editor registered under name "'+t+'"');return l[t]}function r(t){return t in l}Object.defineProperties(n,{registerRenderer:{get:function(){return i}},getRenderer:{get:function(){return o}},hasRenderer:{get:function(){return r}},__esModule:{value:!0}});var s,a=(s=t("./helpers.js"),s&&s.__esModule&&s||{"default":s}),l={};Handsontable.renderers=Handsontable.renderers||{},Handsontable.renderers.registerRenderer=i,Handsontable.renderers.getRenderer=o},{"./helpers.js":42}],72:[function(t,e,n){"use strict";function i(t,e,n,i,o,r,a){a.className&&(e.className?e.className=e.className+" "+a.className:e.className=a.className),a.readOnly&&s.addClass(e,a.readOnlyCellClassName),a.valid===!1&&a.invalidCellClassName?s.addClass(e,a.invalidCellClassName):s.removeClass(e,a.invalidCellClassName),a.wordWrap===!1&&a.noWordWrapClassName&&s.addClass(e,a.noWordWrapClassName),!r&&a.placeholder&&s.addClass(e,a.placeholderCellClassName)}Object.defineProperties(n,{cellDecorator:{get:function(){return i}},__esModule:{value:!0}});var o,r,s=(o=t("./../dom.js"),o&&o.__esModule&&o||{"default":o}),a=(r=t("./../renderers.js"),r&&r.__esModule&&r||{"default":r}).registerRenderer;a("base",i),Handsontable.renderers.cellDecorator=i},{"./../dom.js":27,"./../renderers.js":71}],73:[function(t,e,n){"use strict";function i(t,e,n,i,o,r,s){var a=(p.cloneNode(!0),m.cloneNode(!0));if(h("text")(t,e,n,i,o,r,s),e.appendChild(a),l.addClass(e,"htAutocomplete"),e.firstChild||e.appendChild(document.createTextNode(String.fromCharCode(160))),!t.acArrowListener){var c=u(t);t.acArrowListener=function(o){l.hasClass(o.target,"htAutocompleteArrow")&&t.view.wt.getSetting("onCellDblClick",null,new f(n,i),e)},c.addEventListener(t.rootElement,"mousedown",t.acArrowListener),t.addHookOnce("afterDestroy",function(){c.destroy()})}}Object.defineProperties(n,{autocompleteRenderer:{get:function(){return i}},__esModule:{value:!0}});var o,r,s,a,l=(o=t("./../dom.js"),o&&o.__esModule&&o||{"default":o}),u=(r=t("./../eventManager.js"),r&&r.__esModule&&r||{"default":r}).eventManager,c=(s=t("./../renderers.js"),s&&s.__esModule&&s||{"default":s}),h=c.getRenderer,d=c.registerRenderer,f=(a=t("./../3rdparty/walkontable/src/cell/coords.js"),a&&a.__esModule&&a||{"default":a}).WalkontableCellCoords,p=document.createElement("DIV");p.className="htAutocompleteWrapper";var m=document.createElement("DIV");m.className="htAutocompleteArrow",m.appendChild(document.createTextNode(String.fromCharCode(9660))),d("autocomplete",i)},{"./../3rdparty/walkontable/src/cell/coords.js":5,"./../dom.js":27,"./../eventManager.js":41,"./../renderers.js":71}],74:[function(t,e,n){"use strict";function i(t,e,n,i,a,l,u){function c(t){var e=[d.keyCode.SPACE,d.keyCode.ENTER,d.keyCode.DELETE,d.keyCode.BACKSPACE];h.enableImmediatePropagation(t),-1===e.indexOf(t.keyCode)||t.isImmediatePropagationStopped()||y(function(){t.stopImmediatePropagation(),t.preventDefault()}),(t.keyCode==d.keyCode.SPACE||t.keyCode==d.keyCode.ENTER)&&p(),(t.keyCode==d.keyCode.DELETE||t.keyCode==d.keyCode.BACKSPACE)&&p(!1)}function p(){var t=void 0!==arguments[0]?arguments[0]:null;y(function(e){for(var n=0,i=e.length;i>n;n++){if(h.hasClass(e[n],v)&&null===t)return;m(e[n],t)}})}function m(t){var e=void 0!==arguments[1]?arguments[1]:null;null===e?t.checked=!t.checked:t.checked=e,w.fireEvent(t,"change")}function y(e){for(var n=t.getSelectedRange(),i=n.getTopLeftCorner(),o=n.getBottomRightCorner(),r=i.row;r<=o.row;r++)for(var s=i.col;s<=o.col;s++){var a=t.getCell(r,s),l=t.getCellMeta(r,s),u=a.querySelectorAll("input[type=checkbox]");u.length>0&&!l.readOnly&&e(u)}}var w=new f(t),b=o();"undefined"==typeof u.checkedTemplate&&(u.checkedTemplate=!0),"undefined"==typeof u.uncheckedTemplate&&(u.uncheckedTemplate=!1),h.empty(e),l===u.checkedTemplate||d.equalsIgnoreCase(l,u.checkedTemplate)?(b.checked=!0,e.appendChild(b)):l===u.uncheckedTemplate||d.equalsIgnoreCase(l,u.uncheckedTemplate)?e.appendChild(b):null===l?(h.addClass(b,"noValue"),e.appendChild(b)):(b.style.display="none",h.addClass(b,v),e.appendChild(b),e.appendChild(document.createTextNode("#bad-value#"))),u.readOnly?w.addEventListener(b,"click",r):(w.addEventListener(b,"mousedown",s),w.addEventListener(b,"mouseup",s),w.addEventListener(b,"change",function(e){t.setDataAtRowProp(n,a,e.target.checked?u.checkedTemplate:u.uncheckedTemplate)})),g.has(t)||(g.set(t,!0),t.addHook("beforeKeyDown",c))}function o(){var t=document.createElement("INPUT");return t.className="htCheckboxRendererInput",t.type="checkbox",t.setAttribute("autocomplete","off"),t.cloneNode(!1)}function r(t){t.preventDefault()}function s(t){d.stopPropagation(t)}Object.defineProperties(n,{checkboxRenderer:{get:function(){return i}},__esModule:{value:!0}});var a,l,u,c,h=(a=t("./../dom.js"),a&&a.__esModule&&a||{"default":a}),d=(l=t("./../helpers.js"),l&&l.__esModule&&l||{"default":l}),f=(u=t("./../eventManager.js"),u&&u.__esModule&&u||{"default":u}).EventManager,p=(c=t("./../renderers.js"),c&&c.__esModule&&c||{"default":c}),m=(p.getRenderer,p.registerRenderer),g=new WeakMap,v="htBadValue";m("checkbox",i)},{"./../dom.js":27,"./../eventManager.js":41,"./../helpers.js":42,"./../renderers.js":71}],75:[function(t,e,n){"use strict";function i(t,e,n,i,o,r,a){l("base").apply(this,arguments),s.fastInnerHTML(e,r)}Object.defineProperties(n,{htmlRenderer:{get:function(){return i}},__esModule:{value:!0}});var o,r,s=(o=t("./../dom.js"),o&&o.__esModule&&o||{"default":o}),a=(r=t("./../renderers.js"),r&&r.__esModule&&r||{"default":r}),l=a.getRenderer,u=a.registerRenderer;
u("html",i)},{"./../dom.js":27,"./../renderers.js":71}],76:[function(t,e,n){"use strict";function i(t,e,n,i,o,r,s){u.isNumeric(r)&&("undefined"!=typeof s.language&&c.language(s.language),r=c(r).format(s.format||"0"),l.addClass(e,"htNumeric")),d("text")(t,e,n,i,o,r,s)}Object.defineProperties(n,{numericRenderer:{get:function(){return i}},__esModule:{value:!0}});var o,r,s,a,l=(o=t("./../dom.js"),o&&o.__esModule&&o||{"default":o}),u=(r=t("./../helpers.js"),r&&r.__esModule&&r||{"default":r}),c=(s=t("numeral"),s&&s.__esModule&&s||{"default":s})["default"],h=(a=t("./../renderers.js"),a&&a.__esModule&&a||{"default":a}),d=h.getRenderer,f=h.registerRenderer;f("numeric",i)},{"./../dom.js":27,"./../helpers.js":42,"./../renderers.js":71,numeral:"numeral"}],77:[function(t,e,n){"use strict";function i(t,e,n,i,o,r,a){l("text").apply(this,arguments),r=e.innerHTML;var u,c=a.hashLength||r.length,h=a.hashSymbol||"*";for(u="";u.split(h).length-1<c;u+=h);s.fastInnerHTML(e,u)}Object.defineProperties(n,{passwordRenderer:{get:function(){return i}},__esModule:{value:!0}});var o,r,s=(o=t("./../dom.js"),o&&o.__esModule&&o||{"default":o}),a=(r=t("./../renderers.js"),r&&r.__esModule&&r||{"default":r}),l=a.getRenderer,u=a.registerRenderer;u("password",i)},{"./../dom.js":27,"./../renderers.js":71}],78:[function(t,e,n){"use strict";function i(t,e,n,i,o,r,s){c("base").apply(this,arguments),!r&&s.placeholder&&(r=s.placeholder);var u=l.stringify(r);if(t.getSettings().trimWhitespace||(u=u.replace(/ /g,String.fromCharCode(160))),s.rendererTemplate){a.empty(e);var h=document.createElement("TEMPLATE");h.setAttribute("bind","{{}}"),h.innerHTML=s.rendererTemplate,HTMLTemplateElement.decorate(h),h.model=t.getSourceDataAtRow(n),e.appendChild(h)}else a.fastInnerText(e,u)}Object.defineProperties(n,{textRenderer:{get:function(){return i}},__esModule:{value:!0}});var o,r,s,a=(o=t("./../dom.js"),o&&o.__esModule&&o||{"default":o}),l=(r=t("./../helpers.js"),r&&r.__esModule&&r||{"default":r}),u=(s=t("./../renderers.js"),s&&s.__esModule&&s||{"default":s}),c=u.getRenderer,h=u.registerRenderer;h("text",i)},{"./../dom.js":27,"./../helpers.js":42,"./../renderers.js":71}],79:[function(t,e,n){"use strict";!function(t){function e(t){return{configurable:!0,enumerable:!1,value:t,writable:!0}}function n(){return"__$"+Math.floor(1e9*Math.random())+"$"+ ++z+"$__"}function i(t){return X[t]}function o(){var t=n();return X[t]=!0,t}function r(t){return"object"==typeof t&&t instanceof l}function s(t){return r(t)?"symbol":typeof t}function a(t){var e=new l(t);if(!(this instanceof a))return e;throw new TypeError("Symbol cannot be new'ed")}function l(t){var e=n();P(this,G,{value:this}),P(this,Y,{value:e}),P(this,U,{value:t}),c(this),q[e]=this}function u(t){var e=t[K];return e&&e.self===t?e:B(t)?(Q.hash.value=Z++,Q.self.value=t,J.value=O(null,Q),P(t,K,J),J.value):void 0}function c(t){return u(t),L.apply(this,arguments)}function h(t){return u(t),F.apply(this,arguments)}function d(t){return u(t),W.apply(this,arguments)}function f(t){return q[t]||X[t]}function p(t){return r(t)?t[Y]:t}function m(t){for(var e=[],n=0;n<t.length;n++)f(t[n])||e.push(t[n]);return e}function g(t){return m(j(t))}function v(t){return m(N(t))}function y(t){for(var e=[],n=j(t),i=0;i<n.length;i++){var o=q[n[i]];o&&e.push(o)}return e}function w(t,e){return I(t,p(e))}function b(t){return $.call(this,p(t))}function C(e){return t.traceur&&t.traceur.options[e]}function k(t,e,n){return r(e)&&(e=e[Y]),P(t,e,n),t}function x(t){P(t,"defineProperty",{value:k}),P(t,"getOwnPropertyNames",{value:g}),P(t,"getOwnPropertyDescriptor",{value:w}),P(t.prototype,"hasOwnProperty",{value:b}),P(t,"freeze",{value:c}),P(t,"preventExtensions",{value:h}),P(t,"seal",{value:d}),P(t,"keys",{value:v})}function _(t){for(var e=1;e<arguments.length;e++)for(var n=j(arguments[e]),i=0;i<n.length;i++){var o=n[i];f(o)||!function(e,n){P(t,n,{get:function(){return e[n]},enumerable:!0})}(arguments[e],n[i])}return t}function T(t){return null!=t&&("object"==typeof t||"function"==typeof t)}function S(t){if(null==t)throw A();return M(t)}function E(t){if(null==t)throw new TypeError("Value cannot be converted to an Object");return t}function D(t,e){t.Symbol||(t.Symbol=e,Object.getOwnPropertySymbols=y),t.Symbol.iterator||(t.Symbol.iterator=e("Symbol.iterator"))}function R(t){D(t,a),t.Reflect=t.Reflect||{},t.Reflect.global=t.Reflect.global||t,x(t.Object)}if(!t.$traceurRuntime){var M=Object,A=TypeError,O=M.create,H=M.defineProperties,P=M.defineProperty,L=M.freeze,I=M.getOwnPropertyDescriptor,j=M.getOwnPropertyNames,N=M.keys,$=M.prototype.hasOwnProperty,F=(M.prototype.toString,Object.preventExtensions),W=Object.seal,B=Object.isExtensible,V=e,z=0,Y=n(),U=n(),G=n(),q=O(null),X=O(null);P(a.prototype,"constructor",e(a)),P(a.prototype,"toString",V(function(){var t=this[G];if(!C("symbols"))return t[Y];if(!t)throw TypeError("Conversion from symbol to string");var e=t[U];return void 0===e&&(e=""),"Symbol("+e+")"})),P(a.prototype,"valueOf",V(function(){var t=this[G];if(!t)throw TypeError("Conversion from symbol to string");return C("symbols")?t:t[Y]})),P(l.prototype,"constructor",e(a)),P(l.prototype,"toString",{value:a.prototype.toString,enumerable:!1}),P(l.prototype,"valueOf",{value:a.prototype.valueOf,enumerable:!1});var K=o(),J={value:void 0},Q={hash:{value:void 0},self:{value:void 0}},Z=0;c(l.prototype),R(t),t.$traceurRuntime={checkObjectCoercible:E,createPrivateName:o,defineProperties:H,defineProperty:P,exportStar:_,getOwnHashObject:u,getOwnPropertyDescriptor:I,getOwnPropertyNames:j,isObject:T,isPrivateName:i,isSymbolString:f,keys:N,setupGlobals:R,toObject:S,toProperty:p,"typeof":s}}}(window),function(){function e(e,i){function o(t){return"/"===t.slice(-1)}function r(t){return"/"===t[0]}function s(t){return"."===t[0]}return n=n||"undefined"!=typeof t&&t("path"),o(i)||r(i)?void 0:t(s(i)?n.resolve(n.dirname(e),i):i)}var n;$traceurRuntime.require=e}(),function(){function t(){for(var t,e=[],n=0,i=0;i<arguments.length;i++){var o=$traceurRuntime.checkObjectCoercible(arguments[i]);if("function"!=typeof o[$traceurRuntime.toProperty(Symbol.iterator)])throw new TypeError("Cannot spread non-iterable object.");for(var r=o[$traceurRuntime.toProperty(Symbol.iterator)]();!(t=r.next()).done;)e[n++]=t.value}return e}$traceurRuntime.spread=t}(),function(){function t(t,e){var n=m(t);do{var i=p(n,e);if(i)return i;n=m(n)}while(n);return void 0}function e(t){return t.__proto__}function n(t,e,n,o){return i(t,e,n).apply(t,o)}function i(e,n,i){var o=t(n,i);return o?o.get?o.get.call(e):o.value:void 0}function o(e,n,i,o){var r=t(n,i);if(r&&r.set)return r.set.call(e,o),o;throw c("super has no setter '"+i+"'.")}function r(t){for(var e={},n=v(t),i=0;i<n.length;i++){var o=n[i];e[o]=p(t,o)}for(var r=y(t),i=0;i<r.length;i++){var s=r[i];e[$traceurRuntime.toProperty(s)]=p(t,$traceurRuntime.toProperty(s))}return e}function s(t,e,n,i){return f(e,"constructor",{value:t,configurable:!0,enumerable:!1,writable:!0}),arguments.length>3?("function"==typeof i&&(t.__proto__=i),t.prototype=h(a(i),r(e))):t.prototype=e,f(t,"prototype",{configurable:!1,writable:!1}),d(t,r(n))}function a(t){if("function"==typeof t){var e=t.prototype;if(u(e)===e||null===e)return t.prototype;throw new c("super prototype must be an Object or null")}if(null===t)return null;throw new c("Super expression must either be null or a function, not "+typeof t+".")}function l(t,e,i){null!==m(e)&&n(t,e,"constructor",i)}var u=Object,c=TypeError,h=u.create,d=$traceurRuntime.defineProperties,f=$traceurRuntime.defineProperty,p=$traceurRuntime.getOwnPropertyDescriptor,m=($traceurRuntime.getOwnPropertyNames,Object.getPrototypeOf),g=Object,v=g.getOwnPropertyNames,y=g.getOwnPropertySymbols;$traceurRuntime.createClass=s,$traceurRuntime.defaultSuperCall=l,$traceurRuntime.superCall=n,$traceurRuntime.superConstructor=e,$traceurRuntime.superGet=i,$traceurRuntime.superSet=o}()},{path:void 0}],80:[function(t,e,n){"use strict";function i(t){var e=this;this.eventManager=d(t),this.instance=t,this.settings=t.getSettings();var n=t.rootElement.getAttribute("style");n&&t.rootElement.setAttribute("data-originalstyle",n),c.addClass(t.rootElement,"handsontable");var i=document.createElement("TABLE");i.className="htCore",this.THEAD=document.createElement("THEAD"),i.appendChild(this.THEAD),this.TBODY=document.createElement("TBODY"),i.appendChild(this.TBODY),t.table=i,t.container.insertBefore(i,t.container.firstChild),this.eventManager.addEventListener(t.rootElement,"mousedown",function(t){e.isTextSelectionAllowed(t.target)||(r(),t.preventDefault(),window.focus())}),this.eventManager.addEventListener(document.documentElement,"keyup",function(e){t.selection.isInProgress()&&!e.shiftKey&&t.selection.finish()});var o;this.isMouseDown=function(){return o},this.eventManager.addEventListener(document.documentElement,"mouseup",function(e){t.selection.isInProgress()&&1===e.which&&t.selection.finish(),o=!1,h.isOutsideInput(document.activeElement)&&t.unlisten()}),this.eventManager.addEventListener(document.documentElement,"mousedown",function(n){var i=n.target,r=n.x||n.clientX,s=n.y||n.clientY;if(!o&&t.rootElement){if(i!==t.view.wt.wtTable.holder)for(;i!==document.documentElement;){if(null===i){if(n.isTargetWebComponent)break;return}if(i===t.rootElement)return;i=i.parentNode}else{var a=Handsontable.Dom.getScrollbarWidth();if(document.elementFromPoint(r+a,s)!==t.view.wt.wtTable.holder||document.elementFromPoint(r,s+a)!==t.view.wt.wtTable.holder)return}e.settings.outsideClickDeselects?t.deselectCell():t.destroyEditor()}}),this.eventManager.addEventListener(i,"selectstart",function(t){e.settings.fragmentSelection||t.preventDefault()});var r=function(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()},s=[new p({className:"current",border:{width:2,color:"#5292F7",cornerVisible:function(){return e.settings.fillHandle&&!e.isCellEdited()&&!t.selection.isMultiple()},multipleSelectionHandlesVisible:function(){return!e.isCellEdited()&&!t.selection.isMultiple()}}}),new p({className:"area",border:{width:1,color:"#89AFF9",cornerVisible:function(){return e.settings.fillHandle&&!e.isCellEdited()&&t.selection.isMultiple()},multipleSelectionHandlesVisible:function(){return!e.isCellEdited()&&t.selection.isMultiple()}}}),new p({className:"highlight",highlightRowClassName:e.settings.currentRowClassName,highlightColumnClassName:e.settings.currentColClassName}),new p({className:"fill",border:{width:1,color:"red"}})];s.current=s[0],s.area=s[1],s.highlight=s[2],s.fill=s[3];var a={debug:function(){return e.settings.debug},externalRowCalculator:this.instance.getPlugin("autoRowSize")&&this.instance.getPlugin("autoRowSize").isEnabled(),table:i,stretchH:this.settings.stretchH,data:t.getDataAtCell,totalRows:t.countRows,totalColumns:t.countCols,fixedColumnsLeft:function(){return e.settings.fixedColumnsLeft},fixedRowsTop:function(){return e.settings.fixedRowsTop},renderAllRows:e.settings.renderAllRows,rowHeaders:function(){var n=[];return t.hasRowHeaders()&&n.push(function(t,n){e.appendRowHeader(t,n)}),Handsontable.hooks.run(t,"afterGetRowHeaderRenderers",n),n},columnHeaders:function(){var n=[];return t.hasColHeaders()&&n.push(function(t,n){e.appendColHeader(t,n)}),Handsontable.hooks.run(t,"afterGetColumnHeaderRenderers",n),n},columnWidth:t.getColWidth,rowHeight:t.getRowHeight,cellRenderer:function(t,n,i){var o=e.instance.colToProp(n),r=e.instance.getCellMeta(t,n),s=e.instance.getCellRenderer(r),a=e.instance.getDataAtRowProp(t,o);s(e.instance,i,t,n,o,a,r),Handsontable.hooks.run(e.instance,"afterRenderer",i,t,n,o,a,r)},selections:s,hideBorderOnMouseDownOver:function(){return e.settings.fragmentSelection},onCellMouseDown:function(n,i,r,s){t.listen(),e.activeWt=s,o=!0,c.enableImmediatePropagation(n),Handsontable.hooks.run(t,"beforeOnCellMouseDown",n,i,r),n.isImmediatePropagationStopped()||(2===n.button&&t.selection.inInSelection(i)||(n.shiftKey?i.row>=0&&i.col>=0&&t.selection.setRangeEnd(i):(i.row<0||i.col<0)&&(i.row>=0||i.col>=0)?(i.row<0&&(t.selectCell(0,i.col,t.countRows()-1,i.col),t.selection.setSelectedHeaders(!1,!0)),i.col<0&&(t.selectCell(i.row,0,i.row,t.countCols()-1),t.selection.setSelectedHeaders(!0,!1))):(i.row=i.row<0?0:i.row,i.col=i.col<0?0:i.col,t.selection.setRangeStart(i))),Handsontable.hooks.run(t,"afterOnCellMouseDown",n,i,r),e.activeWt=e.wt)},onCellMouseOver:function(n,i,r,s){e.activeWt=s,i.row>=0&&i.col>=0?o&&t.selection.setRangeEnd(i):o&&(i.row<0&&(t.selection.setRangeEnd(new f(t.countRows()-1,i.col)),t.selection.setSelectedHeaders(!1,!0)),i.col<0&&(t.selection.setRangeEnd(new f(i.row,t.countCols()-1)),t.selection.setSelectedHeaders(!0,!1))),Handsontable.hooks.run(t,"afterOnCellMouseOver",n,i,r),e.activeWt=e.wt},onCellCornerMouseDown:function(e){e.preventDefault(),Handsontable.hooks.run(t,"afterOnCellCornerMouseDown",e)},beforeDraw:function(t){e.beforeRender(t)},onDraw:function(t){e.onDraw(t)},onScrollVertically:function(){t.runHooks("afterScrollVertically")},onScrollHorizontally:function(){t.runHooks("afterScrollHorizontally")},onBeforeDrawBorders:function(e,n){t.runHooks("beforeDrawBorders",e,n)},onBeforeTouchScroll:function(){t.runHooks("beforeTouchScroll")},onAfterMomentumScroll:function(){t.runHooks("afterMomentumScroll")},viewportRowCalculatorOverride:function(n){var i=t.countRows(),o=e.settings.viewportRowRenderingOffset;if("auto"===o&&e.settings.fixedRowsTop&&(o=10),"number"==typeof o&&(n.startRow=Math.max(n.startRow-o,0),n.endRow=Math.min(n.endRow+o,i-1)),"auto"===o){var r=n.startRow+n.endRow-n.startRow,s=Math.ceil(r/i*12);n.startRow=Math.max(n.startRow-s,0),n.endRow=Math.min(n.endRow+s,i-1)}t.runHooks("afterViewportRowCalculatorOverride",n)},viewportColumnCalculatorOverride:function(n){var i=t.countCols(),o=e.settings.viewportColumnRenderingOffset;if("auto"===o&&e.settings.fixedColumnsLeft&&(o=10),"number"==typeof o&&(n.startColumn=Math.max(n.startColumn-o,0),n.endColumn=Math.min(n.endColumn+o,i-1)),"auto"===o){var r=n.startColumn+n.endColumn-n.startColumn,s=Math.ceil(r/i*12);n.startRow=Math.max(n.startColumn-s,0),n.endColumn=Math.min(n.endColumn+s,i-1)}t.runHooks("afterViewportColumnCalculatorOverride",n)}};Handsontable.hooks.run(t,"beforeInitWalkontable",a),this.wt=new m(a),this.activeWt=this.wt,this.eventManager.addEventListener(e.wt.wtTable.spreader,"mousedown",function(t){t.target===e.wt.wtTable.spreader&&3===t.which&&h.stopPropagation(t)}),this.eventManager.addEventListener(e.wt.wtTable.spreader,"contextmenu",function(t){t.target===e.wt.wtTable.spreader&&3===t.which&&h.stopPropagation(t)}),this.eventManager.addEventListener(document.documentElement,"click",function(){e.settings.observeDOMVisibility&&e.wt.drawInterrupted&&(e.instance.forceFullRender=!0,e.render())})}Object.defineProperties(n,{TableView:{get:function(){return i}},__esModule:{value:!0}});var o,r,s,a,l,u,c=(o=t("./dom.js"),o&&o.__esModule&&o||{"default":o}),h=(r=t("./helpers.js"),r&&r.__esModule&&r||{"default":r}),d=(s=t("./eventManager.js"),s&&s.__esModule&&s||{"default":s}).eventManager,f=(a=t("./3rdparty/walkontable/src/cell/coords.js"),a&&a.__esModule&&a||{"default":a}).WalkontableCellCoords,p=(l=t("./3rdparty/walkontable/src/selection.js"),l&&l.__esModule&&l||{"default":l}).WalkontableSelection,m=(u=t("./3rdparty/walkontable/src/core.js"),u&&u.__esModule&&u||{"default":u}).Walkontable;Handsontable.TableView=i,i.prototype.isTextSelectionAllowed=function(t){return h.isInput(t)?!0:this.settings.fragmentSelection&&c.isChildOf(t,this.TBODY)?!0:!1},i.prototype.isCellEdited=function(){var t=this.instance.getActiveEditor();return t&&t.isOpened()},i.prototype.beforeRender=function(t){t&&Handsontable.hooks.run(this.instance,"beforeRender",this.instance.forceFullRender)},i.prototype.onDraw=function(t){t&&Handsontable.hooks.run(this.instance,"afterRender",this.instance.forceFullRender)},i.prototype.render=function(){this.wt.draw(!this.instance.forceFullRender),this.instance.forceFullRender=!1,this.instance.renderCall=!1},i.prototype.getCellAtCoords=function(t,e){var n=this.wt.getCell(t,e);return 0>n?null:n},i.prototype.scrollViewport=function(t){this.wt.scrollViewport(t)},i.prototype.appendRowHeader=function(t,e){if(e.firstChild){var n=e.firstChild;if(!c.hasClass(n,"relative"))return c.empty(e),void this.appendRowHeader(t,e);this.updateCellHeader(n.firstChild,t,this.instance.getRowHeader)}else{var i=document.createElement("div"),o=document.createElement("span");i.className="relative",o.className="colHeader",this.updateCellHeader(o,t,this.instance.getRowHeader),i.appendChild(o),e.appendChild(i)}Handsontable.hooks.run(this.instance,"afterGetRowHeader",t,e)},i.prototype.appendColHeader=function(t,e){if(e.firstChild){var n=e.firstChild;if(!c.hasClass(n,"relative"))return c.empty(e),void this.appendRowHeader(t,e);this.updateCellHeader(n.firstChild,t,this.instance.getColHeader)}else{var i=document.createElement("div"),o=document.createElement("span");i.className="relative",o.className="colHeader",this.updateCellHeader(o,t,this.instance.getColHeader),i.appendChild(o),e.appendChild(i)}Handsontable.hooks.run(this.instance,"afterGetColHeader",t,e)},i.prototype.updateCellHeader=function(t,e,n){e>-1?c.fastInnerHTML(t,n(e)):(c.fastInnerText(t,String.fromCharCode(160)),c.addClass(t,"cornerHeader"))},i.prototype.maximumVisibleElementWidth=function(t){var e=this.wt.wtViewport.getWorkspaceWidth(),n=e-t;return n>0?n:0},i.prototype.maximumVisibleElementHeight=function(t){var e=this.wt.wtViewport.getWorkspaceHeight(),n=e-t;return n>0?n:0},i.prototype.mainViewIsActive=function(){return this.wt===this.activeWt},i.prototype.destroy=function(){this.wt.destroy(),this.eventManager.destroy()}},{"./3rdparty/walkontable/src/cell/coords.js":5,"./3rdparty/walkontable/src/core.js":7,"./3rdparty/walkontable/src/selection.js":18,"./dom.js":27,"./eventManager.js":41,"./helpers.js":42}],81:[function(t,e,n){"use strict";Object.defineProperties(n,{GhostTable:{get:function(){return h}},__esModule:{value:!0}});var i,o,r=(i=t("./../dom.js"),i&&i.__esModule&&i||{"default":i}),s=r.addClass,a=r.outerHeight,l=r.outerWidth,u=(o=t("./../helpers.js"),o&&o.__esModule&&o||{"default":o}),c=u.arrayEach,h=(u.objectEach,u.rangeEach,u.stringify,function(t){this.hot=t,this.container=null,this.injected=!1,this.rows=[],this.columns=[],this.samples=null});$traceurRuntime.createClass(h,{addRow:function(t,e){if(this.columns.length)throw new Error("Doesn't support multi-dimensional table");this.rows.length||(this.container=this.createContainer(this.hot.rootElement.className));var n={row:t};this.rows.push(n),this.samples=e,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.table.tr.appendChild(this.createRow(t)),this.container.container.appendChild(this.table.fragment),n.table=this.table.table},addColumn:function(t,e){if(this.rows.length)throw new Error("Doesn't support multi-dimensional table");this.columns.length||(this.container=this.createContainer(this.hot.rootElement.className));var n={col:t};this.columns.push(n),this.samples=e,this.table=this.createTable(this.hot.table.className),null!==this.hot.getColHeader(t)&&this.hot.view.appendColHeader(t,this.table.th),this.table.tBody.appendChild(this.createCol(t)),this.container.container.appendChild(this.table.fragment),n.table=this.table.table},getHeights:function(t){this.injected||this.injectTable(),c(this.rows,function(e){t(e.row,a(e.table)-1)})},getWidths:function(t){this.injected||this.injectTable(),c(this.columns,function(e){t(e.col,l(e.table))})},createColGroupsCol:function(){var t=this,e=document,n=e.createDocumentFragment();return n.appendChild(this.createColElement(-1)),this.samples.forEach(function(e){c(e.strings,function(e){n.appendChild(t.createColElement(e.col))})}),n},createRow:function(t){var e=this,n=document,i=n.createDocumentFragment(),o=n.createElement("th");return null!==this.hot.getRowHeader(t)&&this.hot.view.appendRowHeader(t,o),i.appendChild(o),this.samples.forEach(function(o){c(o.strings,function(o){var r=o.col,s=e.hot.getCellMeta(t,r);s.col=r,s.row=t;var a=e.hot.getCellRenderer(s),l=n.createElement("td");a(e.hot,l,t,r,e.hot.colToProp(r),o.value,s),i.appendChild(l)})}),i},createCol:function(t){var e=this,n=document,i=n.createDocumentFragment();return this.samples.forEach(function(o){c(o.strings,function(o){var r=o.row,s=e.hot.getCellMeta(r,t);s.col=t,s.row=r;var a=e.hot.getCellRenderer(s),l=n.createElement("td"),u=n.createElement("tr");a(e.hot,l,r,t,e.hot.colToProp(r),o.value,s),u.appendChild(l),i.appendChild(u)})}),i},clean:function(){this.rows.length=0,this.columns.length=0,this.samples&&this.samples.clear(),this.samples=null,this.removeTable()},injectTable:function(){var t=void 0!==arguments[0]?arguments[0]:null;this.injected||((t||this.hot.rootElement).appendChild(this.container.fragment),this.injected=!0)},removeTable:function(){this.injected&&this.container.container.parentNode&&(this.container.container.parentNode.removeChild(this.container.container),this.container=null,this.injected=!1)},createColElement:function(t){var e=document,n=e.createElement("col");return n.style.width=this.hot.view.wt.wtTable.getStretchedColumnWidth(t)+"px",n},createTable:function(){var t=void 0!==arguments[0]?arguments[0]:"",e=document,n=e.createDocumentFragment(),i=e.createElement("table"),o=e.createElement("thead"),r=e.createElement("tbody"),a=e.createElement("colgroup"),l=e.createElement("tr"),u=e.createElement("th");return this.isVertical()&&i.appendChild(a),this.isHorizontal()&&(l.appendChild(u),o.appendChild(l),i.style.tableLayout="auto",i.style.width="auto"),i.appendChild(o),this.isVertical()&&r.appendChild(l),i.appendChild(r),s(i,t),n.appendChild(i),{fragment:n,table:i,tHead:o,tBody:r,colGroup:a,tr:l,th:u}},createContainer:function(){var t=void 0!==arguments[0]?arguments[0]:"",e=document,n=e.createDocumentFragment(),i=e.createElement("div");return t="htGhostTable htAutoSize "+t.trim(),s(i,t),n.appendChild(i),{fragment:n,container:i}},isVertical:function(){return this.rows.length&&!this.columns.length?!0:!1},isHorizontal:function(){return this.columns.length&&!this.rows.length?!0:!1}},{}),Handsontable.utils=Handsontable.utils||{},Handsontable.utils.GhostTable=h},{"./../dom.js":27,"./../helpers.js":42}],82:[function(t,e,n){"use strict";var i;Object.defineProperties(n,{SamplesGenerator:{get:function(){return c}},__esModule:{value:!0}});var o,r,s=(o=t("./../dom.js"),o&&o.__esModule&&o||{"default":o}),a=(s.addClass,s.outerHeight,s.outerWidth,r=t("./../helpers.js"),r&&r.__esModule&&r||{"default":r}),l=(a.arrayEach,a.objectEach,a.rangeEach),u=a.stringify,c=function(t){this.samples=null,this.dataFactory=t},h=c;$traceurRuntime.createClass(c,(i={},Object.defineProperty(i,"generateRowSamples",{value:function(t,e){return this.generateSamples("row",e,t)},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(i,"generateColumnSamples",{value:function(t,e){return this.generateSamples("col",e,t)},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(i,"generateSamples",{value:function(t,e,n){var i=this,o=new Map;return"number"==typeof n&&(n={from:n,to:n}),l(n.from,n.to,function(n){var r=i.generateSample(t,e,n);o.set(n,r)}),o},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(i,"generateSample",{value:function(t,e,n){var i=this,o=new Map;return l(e.from,e.to,function(e){var r,s;if("row"===t)s=i.dataFactory(n,e);else{if("col"!==t)throw new Error("Unsupported sample type");s=i.dataFactory(e,n)}Array.isArray(s)||(s=u(s));var a=s.length;o.has(a)||o.set(a,{needed:h.SAMPLE_COUNT,strings:[]});var l=o.get(a);l.needed&&(l.strings.push((r={},Object.defineProperty(r,"value",{value:s,configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(r,"row"===t?"col":"row",{value:e,configurable:!0,enumerable:!0,writable:!0}),r)),l.needed--)}),o},configurable:!0,enumerable:!0,writable:!0}),i),{get SAMPLE_COUNT(){return 3}}),Handsontable.utils=Handsontable.utils||{},Handsontable.utils.SamplesGenerator=c},{"./../dom.js":27,"./../helpers.js":42}],83:[function(t,e,n){"use strict";var i=function(t,e){var n=t,i="string"==typeof n?n.toLowerCase():null;return function(t){for(var o=!1,r=0,s=t.length;s>r;r++){if(n===t[r]){o=!0;break}if(i===Handsontable.helper.stringify(t[r]).toLowerCase()){o=!0;break}}e(o)}};Handsontable.AutocompleteValidator=function(t,e){this.strict&&this.source?"function"==typeof this.source?this.source(t,i(t,e)):i(t,e)(this.source):e(!0)}},{}],84:[function(t,e,n){"use strict";var i,o,r=(i=t("moment"),i&&i.__esModule&&i||{"default":i})["default"],s=(o=t("./../editors.js"),o&&o.__esModule&&o||{"default":o}).getEditor;Handsontable.DateValidator=function(t,e){var n=!0,i=s("date",this.instance);null===t&&(t="");var o=r(new Date(t)).isValid(),l=r(t,this.dateFormat||i.defaultDateFormat,!0).isValid();if(o||(n=!1),!o&&l&&(n=!0),o&&!l)if(this.correctFormat===!0){var u=a(t,this.dateFormat);this.instance.setDataAtCell(this.row,this.col,u,"dateValidator"),n=!0}else n=!1;e(n)};var a=function(t,e){var n=r(new Date(t)),i=n.format("YYYY"),o=r().format("YYYY");return i.substr(0,2)!==o.substr(0,2)?t.match(new RegExp(i))||n.year(i.replace(i.substr(0,2),o.substr(0,2))):i.length>4&&n.year((n.year()+"").substr(0,4)),n.format(e)}},{"./../editors.js":29,moment:"moment"}],85:[function(t,e,n){"use strict";Handsontable.NumericValidator=function(t,e){null===t&&(t=""),e(/^-?\d*(\.|\,)?\d*$/.test(t))}},{}],SheetClip:[function(t,e,n){"use strict";!function(t){function e(t){return t.split('"').length-1}var i={parse:function(t){var n,i,o,r,s,a,l,u=[],c=0;for(o=t.split("\n"),o.length>1&&""===o[o.length-1]&&o.pop(),n=0,i=o.length;i>n;n+=1){for(o[n]=o[n].split("	"),r=0,s=o[n].length;s>r;r+=1)u[c]||(u[c]=[]),a&&0===r?(l=u[c].length-1,u[c][l]=u[c][l]+"\n"+o[n][0],a&&1&e(o[n][0])&&(a=!1,u[c][l]=u[c][l].substring(0,u[c][l].length-1).replace(/""/g,'"'))):r===s-1&&0===o[n][r].indexOf('"')&&1&e(o[n][r])?(u[c].push(o[n][r].substring(1).replace(/""/g,'"')),a=!0):(u[c].push(o[n][r].replace(/""/g,'"')),a=!1);a||(c+=1)}return u},stringify:function(t){var e,n,i,o,r,s="";for(e=0,n=t.length;n>e;e+=1){for(o=t[e].length,i=0;o>i;i+=1)i>0&&(s+="	"),r=t[e][i],s+="string"==typeof r?r.indexOf("\n")>-1?'"'+r.replace(/"/g,'""')+'"':r:null===r||void 0===r?"":r;s+="\n"}return s}};"undefined"!=typeof n?(n.parse=i.parse,n.stringify=i.stringify):t.SheetClip=i}(window)},{}],autoResize:[function(t,e,n){"use strict";function i(){var t,e={minHeight:200,maxHeight:300,minWidth:100,maxWidth:300},n=document.body,i=document.createTextNode(""),o=document.createElement("SPAN"),r=function(t,e,n){window.attachEvent?t.attachEvent("on"+e,n):t.addEventListener(e,n,!1)},s=function(t,e,n){window.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)},a=function(r){var s,a;r?/^[a-zA-Z \.,\\\/\|0-9]$/.test(r)||(r="."):r="",void 0!==i.textContent?i.textContent=t.value+r:i.data=t.value+r,o.style.fontSize=Handsontable.Dom.getComputedStyle(t).fontSize,o.style.fontFamily=Handsontable.Dom.getComputedStyle(t).fontFamily,o.style.whiteSpace="pre",n.appendChild(o),s=o.clientWidth+2,n.removeChild(o),t.style.height=e.minHeight+"px",e.minWidth>s?t.style.width=e.minWidth+"px":s>e.maxWidth?t.style.width=e.maxWidth+"px":t.style.width=s+"px",a=t.scrollHeight?t.scrollHeight-1:0,e.minHeight>a?t.style.height=e.minHeight+"px":e.maxHeight<a?(t.style.height=e.maxHeight+"px",t.style.overflowY="visible"):t.style.height=a+"px"},l=function(){window.setTimeout(a,0)},u=function(n){if(n&&n.minHeight)if("inherit"==n.minHeight)e.minHeight=t.clientHeight;else{var r=parseInt(n.minHeight);isNaN(r)||(e.minHeight=r)}if(n&&n.maxHeight)if("inherit"==n.maxHeight)e.maxHeight=t.clientHeight;else{var s=parseInt(n.maxHeight);isNaN(s)||(e.maxHeight=s)}if(n&&n.minWidth)if("inherit"==n.minWidth)e.minWidth=t.clientWidth;else{var a=parseInt(n.minWidth);isNaN(a)||(e.minWidth=a)}if(n&&n.maxWidth)if("inherit"==n.maxWidth)e.maxWidth=t.clientWidth;else{var l=parseInt(n.maxWidth);isNaN(l)||(e.maxWidth=l)}o.firstChild||(o.className="autoResize",o.style.display="inline-block",o.appendChild(i))},c=function(n,i,o){t=n,u(i),"TEXTAREA"==t.nodeName&&(t.style.resize="none",t.style.overflowY="",t.style.height=e.minHeight+"px",t.style.minWidth=e.minWidth+"px",t.style.maxWidth=e.maxWidth+"px",t.style.overflowY="hidden"),o&&(r(t,"change",a),r(t,"cut",l),r(t,"paste",l),r(t,"drop",l),r(t,"keydown",l)),a()};return{init:function(t,e,n){c(t,e,n)},unObserve:function(){s(t,"change",a),s(t,"cut",l),s(t,"paste",l),s(t,"drop",l),s(t,"keydown",l)},resize:a}}"undefined"!=typeof n&&(e.exports=i)},{}],copyPaste:[function(t,e,n){"use strict";function i(){return r?r.hasBeenDestroyed()&&r.init():r=new o,r.refCounter++,r}function o(){this.refCounter=0,this.init()}var r;"undefined"!=typeof n&&(e.exports=i),o.prototype.init=function(){var t,e;this.copyCallbacks=[],this.cutCallbacks=[],this.pasteCallbacks=[],e=document.body,document.getElementById("CopyPasteDiv")?(this.elDiv=document.getElementById("CopyPasteDiv"),this.elTextarea=this.elDiv.firstChild):(this.elDiv=document.createElement("div"),this.elDiv.id="CopyPasteDiv",t=this.elDiv.style,t.position="fixed",t.top="-10000px",t.left="-10000px",e.appendChild(this.elDiv),this.elTextarea=document.createElement("textarea"),this.elTextarea.className="copyPaste",this.elTextarea.onpaste=function(t){var e,n;return"WebkitAppearance"in document.documentElement.style?(e=t.clipboardData.getData("Text"),-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome")&&(n=e.split("\n"),""===n[n.length-1]&&n.pop(),e=n.join("\n")),this.value=e,!1):void 0},t=this.elTextarea.style,t.width="10000px",t.height="10000px",t.overflow="hidden",this.elDiv.appendChild(this.elTextarea),"undefined"!=typeof t.opacity&&(t.opacity=0)),this.onKeyDownRef=this.onKeyDown.bind(this),document.documentElement.addEventListener("keydown",this.onKeyDownRef,!1)},o.prototype.onKeyDown=function(t){function e(){var t=document.activeElement;return t.shadowRoot&&t.shadowRoot.activeElement&&(t=t.shadowRoot.activeElement),["INPUT","SELECT","TEXTAREA"].indexOf(t.nodeName)>-1||"true"===t.contentEditable}var n=this,i=!1;if(t.metaKey?i=!0:t.ctrlKey&&-1===navigator.userAgent.indexOf("Mac")&&(i=!0),i){if(document.activeElement!==this.elTextarea&&(""!==this.getSelectionText()||e()))return;this.selectNodeText(this.elTextarea),setTimeout(function(){document.activeElement!==n.elTextarea&&n.selectNodeText(n.elTextarea)},0)}!i||67!==t.keyCode&&86!==t.keyCode&&88!==t.keyCode||(88===t.keyCode?setTimeout(function(){n.triggerCut(t)},0):86===t.keyCode&&setTimeout(function(){n.triggerPaste(t)},0))},o.prototype.selectNodeText=function(t){t&&t.select()},o.prototype.getSelectionText=function(){var t="";return window.getSelection?t=window.getSelection().toString():document.selection&&"Control"!==document.selection.type&&(t=document.selection.createRange().text),t},o.prototype.copyable=function(t){if("string"!=typeof t&&void 0===t.toString)throw new Error("copyable requires string parameter");this.elTextarea.value=t,this.selectNodeText(this.elTextarea)},o.prototype.onCut=function(t){this.cutCallbacks.push(t)},o.prototype.onPaste=function(t){this.pasteCallbacks.push(t)},o.prototype.removeCallback=function(t){var e,n;for(e=0,n=this.copyCallbacks.length;n>e;e++)if(this.copyCallbacks[e]===t)return this.copyCallbacks.splice(e,1),!0;for(e=0,n=this.cutCallbacks.length;n>e;e++)if(this.cutCallbacks[e]===t)return this.cutCallbacks.splice(e,1),!0;for(e=0,n=this.pasteCallbacks.length;n>e;e++)if(this.pasteCallbacks[e]===t)return this.pasteCallbacks.splice(e,1),!0;return!1},o.prototype.triggerCut=function(t){var e=this;e.cutCallbacks&&setTimeout(function(){for(var n=0,i=e.cutCallbacks.length;i>n;n++)e.cutCallbacks[n](t)},50)},o.prototype.triggerPaste=function(t,e){var n=this;n.pasteCallbacks&&setTimeout(function(){for(var i=e||n.elTextarea.value,o=0,r=n.pasteCallbacks.length;r>o;o++)n.pasteCallbacks[o](i,t)},50)},o.prototype.destroy=function(){this.hasBeenDestroyed()||0!==--this.refCounter||(this.elDiv&&this.elDiv.parentNode&&(this.elDiv.parentNode.removeChild(this.elDiv),this.elDiv=null,this.elTextarea=null),document.documentElement.removeEventListener("keydown",this.onKeyDownRef),this.onKeyDownRef=null)},o.prototype.hasBeenDestroyed=function(){return!this.refCounter}},{}],es6collections:[function(t,e,n){"use strict";!function(t){function e(t,e){function i(t){return this&&this.constructor===i?(this._keys=[],this._values=[],this._itp=[],this.objectOnly=e,void(t&&n.call(this,t))):new i(t)}return e||w(t,"size",{get:g}),t.constructor=i,i.prototype=t,i}function n(t){this.add?t.forEach(this.add,this):t.forEach(function(t){this.set(t[0],t[1])},this)}function i(t){return this.has(t)&&(this._keys.splice(y,1),
this._values.splice(y,1),this._itp.forEach(function(t){y<t[0]&&t[0]--})),y>-1}function o(t){return this.has(t)?this._values[y]:void 0}function r(t,e){if(this.objectOnly&&e!==Object(e))throw new TypeError("Invalid value used as weak collection key");if(e!=e||0===e)for(y=t.length;y--&&!b(t[y],e););else y=t.indexOf(e);return y>-1}function s(t){return r.call(this,this._values,t)}function a(t){return r.call(this,this._keys,t)}function l(t,e){return this.has(t)?this._values[y]=e:this._values[this._keys.push(t)-1]=e,this}function u(t){return this.has(t)||this._values.push(t),this}function c(){this._values.length=0}function h(){return m(this._itp,this._keys)}function d(){return m(this._itp,this._values)}function f(){return m(this._itp,this._keys,this._values)}function p(){return m(this._itp,this._values,this._values)}function m(t,e,n){var i=[0],o=!1;return t.push(i),{next:function(){var r,s=i[0];return!o&&s<e.length?(r=n?[e[s],n[s]]:e[s],i[0]++):(o=!0,t.splice(t.indexOf(i),1)),{done:o,value:r}}}}function g(){return this._values.length}function v(t,e){for(var n=this.entries();;){var i=n.next();if(i.done)break;t.call(e,i.value[1],i.value[0],this)}}var y,w=Object.defineProperty,b=function(t,e){return isNaN(t)?isNaN(e):t===e};"undefined"==typeof WeakMap&&(t.WeakMap=e({"delete":i,clear:c,get:o,has:a,set:l},!0)),"undefined"==typeof Map&&(t.Map=e({"delete":i,has:a,get:o,set:l,keys:h,values:d,entries:f,forEach:v,clear:c})),"undefined"==typeof Set&&(t.Set=e({has:s,add:u,"delete":i,clear:c,keys:d,values:d,entries:p,forEach:v})),"undefined"==typeof WeakSet&&(t.WeakSet=e({"delete":i,add:u,clear:c,has:s},!0))}("undefined"!=typeof n&&"undefined"!=typeof global?global:window)},{}],jsonpatch:[function(t,e,n){"use strict";var i;!function(t){function e(t){return-1===t.indexOf("/")&&-1===t.indexOf("~")?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}function n(t,i){var o;for(var r in t)if(t.hasOwnProperty(r)){if(t[r]===i)return e(r)+"/";if("object"==typeof t[r]&&(o=n(t[r],i),""!=o))return e(r)+"/"+o}return""}function i(t,e){if(t===e)return"/";var i=n(t,e);if(""===i)throw new Error("Object not found in root");return"/"+i}function o(t){for(var e=0,n=y.length;n>e;e++)if(y[e].obj===t)return y[e]}function r(t){for(var e=0,n=y.length;n>e;e++)y[e]===t&&y.splice(e,1)}function s(t,e){for(var n=0,i=t.observers.length;i>n;n++)if(t.observers[n].callback===e)return t.observers[n].observer}function a(t,e){for(var n=0,i=t.observers.length;i>n;n++)if(t.observers[n].observer===e)return t.observers.splice(n,1),void(t.observers.length||r(t))}function l(t,e){d(e),Object.observe?h(e,t):clearTimeout(e.next);var n=o(t);a(n,e)}function u(t,e){var n,r=[],a=t,l=o(t);if(l?n=s(l,e):(l=new w(t),y.push(l)),n)return n;if(Object.observe)n=function(o){h(n,t),c(n,t);for(var s=0,l=o.length;l>s;){if(("length"!==o[s].name||!k(o[s].object))&&"__Jasmine_been_here_before__"!==o[s].name){var u=o[s].type;switch(u){case"new":u="add";break;case"deleted":u="delete";break;case"updated":u="update"}v[u].call(o[s],r,i(a,o[s].object))}s++}r&&e&&e(r),n.patches=r,r=[]};else if(n={},l.value=JSON.parse(JSON.stringify(t)),e){n.callback=e,n.next=null;var u=this.intervals||[100,1e3,1e4,6e4],f=0,p=function(){d(n)},m=function(){clearTimeout(n.next),n.next=setTimeout(function(){p(),f=0,n.next=setTimeout(g,u[f++])},0)},g=function(){p(),f==u.length&&(f=u.length-1),n.next=setTimeout(g,u[f++])};"undefined"!=typeof window&&(window.addEventListener?(window.addEventListener("mousedown",m),window.addEventListener("mouseup",m),window.addEventListener("keydown",m)):(window.attachEvent("onmousedown",m),window.attachEvent("onmouseup",m),window.attachEvent("onkeydown",m))),n.next=setTimeout(g,u[f++])}return n.patches=r,n.object=t,l.observers.push(new b(e,n)),c(n,t)}function c(t,e){if(Object.observe){Object.observe(e,t);for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];i&&"object"==typeof i&&c(t,i)}}return t}function h(t,e){if(Object.observe){Object.unobserve(e,t);for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];i&&"object"==typeof i&&h(t,i)}}return t}function d(t){if(Object.observe)Object.deliverChangeRecords(t);else{for(var e,n=0,i=y.length;i>n;n++)if(y[n].obj===t.object){e=y[n];break}e&&f(e.value,t.object,t.patches,"")}var o=t.patches;return o.length>0&&(t.patches=[],t.callback&&t.callback(o)),o}function f(t,n,i,o){for(var r=C(n),s=C(t),a=!1,l=!1,u=s.length-1;u>=0;u--){var c=s[u],h=t[c];if(n.hasOwnProperty(c)){var d=n[c];h instanceof Object?f(h,d,i,o+"/"+e(c)):h!=d&&(a=!0,i.push({op:"replace",path:o+"/"+e(c),value:d}),t[c]=d)}else i.push({op:"remove",path:o+"/"+e(c)}),delete t[c],l=!0}if(l||r.length!=s.length)for(var u=0;u<r.length;u++){var c=r[u];t.hasOwnProperty(c)||(i.push({op:"add",path:o+"/"+e(c),value:n[c]}),t[c]=JSON.parse(JSON.stringify(n[c])))}}function p(t,e){for(var n,i=!1,o=0,r=e.length;r>o;){n=e[o];for(var s=n.path.split("/"),a=t,l=1,u=s.length;;)if(k(a)){var c=parseInt(s[l],10);if(l++,l>=u){i=g[n.op].call(n,a,c,t);break}a=a[c]}else{var h=s[l];if(-1!=h.indexOf("~")&&(h=h.replace(/~1/g,"/").replace(/~0/g,"~")),l++,l>=u){i=m[n.op].call(n,a,h,t);break}a=a[h]}o++}return i}var m={add:function(t,e){return t[e]=this.value,!0},remove:function(t,e){return delete t[e],!0},replace:function(t,e){return t[e]=this.value,!0},move:function(t,e,n){var i={op:"_get",path:this.from};return p(n,[i]),p(n,[{op:"remove",path:this.from}]),p(n,[{op:"add",path:this.path,value:i.value}]),!0},copy:function(t,e,n){var i={op:"_get",path:this.from};return p(n,[i]),p(n,[{op:"add",path:this.path,value:i.value}]),!0},test:function(t,e){return JSON.stringify(t[e])===JSON.stringify(this.value)},_get:function(t,e){this.value=t[e]}},g={add:function(t,e){return t.splice(e,0,this.value),!0},remove:function(t,e){return t.splice(e,1),!0},replace:function(t,e){return t[e]=this.value,!0},move:m.move,copy:m.copy,test:m.test,_get:m._get},v={add:function(t,n){var i={op:"add",path:n+e(this.name),value:this.object[this.name]};t.push(i)},"delete":function(t,n){var i={op:"remove",path:n+e(this.name)};t.push(i)},update:function(t,n){var i={op:"replace",path:n+e(this.name),value:this.object[this.name]};t.push(i)}},y=[];t.intervals;var w=function(){function t(t){this.observers=[],this.obj=t}return t}(),b=function(){function t(t,e){this.callback=t,this.observer=e}return t}();t.unobserve=l,t.observe=u,t.generate=d;var C;C=Object.keys?Object.keys:function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e};var k;k=Array.isArray?Array.isArray:function(t){return t.push&&"number"==typeof t.length},t.apply=p}(i||(i={})),"undefined"!=typeof n&&(n.apply=i.apply,n.observe=i.observe,n.unobserve=i.unobserve,n.generate=i.generate)},{}],moment:[function(e,n,i){
//! moment.js
//! version : 2.10.3
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
!function(e,o){"object"==typeof i&&"undefined"!=typeof n?n.exports=o():"function"==typeof t&&t.amd?t(o):e.moment=o()}(this,function(){"use strict";function t(){return On.apply(null,arguments)}function i(t){On=t}function o(t){return"[object Array]"===Object.prototype.toString.call(t)}function r(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function s(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function a(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function l(t,e){for(var n in e)a(e,n)&&(t[n]=e[n]);return a(e,"toString")&&(t.toString=e.toString),a(e,"valueOf")&&(t.valueOf=e.valueOf),t}function u(t,e,n,i){return Et(t,e,n,i,!0).utc()}function c(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function h(t){return null==t._pf&&(t._pf=c()),t._pf}function d(t){if(null==t._isValid){var e=h(t);t._isValid=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function f(t){var e=u(NaN);return null!=t?l(h(e),t):h(e).userInvalidated=!0,e}function p(t,e){var n,i,o;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=h(e)),"undefined"!=typeof e._locale&&(t._locale=e._locale),Pn.length>0)for(n in Pn)i=Pn[n],o=e[i],"undefined"!=typeof o&&(t[i]=o);return t}function m(e){p(this,e),this._d=new Date(+e._d),Ln===!1&&(Ln=!0,t.updateOffset(this),Ln=!1)}function g(t){return t instanceof m||null!=t&&null!=t._isAMomentObject}function v(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=e>=0?Math.floor(e):Math.ceil(e)),n}function y(t,e,n){var i,o=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),s=0;for(i=0;o>i;i++)(n&&t[i]!==e[i]||!n&&v(t[i])!==v(e[i]))&&s++;return s+r}function w(){}function b(t){return t?t.toLowerCase().replace("_","-"):t}function C(t){for(var e,n,i,o,r=0;r<t.length;){for(o=b(t[r]).split("-"),e=o.length,n=b(t[r+1]),n=n?n.split("-"):null;e>0;){if(i=k(o.slice(0,e).join("-")))return i;if(n&&n.length>=e&&y(o,n,!0)>=e-1)break;e--}r++}return null}function k(t){var i=null;if(!In[t]&&"undefined"!=typeof n&&n&&n.exports)try{i=Hn._abbr,e("./locale/"+t),x(i)}catch(o){}return In[t]}function x(t,e){var n;return t&&(n="undefined"==typeof e?T(t):_(t,e),n&&(Hn=n)),Hn._abbr}function _(t,e){return null!==e?(e.abbr=t,In[t]||(In[t]=new w),In[t].set(e),x(t),In[t]):(delete In[t],null)}function T(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Hn;if(!o(t)){if(e=k(t))return e;t=[t]}return C(t)}function S(t,e){var n=t.toLowerCase();jn[n]=jn[n+"s"]=jn[e]=t}function E(t){return"string"==typeof t?jn[t]||jn[t.toLowerCase()]:void 0}function D(t){var e,n,i={};for(n in t)a(t,n)&&(e=E(n),e&&(i[e]=t[n]));return i}function R(e,n){return function(i){return null!=i?(A(this,e,i),t.updateOffset(this,n),this):M(this,e)}}function M(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function A(t,e,n){return t._d["set"+(t._isUTC?"UTC":"")+e](n)}function O(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else if(t=E(t),"function"==typeof this[t])return this[t](e);return this}function H(t,e,n){for(var i=""+Math.abs(t),o=t>=0;i.length<e;)i="0"+i;return(o?n?"+":"":"-")+i}function P(t,e,n,i){var o=i;"string"==typeof i&&(o=function(){return this[i]()}),t&&(Wn[t]=o),e&&(Wn[e[0]]=function(){return H(o.apply(this,arguments),e[1],e[2])}),n&&(Wn[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function L(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function I(t){var e,n,i=t.match(Nn);for(e=0,n=i.length;n>e;e++)Wn[i[e]]?i[e]=Wn[i[e]]:i[e]=L(i[e]);return function(o){var r="";for(e=0;n>e;e++)r+=i[e]instanceof Function?i[e].call(o,t):i[e];return r}}function j(t,e){return t.isValid()?(e=N(e,t.localeData()),Fn[e]||(Fn[e]=I(e)),Fn[e](t)):t.localeData().invalidDate()}function N(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for($n.lastIndex=0;i>=0&&$n.test(t);)t=t.replace($n,n),$n.lastIndex=0,i-=1;return t}function $(t,e,n){ni[t]="function"==typeof e?e:function(t){return t&&n?n:e}}function F(t,e){return a(ni,t)?ni[t](e._strict,e._locale):new RegExp(W(t))}function W(t){return t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,o){return e||n||i||o}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function B(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(i=function(t,n){n[e]=v(t)}),n=0;n<t.length;n++)ii[t[n]]=i}function V(t,e){B(t,function(t,n,i,o){i._w=i._w||{},e(t,i._w,i,o)})}function z(t,e,n){null!=e&&a(ii,t)&&ii[t](e,n._a,n,t)}function Y(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function U(t){return this._months[t.month()]}function G(t){return this._monthsShort[t.month()]}function q(t,e,n){var i,o,r;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(o=u([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function X(t,e){var n;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(n=Math.min(t.date(),Y(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t)}function K(e){return null!=e?(X(this,e),t.updateOffset(this,!0),this):M(this,"Month")}function J(){return Y(this.year(),this.month())}function Q(t){var e,n=t._a;return n&&-2===h(t).overflow&&(e=n[ri]<0||n[ri]>11?ri:n[si]<1||n[si]>Y(n[oi],n[ri])?si:n[ai]<0||n[ai]>24||24===n[ai]&&(0!==n[li]||0!==n[ui]||0!==n[ci])?ai:n[li]<0||n[li]>59?li:n[ui]<0||n[ui]>59?ui:n[ci]<0||n[ci]>999?ci:-1,h(t)._overflowDayOfYear&&(oi>e||e>si)&&(e=si),h(t).overflow=e),t}function Z(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function tt(t,e){var n=!0,i=t+"\n"+(new Error).stack;return l(function(){return n&&(Z(i),n=!1),e.apply(this,arguments)},e)}function et(t,e){fi[t]||(Z(e),fi[t]=!0)}function nt(t){var e,n,i=t._i,o=pi.exec(i);if(o){for(h(t).iso=!0,e=0,n=mi.length;n>e;e++)if(mi[e][1].exec(i)){t._f=mi[e][0]+(o[6]||" ");break}for(e=0,n=gi.length;n>e;e++)if(gi[e][1].exec(i)){t._f+=gi[e][0];break}i.match(Zn)&&(t._f+="Z"),Ct(t)}else t._isValid=!1}function it(e){var n=vi.exec(e._i);return null!==n?void(e._d=new Date(+n[1])):(nt(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function ot(t,e,n,i,o,r,s){var a=new Date(t,e,n,i,o,r,s);return 1970>t&&a.setFullYear(t),a}function rt(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function st(t){return at(t)?366:365}function at(t){return t%4===0&&t%100!==0||t%400===0}function lt(){return at(this.year())}function ut(t,e,n){var i,o=n-e,r=n-t.day();return r>o&&(r-=7),o-7>r&&(r+=7),i=Dt(t).add(r,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function ct(t){return ut(t,this._week.dow,this._week.doy).week}function ht(){return this._week.dow}function dt(){return this._week.doy}function ft(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function pt(t){var e=ut(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function mt(t,e,n,i,o){var r,s,a=rt(t,0,1).getUTCDay();return a=0===a?7:a,n=null!=n?n:o,r=o-a+(a>i?7:0)-(o>a?7:0),s=7*(e-1)+(n-o)+r+1,{year:s>0?t:t-1,dayOfYear:s>0?s:st(t-1)+s}}function gt(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function vt(t,e,n){return null!=t?t:null!=e?e:n}function yt(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function wt(t){var e,n,i,o,r=[];if(!t._d){for(i=yt(t),t._w&&null==t._a[si]&&null==t._a[ri]&&bt(t),t._dayOfYear&&(o=vt(t._a[oi],i[oi]),t._dayOfYear>st(o)&&(h(t)._overflowDayOfYear=!0),n=rt(o,0,t._dayOfYear),t._a[ri]=n.getUTCMonth(),t._a[si]=n.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=r[e]=i[e];for(;7>e;e++)t._a[e]=r[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[ai]&&0===t._a[li]&&0===t._a[ui]&&0===t._a[ci]&&(t._nextDay=!0,t._a[ai]=0),t._d=(t._useUTC?rt:ot).apply(null,r),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[ai]=24)}}function bt(t){var e,n,i,o,r,s,a;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(r=1,s=4,n=vt(e.GG,t._a[oi],ut(Dt(),1,4).year),i=vt(e.W,1),o=vt(e.E,1)):(r=t._locale._week.dow,s=t._locale._week.doy,n=vt(e.gg,t._a[oi],ut(Dt(),r,s).year),i=vt(e.w,1),null!=e.d?(o=e.d,r>o&&++i):o=null!=e.e?e.e+r:r),a=mt(n,i,o,s,r),t._a[oi]=a.year,t._dayOfYear=a.dayOfYear}function Ct(e){if(e._f===t.ISO_8601)return void nt(e);e._a=[],h(e).empty=!0;var n,i,o,r,s,a=""+e._i,l=a.length,u=0;for(o=N(e._f,e._locale).match(Nn)||[],n=0;n<o.length;n++)r=o[n],i=(a.match(F(r,e))||[])[0],i&&(s=a.substr(0,a.indexOf(i)),s.length>0&&h(e).unusedInput.push(s),a=a.slice(a.indexOf(i)+i.length),u+=i.length),Wn[r]?(i?h(e).empty=!1:h(e).unusedTokens.push(r),z(r,i,e)):e._strict&&!i&&h(e).unusedTokens.push(r);h(e).charsLeftOver=l-u,a.length>0&&h(e).unusedInput.push(a),h(e).bigHour===!0&&e._a[ai]<=12&&e._a[ai]>0&&(h(e).bigHour=void 0),e._a[ai]=kt(e._locale,e._a[ai],e._meridiem),wt(e),Q(e)}function kt(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(i=t.isPM(n),i&&12>e&&(e+=12),i||12!==e||(e=0),e):e}function xt(t){var e,n,i,o,r;if(0===t._f.length)return h(t).invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<t._f.length;o++)r=0,e=p({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],Ct(e),d(e)&&(r+=h(e).charsLeftOver,r+=10*h(e).unusedTokens.length,h(e).score=r,(null==i||i>r)&&(i=r,n=e));l(t,n||e)}function _t(t){if(!t._d){var e=D(t._i);t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],wt(t)}}function Tt(t){var e,n=t._i,i=t._f;return t._locale=t._locale||T(t._l),null===n||void 0===i&&""===n?f({nullInput:!0}):("string"==typeof n&&(t._i=n=t._locale.preparse(n)),g(n)?new m(Q(n)):(o(i)?xt(t):i?Ct(t):r(n)?t._d=n:St(t),e=new m(Q(t)),e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e))}function St(e){var n=e._i;void 0===n?e._d=new Date:r(n)?e._d=new Date(+n):"string"==typeof n?it(e):o(n)?(e._a=s(n.slice(0),function(t){return parseInt(t,10)}),wt(e)):"object"==typeof n?_t(e):"number"==typeof n?e._d=new Date(n):t.createFromInputFallback(e)}function Et(t,e,n,i,o){var r={};return"boolean"==typeof n&&(i=n,n=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=o,r._l=n,r._i=t,r._f=e,r._strict=i,Tt(r)}function Dt(t,e,n,i){return Et(t,e,n,i,!1)}function Rt(t,e){var n,i;if(1===e.length&&o(e[0])&&(e=e[0]),!e.length)return Dt();for(n=e[0],i=1;i<e.length;++i)e[i][t](n)&&(n=e[i]);return n}function Mt(){var t=[].slice.call(arguments,0);return Rt("isBefore",t)}function At(){var t=[].slice.call(arguments,0);return Rt("isAfter",t)}function Ot(t){var e=D(t),n=e.year||0,i=e.quarter||0,o=e.month||0,r=e.week||0,s=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+36e5*a,this._days=+s+7*r,this._months=+o+3*i+12*n,this._data={},this._locale=T(),this._bubble()}function Ht(t){return t instanceof Ot}function Pt(t,e){P(t,0,0,function(){var t=this.utcOffset(),n="+";return 0>t&&(t=-t,n="-"),n+H(~~(t/60),2)+e+H(~~t%60,2)})}function Lt(t){var e=(t||"").match(Zn)||[],n=e[e.length-1]||[],i=(n+"").match(ki)||["-",0,0],o=+(60*i[1])+v(i[2]);return"+"===i[0]?o:-o}function It(e,n){var i,o;return n._isUTC?(i=n.clone(),o=(g(e)||r(e)?+e:+Dt(e))-+i,i._d.setTime(+i._d+o),t.updateOffset(i,!1),i):Dt(e).local()}function jt(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Nt(e,n){var i,o=this._offset||0;return null!=e?("string"==typeof e&&(e=Lt(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&n&&(i=jt(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!n||this._changeInProgress?te(this,Xt(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?o:jt(this)}function $t(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Ft(t){return this.utcOffset(0,t)}function Wt(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(jt(this),"m")),this}function Bt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Lt(this._i)),this}function Vt(t){return t=t?Dt(t).utcOffset():0,(this.utcOffset()-t)%60===0}function zt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Yt(){if(this._a){var t=this._isUTC?u(this._a):Dt(this._a);return this.isValid()&&y(this._a,t.toArray())>0}return!1}function Ut(){return!this._isUTC}function Gt(){return this._isUTC}function qt(){return this._isUTC&&0===this._offset}function Xt(t,e){var n,i,o,r=t,s=null;return Ht(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(r={},e?r[e]=t:r.milliseconds=t):(s=xi.exec(t))?(n="-"===s[1]?-1:1,r={y:0,d:v(s[si])*n,h:v(s[ai])*n,m:v(s[li])*n,s:v(s[ui])*n,ms:v(s[ci])*n}):(s=_i.exec(t))?(n="-"===s[1]?-1:1,r={y:Kt(s[2],n),M:Kt(s[3],n),d:Kt(s[4],n),h:Kt(s[5],n),m:Kt(s[6],n),s:Kt(s[7],n),w:Kt(s[8],n)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(o=Qt(Dt(r.from),Dt(r.to)),r={},r.ms=o.milliseconds,r.M=o.months),i=new Ot(r),Ht(t)&&a(t,"_locale")&&(i._locale=t._locale),i}function Kt(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Jt(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Qt(t,e){var n;return e=It(e,t),t.isBefore(e)?n=Jt(t,e):(n=Jt(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function Zt(t,e){return function(n,i){var o,r;return null===i||isNaN(+i)||(et(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),r=n,n=i,i=r),n="string"==typeof n?+n:n,o=Xt(n,i),te(this,o,t),this}}function te(e,n,i,o){var r=n._milliseconds,s=n._days,a=n._months;o=null==o?!0:o,r&&e._d.setTime(+e._d+r*i),s&&A(e,"Date",M(e,"Date")+s*i),a&&X(e,M(e,"Month")+a*i),o&&t.updateOffset(e,s||a)}function ee(t){var e=t||Dt(),n=It(e,this).startOf("day"),i=this.diff(n,"days",!0),o=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(this.localeData().calendar(o,this,Dt(e)))}function ne(){return new m(this)}function ie(t,e){var n;return e=E("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=g(t)?t:Dt(t),+this>+t):(n=g(t)?+t:+Dt(t),n<+this.clone().startOf(e))}function oe(t,e){var n;return e=E("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=g(t)?t:Dt(t),+t>+this):(n=g(t)?+t:+Dt(t),+this.clone().endOf(e)<n)}function re(t,e,n){return this.isAfter(t,n)&&this.isBefore(e,n)}function se(t,e){var n;return e=E(e||"millisecond"),"millisecond"===e?(t=g(t)?t:Dt(t),+this===+t):(n=+Dt(t),+this.clone().startOf(e)<=n&&n<=+this.clone().endOf(e))}function ae(t){return 0>t?Math.ceil(t):Math.floor(t)}function le(t,e,n){var i,o,r=It(t,this),s=6e4*(r.utcOffset()-this.utcOffset());return e=E(e),"year"===e||"month"===e||"quarter"===e?(o=ue(this,r),"quarter"===e?o/=3:"year"===e&&(o/=12)):(i=this-r,o="second"===e?i/1e3:"minute"===e?i/6e4:"hour"===e?i/36e5:"day"===e?(i-s)/864e5:"week"===e?(i-s)/6048e5:i),n?o:ae(o)}function ue(t,e){var n,i,o=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(o,"months");return 0>e-r?(n=t.clone().add(o-1,"months"),i=(e-r)/(r-n)):(n=t.clone().add(o+1,"months"),i=(e-r)/(n-r)),-(o+i)}function ce(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function he(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():j(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):j(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function de(e){var n=j(this,e||t.defaultFormat);return this.localeData().postformat(n)}function fe(t,e){return this.isValid()?Xt({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function pe(t){return this.from(Dt(),t)}function me(t,e){return this.isValid()?Xt({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ge(t){return this.to(Dt(),t)}function ve(t){var e;return void 0===t?this._locale._abbr:(e=T(t),null!=e&&(this._locale=e),this)}function ye(){return this._locale}function we(t){switch(t=E(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function be(t){return t=E(t),void 0===t||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")}function Ce(){return+this._d-6e4*(this._offset||0)}function ke(){return Math.floor(+this/1e3)}function xe(){return this._offset?new Date(+this):this._d}function _e(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Te(){return d(this)}function Se(){return l({},h(this))}function Ee(){return h(this).overflow}function De(t,e){P(0,[t,t.length],0,e)}function Re(t,e,n){return ut(Dt([t,11,31+e-n]),e,n).week}function Me(t){var e=ut(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")}function Ae(t){var e=ut(this,1,4).year;return null==t?e:this.add(t-e,"y")}function Oe(){return Re(this.year(),1,4)}function He(){var t=this.localeData()._week;return Re(this.year(),t.dow,t.doy)}function Pe(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Le(t,e){if("string"==typeof t)if(isNaN(t)){if(t=e.weekdaysParse(t),"number"!=typeof t)return null}else t=parseInt(t,10);return t}function Ie(t){return this._weekdays[t.day()]}function je(t){return this._weekdaysShort[t.day()]}function Ne(t){return this._weekdaysMin[t.day()]}function $e(t){var e,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(n=Dt([2e3,1]).day(e),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e}function Fe(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Le(t,this.localeData()),this.add(t-e,"d")):e}function We(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Be(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)}function Ve(t,e){P(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function ze(t,e){return e._meridiemParse}function Ye(t){return"p"===(t+"").toLowerCase().charAt(0)}function Ue(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function Ge(t){P(0,[t,3],0,"millisecond")}function qe(){return this._isUTC?"UTC":""}function Xe(){return this._isUTC?"Coordinated Universal Time":""}function Ke(t){return Dt(1e3*t)}function Je(){return Dt.apply(null,arguments).parseZone()}function Qe(t,e,n){var i=this._calendar[t];return"function"==typeof i?i.call(e,n):i}function Ze(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e}function tn(){return this._invalidDate}function en(t){return this._ordinal.replace("%d",t)}function nn(t){return t}function on(t,e,n,i){var o=this._relativeTime[n];return"function"==typeof o?o(t,e,n,i):o.replace(/%d/i,t)}function rn(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)}function sn(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function an(t,e,n,i){var o=T(),r=u().set(i,e);return o[n](r,t)}function ln(t,e,n,i,o){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return an(t,e,n,o);var r,s=[];for(r=0;i>r;r++)s[r]=an(t,r,n,o);return s}function un(t,e){return ln(t,e,"months",12,"month")}function cn(t,e){return ln(t,e,"monthsShort",12,"month")}function hn(t,e){return ln(t,e,"weekdays",7,"day")}function dn(t,e){return ln(t,e,"weekdaysShort",7,"day")}function fn(t,e){return ln(t,e,"weekdaysMin",7,"day")}function pn(){var t=this._data;return this._milliseconds=Ui(this._milliseconds),this._days=Ui(this._days),this._months=Ui(this._months),t.milliseconds=Ui(t.milliseconds),t.seconds=Ui(t.seconds),t.minutes=Ui(t.minutes),t.hours=Ui(t.hours),t.months=Ui(t.months),t.years=Ui(t.years),this}function mn(t,e,n,i){var o=Xt(e,n);return t._milliseconds+=i*o._milliseconds,t._days+=i*o._days,t._months+=i*o._months,t._bubble()}function gn(t,e){return mn(this,t,e,1)}function vn(t,e){return mn(this,t,e,-1)}function yn(){var t,e,n,i=this._milliseconds,o=this._days,r=this._months,s=this._data,a=0;return s.milliseconds=i%1e3,t=ae(i/1e3),s.seconds=t%60,e=ae(t/60),s.minutes=e%60,n=ae(e/60),s.hours=n%24,o+=ae(n/24),a=ae(wn(o)),o-=ae(bn(a)),r+=ae(o/30),o%=30,a+=ae(r/12),r%=12,s.days=o,s.months=r,s.years=a,this}function wn(t){return 400*t/146097}function bn(t){return 146097*t/400}function Cn(t){var e,n,i=this._milliseconds;if(t=E(t),"month"===t||"year"===t)return e=this._days+i/864e5,n=this._months+12*wn(e),"month"===t?n:n/12;switch(e=this._days+Math.round(bn(this._months/12)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function kn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12)}function xn(t){return function(){return this.as(t)}}function _n(t){return t=E(t),this[t+"s"]()}function Tn(t){return function(){return this._data[t]}}function Sn(){return ae(this.days()/7)}function En(t,e,n,i,o){return o.relativeTime(e||1,!!n,t,i)}function Dn(t,e,n){var i=Xt(t).abs(),o=lo(i.as("s")),r=lo(i.as("m")),s=lo(i.as("h")),a=lo(i.as("d")),l=lo(i.as("M")),u=lo(i.as("y")),c=o<uo.s&&["s",o]||1===r&&["m"]||r<uo.m&&["mm",r]||1===s&&["h"]||s<uo.h&&["hh",s]||1===a&&["d"]||a<uo.d&&["dd",a]||1===l&&["M"]||l<uo.M&&["MM",l]||1===u&&["y"]||["yy",u];return c[2]=e,c[3]=+t>0,c[4]=n,En.apply(null,c)}function Rn(t,e){return void 0===uo[t]?!1:void 0===e?uo[t]:(uo[t]=e,!0)}function Mn(t){var e=this.localeData(),n=Dn(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function An(){var t=co(this.years()),e=co(this.months()),n=co(this.days()),i=co(this.hours()),o=co(this.minutes()),r=co(this.seconds()+this.milliseconds()/1e3),s=this.asSeconds();return s?(0>s?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(n?n+"D":"")+(i||o||r?"T":"")+(i?i+"H":"")+(o?o+"M":"")+(r?r+"S":""):"P0D"}var On,Hn,Pn=t.momentProperties=[],Ln=!1,In={},jn={},Nn=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,$n=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Fn={},Wn={},Bn=/\d/,Vn=/\d\d/,zn=/\d{3}/,Yn=/\d{4}/,Un=/[+-]?\d{6}/,Gn=/\d\d?/,qn=/\d{1,3}/,Xn=/\d{1,4}/,Kn=/[+-]?\d{1,6}/,Jn=/\d+/,Qn=/[+-]?\d+/,Zn=/Z|[+-]\d\d:?\d\d/gi,ti=/[+-]?\d+(\.\d{1,3})?/,ei=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ni={},ii={},oi=0,ri=1,si=2,ai=3,li=4,ui=5,ci=6;P("M",["MM",2],"Mo",function(){return this.month()+1}),P("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),P("MMMM",0,0,function(t){return this.localeData().months(this,t)}),S("month","M"),$("M",Gn),$("MM",Gn,Vn),$("MMM",ei),$("MMMM",ei),B(["M","MM"],function(t,e){e[ri]=v(t)-1}),B(["MMM","MMMM"],function(t,e,n,i){var o=n._locale.monthsParse(t,i,n._strict);null!=o?e[ri]=o:h(n).invalidMonth=t});var hi="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),di="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),fi={};t.suppressDeprecationWarnings=!1;var pi=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,mi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],gi=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],vi=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=tt("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),P(0,["YY",2],0,function(){return this.year()%100}),P(0,["YYYY",4],0,"year"),P(0,["YYYYY",5],0,"year"),P(0,["YYYYYY",6,!0],0,"year"),S("year","y"),$("Y",Qn),$("YY",Gn,Vn),$("YYYY",Xn,Yn),$("YYYYY",Kn,Un),$("YYYYYY",Kn,Un),B(["YYYY","YYYYY","YYYYYY"],oi),B("YY",function(e,n){n[oi]=t.parseTwoDigitYear(e)}),t.parseTwoDigitYear=function(t){return v(t)+(v(t)>68?1900:2e3)};var yi=R("FullYear",!1);P("w",["ww",2],"wo","week"),P("W",["WW",2],"Wo","isoWeek"),S("week","w"),S("isoWeek","W"),$("w",Gn),$("ww",Gn,Vn),$("W",Gn),$("WW",Gn,Vn),V(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=v(t)});var wi={dow:0,doy:6};P("DDD",["DDDD",3],"DDDo","dayOfYear"),S("dayOfYear","DDD"),$("DDD",qn),$("DDDD",zn),B(["DDD","DDDD"],function(t,e,n){n._dayOfYear=v(t)}),t.ISO_8601=function(){};var bi=tt("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=Dt.apply(null,arguments);return this>t?this:t}),Ci=tt("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=Dt.apply(null,arguments);return t>this?this:t});Pt("Z",":"),Pt("ZZ",""),$("Z",Zn),$("ZZ",Zn),B(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Lt(t)});var ki=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var xi=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,_i=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Xt.fn=Ot.prototype;var Ti=Zt(1,"add"),Si=Zt(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Ei=tt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});P(0,["gg",2],0,function(){return this.weekYear()%100}),P(0,["GG",2],0,function(){return this.isoWeekYear()%100}),De("gggg","weekYear"),De("ggggg","weekYear"),De("GGGG","isoWeekYear"),De("GGGGG","isoWeekYear"),S("weekYear","gg"),S("isoWeekYear","GG"),$("G",Qn),$("g",Qn),$("GG",Gn,Vn),$("gg",Gn,Vn),$("GGGG",Xn,Yn),$("gggg",Xn,Yn),$("GGGGG",Kn,Un),$("ggggg",Kn,Un),V(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=v(t)}),V(["gg","GG"],function(e,n,i,o){n[o]=t.parseTwoDigitYear(e)}),P("Q",0,0,"quarter"),S("quarter","Q"),$("Q",Bn),B("Q",function(t,e){e[ri]=3*(v(t)-1)}),P("D",["DD",2],"Do","date"),S("date","D"),$("D",Gn),$("DD",Gn,Vn),$("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),B(["D","DD"],si),B("Do",function(t,e){e[si]=v(t.match(Gn)[0],10)});var Di=R("Date",!0);P("d",0,"do","day"),P("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),P("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),P("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),P("e",0,0,"weekday"),P("E",0,0,"isoWeekday"),S("day","d"),S("weekday","e"),S("isoWeekday","E"),$("d",Gn),$("e",Gn),$("E",Gn),$("dd",ei),$("ddd",ei),$("dddd",ei),V(["dd","ddd","dddd"],function(t,e,n){var i=n._locale.weekdaysParse(t);null!=i?e.d=i:h(n).invalidWeekday=t}),V(["d","e","E"],function(t,e,n,i){e[i]=v(t)});var Ri="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Mi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ai="Su_Mo_Tu_We_Th_Fr_Sa".split("_");P("H",["HH",2],0,"hour"),P("h",["hh",2],0,function(){return this.hours()%12||12}),Ve("a",!0),Ve("A",!1),S("hour","h"),$("a",ze),$("A",ze),$("H",Gn),$("h",Gn),$("HH",Gn,Vn),$("hh",Gn,Vn),B(["H","HH"],ai),B(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),B(["h","hh"],function(t,e,n){e[ai]=v(t),h(n).bigHour=!0});var Oi=/[ap]\.?m?\.?/i,Hi=R("Hours",!0);P("m",["mm",2],0,"minute"),S("minute","m"),$("m",Gn),$("mm",Gn,Vn),B(["m","mm"],li);var Pi=R("Minutes",!1);P("s",["ss",2],0,"second"),S("second","s"),$("s",Gn),$("ss",Gn,Vn),B(["s","ss"],ui);var Li=R("Seconds",!1);P("S",0,0,function(){return~~(this.millisecond()/100)}),P(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Ge("SSS"),Ge("SSSS"),S("millisecond","ms"),$("S",qn,Bn),$("SS",qn,Vn),$("SSS",qn,zn),$("SSSS",Jn),B(["S","SS","SSS","SSSS"],function(t,e){e[ci]=v(1e3*("0."+t))});var Ii=R("Milliseconds",!1);P("z",0,0,"zoneAbbr"),P("zz",0,0,"zoneName");var ji=m.prototype;ji.add=Ti,ji.calendar=ee,ji.clone=ne,ji.diff=le,ji.endOf=be,ji.format=de,ji.from=fe,ji.fromNow=pe,ji.to=me,ji.toNow=ge,ji.get=O,ji.invalidAt=Ee,ji.isAfter=ie,ji.isBefore=oe,ji.isBetween=re,ji.isSame=se,ji.isValid=Te,ji.lang=Ei,ji.locale=ve,ji.localeData=ye,ji.max=Ci,ji.min=bi,ji.parsingFlags=Se,ji.set=O,ji.startOf=we,ji.subtract=Si,ji.toArray=_e,ji.toDate=xe,ji.toISOString=he,ji.toJSON=he,ji.toString=ce,ji.unix=ke,ji.valueOf=Ce,ji.year=yi,ji.isLeapYear=lt,ji.weekYear=Me,ji.isoWeekYear=Ae,ji.quarter=ji.quarters=Pe,ji.month=K,ji.daysInMonth=J,ji.week=ji.weeks=ft,ji.isoWeek=ji.isoWeeks=pt,ji.weeksInYear=He,ji.isoWeeksInYear=Oe,ji.date=Di,ji.day=ji.days=Fe,ji.weekday=We,ji.isoWeekday=Be,ji.dayOfYear=gt,ji.hour=ji.hours=Hi,ji.minute=ji.minutes=Pi,ji.second=ji.seconds=Li,ji.millisecond=ji.milliseconds=Ii,ji.utcOffset=Nt,ji.utc=Ft,ji.local=Wt,ji.parseZone=Bt,ji.hasAlignedHourOffset=Vt,ji.isDST=zt,ji.isDSTShifted=Yt,ji.isLocal=Ut,ji.isUtcOffset=Gt,ji.isUtc=qt,ji.isUTC=qt,ji.zoneAbbr=qe,ji.zoneName=Xe,ji.dates=tt("dates accessor is deprecated. Use date instead.",Di),ji.months=tt("months accessor is deprecated. Use month instead",K),ji.years=tt("years accessor is deprecated. Use year instead",yi),ji.zone=tt("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",$t);var Ni=ji,$i={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Fi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},Wi="Invalid date",Bi="%d",Vi=/\d{1,2}/,zi={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Yi=w.prototype;Yi._calendar=$i,Yi.calendar=Qe,Yi._longDateFormat=Fi,Yi.longDateFormat=Ze,Yi._invalidDate=Wi,Yi.invalidDate=tn,Yi._ordinal=Bi,Yi.ordinal=en,Yi._ordinalParse=Vi,Yi.preparse=nn,Yi.postformat=nn,Yi._relativeTime=zi,Yi.relativeTime=on,Yi.pastFuture=rn,Yi.set=sn,Yi.months=U,Yi._months=hi,Yi.monthsShort=G,Yi._monthsShort=di,Yi.monthsParse=q,Yi.week=ct,Yi._week=wi,Yi.firstDayOfYear=dt,Yi.firstDayOfWeek=ht,Yi.weekdays=Ie,Yi._weekdays=Ri,Yi.weekdaysMin=Ne,Yi._weekdaysMin=Ai,Yi.weekdaysShort=je,Yi._weekdaysShort=Mi,Yi.weekdaysParse=$e,Yi.isPM=Ye,Yi._meridiemParse=Oi,Yi.meridiem=Ue,x("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===v(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),t.lang=tt("moment.lang is deprecated. Use moment.locale instead.",x),
t.langData=tt("moment.langData is deprecated. Use moment.localeData instead.",T);var Ui=Math.abs,Gi=xn("ms"),qi=xn("s"),Xi=xn("m"),Ki=xn("h"),Ji=xn("d"),Qi=xn("w"),Zi=xn("M"),to=xn("y"),eo=Tn("milliseconds"),no=Tn("seconds"),io=Tn("minutes"),oo=Tn("hours"),ro=Tn("days"),so=Tn("months"),ao=Tn("years"),lo=Math.round,uo={s:45,m:45,h:22,d:26,M:11},co=Math.abs,ho=Ot.prototype;ho.abs=pn,ho.add=gn,ho.subtract=vn,ho.as=Cn,ho.asMilliseconds=Gi,ho.asSeconds=qi,ho.asMinutes=Xi,ho.asHours=Ki,ho.asDays=Ji,ho.asWeeks=Qi,ho.asMonths=Zi,ho.asYears=to,ho.valueOf=kn,ho._bubble=yn,ho.get=_n,ho.milliseconds=eo,ho.seconds=no,ho.minutes=io,ho.hours=oo,ho.days=ro,ho.weeks=Sn,ho.months=so,ho.years=ao,ho.humanize=Mn,ho.toISOString=An,ho.toString=An,ho.toJSON=An,ho.locale=ve,ho.localeData=ye,ho.toIsoString=tt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",An),ho.lang=Ei,P("X",0,0,"unix"),P("x",0,0,"valueOf"),$("x",Qn),$("X",ti),B("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),B("x",function(t,e,n){n._d=new Date(v(t))}),t.version="2.10.3",i(Dt),t.fn=Ni,t.min=Mt,t.max=At,t.utc=u,t.unix=Ke,t.months=un,t.isDate=r,t.locale=x,t.invalid=f,t.duration=Xt,t.isMoment=g,t.weekdays=hn,t.parseZone=Je,t.localeData=T,t.isDuration=Ht,t.monthsShort=cn,t.weekdaysMin=fn,t.defineLocale=_,t.weekdaysShort=dn,t.normalizeUnits=E,t.relativeTimeThreshold=Rn;var fo=t;return fo})},{}],numeral:[function(e,n,i){"use strict";(function(){function e(t){this._value=t}function i(t,e,n,i){var o,r,s=Math.pow(10,e);return r=(n(t*s)/s).toFixed(e),i&&(o=new RegExp("0{1,"+i+"}$"),r=r.replace(o,"")),r}function o(t,e,n){var i;return i=e.indexOf("$")>-1?s(t,e,n):e.indexOf("%")>-1?a(t,e,n):e.indexOf(":")>-1?l(t,e):c(t._value,e,n)}function r(t,e){var n,i,o,r,s,a=e,l=["KB","MB","GB","TB","PB","EB","ZB","YB"],c=!1;if(e.indexOf(":")>-1)t._value=u(e);else if(e===y)t._value=0;else{for("."!==g[v].delimiters.decimal&&(e=e.replace(/\./g,"").replace(g[v].delimiters.decimal,".")),n=new RegExp("[^a-zA-Z]"+g[v].abbreviations.thousand+"(?:\\)|(\\"+g[v].currency.symbol+")?(?:\\))?)?$"),i=new RegExp("[^a-zA-Z]"+g[v].abbreviations.million+"(?:\\)|(\\"+g[v].currency.symbol+")?(?:\\))?)?$"),o=new RegExp("[^a-zA-Z]"+g[v].abbreviations.billion+"(?:\\)|(\\"+g[v].currency.symbol+")?(?:\\))?)?$"),r=new RegExp("[^a-zA-Z]"+g[v].abbreviations.trillion+"(?:\\)|(\\"+g[v].currency.symbol+")?(?:\\))?)?$"),s=0;s<=l.length&&!(c=e.indexOf(l[s])>-1?Math.pow(1024,s+1):!1);s++);t._value=(c?c:1)*(a.match(n)?Math.pow(10,3):1)*(a.match(i)?Math.pow(10,6):1)*(a.match(o)?Math.pow(10,9):1)*(a.match(r)?Math.pow(10,12):1)*(e.indexOf("%")>-1?.01:1)*((e.split("-").length+Math.min(e.split("(").length-1,e.split(")").length-1))%2?1:-1)*Number(e.replace(/[^0-9\.]+/g,"")),t._value=c?Math.ceil(t._value):t._value}return t._value}function s(t,e,n){var i,o,r=e.indexOf("$"),s=e.indexOf("("),a=e.indexOf("-"),l="";return e.indexOf(" $")>-1?(l=" ",e=e.replace(" $","")):e.indexOf("$ ")>-1?(l=" ",e=e.replace("$ ","")):e=e.replace("$",""),o=c(t._value,e,n),1>=r?o.indexOf("(")>-1||o.indexOf("-")>-1?(o=o.split(""),i=1,(s>r||a>r)&&(i=0),o.splice(i,0,g[v].currency.symbol+l),o=o.join("")):o=g[v].currency.symbol+l+o:o.indexOf(")")>-1?(o=o.split(""),o.splice(-1,0,l+g[v].currency.symbol),o=o.join("")):o=o+l+g[v].currency.symbol,o}function a(t,e,n){var i,o="",r=100*t._value;return e.indexOf(" %")>-1?(o=" ",e=e.replace(" %","")):e=e.replace("%",""),i=c(r,e,n),i.indexOf(")")>-1?(i=i.split(""),i.splice(-1,0,o+"%"),i=i.join("")):i=i+o+"%",i}function l(t){var e=Math.floor(t._value/60/60),n=Math.floor((t._value-60*e*60)/60),i=Math.round(t._value-60*e*60-60*n);return e+":"+(10>n?"0"+n:n)+":"+(10>i?"0"+i:i)}function u(t){var e=t.split(":"),n=0;return 3===e.length?(n+=60*Number(e[0])*60,n+=60*Number(e[1]),n+=Number(e[2])):2===e.length&&(n+=60*Number(e[0]),n+=Number(e[1])),Number(n)}function c(t,e,n){var o,r,s,a,l,u,c=!1,h=!1,d=!1,f="",p=!1,m=!1,w=!1,b=!1,C=!1,k="",x="",_=Math.abs(t),T=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],S="",E=!1;if(0===t&&null!==y)return y;if(e.indexOf("(")>-1?(c=!0,e=e.slice(1,-1)):e.indexOf("+")>-1&&(h=!0,e=e.replace(/\+/g,"")),e.indexOf("a")>-1&&(p=e.indexOf("aK")>=0,m=e.indexOf("aM")>=0,w=e.indexOf("aB")>=0,b=e.indexOf("aT")>=0,C=p||m||w||b,e.indexOf(" a")>-1?(f=" ",e=e.replace(" a","")):e=e.replace("a",""),_>=Math.pow(10,12)&&!C||b?(f+=g[v].abbreviations.trillion,t/=Math.pow(10,12)):_<Math.pow(10,12)&&_>=Math.pow(10,9)&&!C||w?(f+=g[v].abbreviations.billion,t/=Math.pow(10,9)):_<Math.pow(10,9)&&_>=Math.pow(10,6)&&!C||m?(f+=g[v].abbreviations.million,t/=Math.pow(10,6)):(_<Math.pow(10,6)&&_>=Math.pow(10,3)&&!C||p)&&(f+=g[v].abbreviations.thousand,t/=Math.pow(10,3))),e.indexOf("b")>-1)for(e.indexOf(" b")>-1?(k=" ",e=e.replace(" b","")):e=e.replace("b",""),s=0;s<=T.length;s++)if(o=Math.pow(1024,s),r=Math.pow(1024,s+1),t>=o&&r>t){k+=T[s],o>0&&(t/=o);break}return e.indexOf("o")>-1&&(e.indexOf(" o")>-1?(x=" ",e=e.replace(" o","")):e=e.replace("o",""),x+=g[v].ordinal(t)),e.indexOf("[.]")>-1&&(d=!0,e=e.replace("[.]",".")),a=t.toString().split(".")[0],l=e.split(".")[1],u=e.indexOf(","),l?(l.indexOf("[")>-1?(l=l.replace("]",""),l=l.split("["),S=i(t,l[0].length+l[1].length,n,l[1].length)):S=i(t,l.length,n),a=S.split(".")[0],S=S.split(".")[1].length?g[v].delimiters.decimal+S.split(".")[1]:"",d&&0===Number(S.slice(1))&&(S="")):a=i(t,null,n),a.indexOf("-")>-1&&(a=a.slice(1),E=!0),u>-1&&(a=a.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+g[v].delimiters.thousands)),0===e.indexOf(".")&&(a=""),(c&&E?"(":"")+(!c&&E?"-":"")+(!E&&h?"+":"")+a+S+(x?x:"")+(f?f:"")+(k?k:"")+(c&&E?")":"")}function h(t,e){g[t]=e}function d(t){var e=t.toString().split(".");return e.length<2?1:Math.pow(10,e[1].length)}function f(){var t=Array.prototype.slice.call(arguments);return t.reduce(function(t,e){var n=d(t),i=d(e);return n>i?n:i},-(1/0))}var p,m="1.5.3",g={},v="en",y=null,w="0,0",b="undefined"!=typeof n&&n.exports;p=function(t){return p.isNumeral(t)?t=t.value():0===t||"undefined"==typeof t?t=0:Number(t)||(t=p.fn.unformat(t)),new e(Number(t))},p.version=m,p.isNumeral=function(t){return t instanceof e},p.language=function(t,e){if(!t)return v;if(t&&!e){if(!g[t])throw new Error("Unknown language : "+t);v=t}return(e||!g[t])&&h(t,e),p},p.languageData=function(t){if(!t)return g[v];if(!g[t])throw new Error("Unknown language : "+t);return g[t]},p.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"},currency:{symbol:"$"}}),p.zeroFormat=function(t){y="string"==typeof t?t:null},p.defaultFormat=function(t){w="string"==typeof t?t:"0.0"},p.validate=function(t,e){var n,i,o,r,s,a,l,u;if("string"!=typeof t&&(t+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",t)),t=t.trim(),""===t)return!1;t=t.replace(/^[+-]?/,"");try{l=p.languageData(e)}catch(c){l=p.languageData(p.language())}return o=l.currency.symbol,s=l.abbreviations,n=l.delimiters.decimal,i="."===l.delimiters.thousands?"\\.":l.delimiters.thousands,u=t.match(/^[^\d\.\,]+/),null!==u&&(t=t.substr(1),u[0]!==o)?!1:(u=t.match(/[^\d]+$/),null!==u&&(t=t.slice(0,-1),u[0]!==s.thousand&&u[0]!==s.million&&u[0]!==s.billion&&u[0]!==s.trillion)?!1:t.match(/^\d+$/)?!0:(a=new RegExp(i+"{2}"),t.match(/[^\d.,]/g)?!1:(r=t.split(n),r.length>2?!1:r.length<2?!!r[0].match(/^\d+.*\d$/)&&!r[0].match(a):""===r[0]?!r[0].match(a)&&!!r[1].match(/^\d+$/):1===r[0].length?!!r[0].match(/^\d+$/)&&!r[0].match(a)&&!!r[1].match(/^\d+$/):!!r[0].match(/^\d+.*\d$/)&&!r[0].match(a)&&!!r[1].match(/^\d+$/))))},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(t,e){if(null===this||"undefined"==typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof t)throw new TypeError(t+" is not a function");var n,i,o=this.length>>>0,r=!1;for(1<arguments.length&&(i=e,r=!0),n=0;o>n;++n)this.hasOwnProperty(n)&&(r?i=t(i,this[n],n,this):(i=this[n],r=!0));if(!r)throw new TypeError("Reduce of empty array with no initial value");return i}),p.fn=e.prototype={clone:function(){return p(this)},format:function(t,e){return o(this,t?t:w,void 0!==e?e:Math.round)},unformat:function(t){return"[object Number]"===Object.prototype.toString.call(t)?t:r(this,t?t:w)},value:function(){return this._value},valueOf:function(){return this._value},set:function(t){return this._value=Number(t),this},add:function(t){function e(t,e,i,o){return t+n*e}var n=f.call(null,this._value,t);return this._value=[this._value,t].reduce(e,0)/n,this},subtract:function(t){function e(t,e,i,o){return t-n*e}var n=f.call(null,this._value,t);return this._value=[t].reduce(e,this._value*n)/n,this},multiply:function(t){function e(t,e,n,i){var o=f(t,e);return t*o*e*o/(o*o)}return this._value=[this._value,t].reduce(e,1),this},divide:function(t){function e(t,e,n,i){var o=f(t,e);return t*o/(e*o)}return this._value=[this._value,t].reduce(e),this},difference:function(t){return Math.abs(p(this._value).subtract(t).value())}},b&&(n.exports=p),"undefined"==typeof ender&&(this.numeral=p),"function"==typeof t&&t.amd&&t([],function(){return p})}).call(window)},{}],pikaday:[function(e,n,i){/*!
 * Pikaday
 *
 * Copyright Â© 2014 David Bushell | BSD & MIT license | https://github.com/dbushell/Pikaday
 */
!function(o,r){"use strict";var s;if("object"==typeof i){try{s=e("moment")}catch(a){}n.exports=r(s)}else"function"==typeof t&&t.amd?t(function(t){var e="moment";try{s=t(e)}catch(n){}return r(s)}):o.Pikaday=r(o.moment)}(this,function(t){"use strict";var e="function"==typeof t,n=!!window.addEventListener,i=window.document,o=window.setTimeout,r=function(t,e,i,o){n?t.addEventListener(e,i,!!o):t.attachEvent("on"+e,i)},s=function(t,e,i,o){n?t.removeEventListener(e,i,!!o):t.detachEvent("on"+e,i)},a=function(t,e,n){var o;i.createEvent?(o=i.createEvent("HTMLEvents"),o.initEvent(e,!0,!1),o=w(o,n),t.dispatchEvent(o)):i.createEventObject&&(o=i.createEventObject(),o=w(o,n),t.fireEvent("on"+e,o))},l=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},u=function(t,e){return-1!==(" "+t.className+" ").indexOf(" "+e+" ")},c=function(t,e){u(t,e)||(t.className=""===t.className?e:t.className+" "+e)},h=function(t,e){t.className=l((" "+t.className+" ").replace(" "+e+" "," "))},d=function(t){return/Array/.test(Object.prototype.toString.call(t))},f=function(t){return/Date/.test(Object.prototype.toString.call(t))&&!isNaN(t.getTime())},p=function(t){var e=t.getDay();return 0===e||6===e},m=function(t){return t%4===0&&t%100!==0||t%400===0},g=function(t,e){return[31,m(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},v=function(t){f(t)&&t.setHours(0,0,0,0)},y=function(t,e){return t.getTime()===e.getTime()},w=function(t,e,n){var i,o;for(i in e)o=void 0!==t[i],o&&"object"==typeof e[i]&&null!==e[i]&&void 0===e[i].nodeName?f(e[i])?n&&(t[i]=new Date(e[i].getTime())):d(e[i])?n&&(t[i]=e[i].slice(0)):t[i]=w({},e[i],n):(n||!o)&&(t[i]=e[i]);return t},b=function(t){return t.month<0&&(t.year-=Math.ceil(Math.abs(t.month)/12),t.month+=12),t.month>11&&(t.year+=Math.floor(Math.abs(t.month)/12),t.month-=12),t},C={field:null,bound:void 0,position:"bottom left",reposition:!0,format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:!1,firstDay:0,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,onSelect:null,onOpen:null,onClose:null,onDraw:null},k=function(t,e,n){for(e+=t.firstDay;e>=7;)e-=7;return n?t.i18n.weekdaysShort[e]:t.i18n.weekdays[e]},x=function(t){if(t.isEmpty)return'<td class="is-empty"></td>';var e=[];return t.isDisabled&&e.push("is-disabled"),t.isToday&&e.push("is-today"),t.isSelected&&e.push("is-selected"),t.isInRange&&e.push("is-inrange"),t.isStartRange&&e.push("is-startrange"),t.isEndRange&&e.push("is-endrange"),'<td data-day="'+t.day+'" class="'+e.join(" ")+'"><button class="pika-button pika-day" type="button" data-pika-year="'+t.year+'" data-pika-month="'+t.month+'" data-pika-day="'+t.day+'">'+t.day+"</button></td>"},_=function(t,e,n){var i=new Date(n,0,1),o=Math.ceil(((new Date(n,e,t)-i)/864e5+i.getDay()+1)/7);return'<td class="pika-week">'+o+"</td>"},T=function(t,e){return"<tr>"+(e?t.reverse():t).join("")+"</tr>"},S=function(t){return"<tbody>"+t.join("")+"</tbody>"},E=function(t){var e,n=[];for(t.showWeekNumber&&n.push("<th></th>"),e=0;7>e;e++)n.push('<th scope="col"><abbr title="'+k(t,e)+'">'+k(t,e,!0)+"</abbr></th>");return"<thead>"+(t.isRTL?n.reverse():n).join("")+"</thead>"},D=function(t,e,n,i,o){var r,s,a,l,u,c=t._o,h=n===c.minYear,f=n===c.maxYear,p='<div class="pika-title">',m=!0,g=!0;for(a=[],r=0;12>r;r++)a.push('<option value="'+(n===o?r-e:12+r-e)+'"'+(r===i?" selected":"")+(h&&r<c.minMonth||f&&r>c.maxMonth?"disabled":"")+">"+c.i18n.months[r]+"</option>");for(l='<div class="pika-label">'+c.i18n.months[i]+'<select class="pika-select pika-select-month" tabindex="-1">'+a.join("")+"</select></div>",d(c.yearRange)?(r=c.yearRange[0],s=c.yearRange[1]+1):(r=n-c.yearRange,s=1+n+c.yearRange),a=[];s>r&&r<=c.maxYear;r++)r>=c.minYear&&a.push('<option value="'+r+'"'+(r===n?" selected":"")+">"+r+"</option>");return u='<div class="pika-label">'+n+c.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+a.join("")+"</select></div>",p+=c.showMonthAfterYear?u+l:l+u,h&&(0===i||c.minMonth>=i)&&(m=!1),f&&(11===i||c.maxMonth<=i)&&(g=!1),0===e&&(p+='<button class="pika-prev'+(m?"":" is-disabled")+'" type="button">'+c.i18n.previousMonth+"</button>"),e===t._o.numberOfMonths-1&&(p+='<button class="pika-next'+(g?"":" is-disabled")+'" type="button">'+c.i18n.nextMonth+"</button>"),p+="</div>"},R=function(t,e){return'<table cellpadding="0" cellspacing="0" class="pika-table">'+E(t)+S(e)+"</table>"},M=function(s){var a=this,l=a.config(s);a._onMouseDown=function(t){if(a._v){t=t||window.event;var e=t.target||t.srcElement;if(e){if(!u(e.parentNode,"is-disabled")){if(u(e,"pika-button")&&!u(e,"is-empty"))return a.setDate(new Date(e.getAttribute("data-pika-year"),e.getAttribute("data-pika-month"),e.getAttribute("data-pika-day"))),void(l.bound&&o(function(){a.hide(),l.field&&l.field.blur()},100));u(e,"pika-prev")?a.prevMonth():u(e,"pika-next")&&a.nextMonth()}if(u(e,"pika-select"))a._c=!0;else{if(!t.preventDefault)return t.returnValue=!1,!1;t.preventDefault()}}}},a._onChange=function(t){t=t||window.event;var e=t.target||t.srcElement;e&&(u(e,"pika-select-month")?a.gotoMonth(e.value):u(e,"pika-select-year")&&a.gotoYear(e.value))},a._onInputChange=function(n){var i;n.firedBy!==a&&(e?(i=t(l.field.value,l.format),i=i&&i.isValid()?i.toDate():null):i=new Date(Date.parse(l.field.value)),f(i)&&a.setDate(i),a._v||a.show())},a._onInputFocus=function(){a.show()},a._onInputClick=function(){a.show()},a._onInputBlur=function(){var t=i.activeElement;do if(u(t,"pika-single"))return;while(t=t.parentNode);a._c||(a._b=o(function(){a.hide()},50)),a._c=!1},a._onClick=function(t){t=t||window.event;var e=t.target||t.srcElement,i=e;if(e){!n&&u(e,"pika-select")&&(e.onchange||(e.setAttribute("onchange","return;"),r(e,"change",a._onChange)));do if(u(i,"pika-single")||i===l.trigger)return;while(i=i.parentNode);a._v&&e!==l.trigger&&i!==l.trigger&&a.hide()}},a.el=i.createElement("div"),a.el.className="pika-single"+(l.isRTL?" is-rtl":"")+(l.theme?" "+l.theme:""),r(a.el,"ontouchend"in i?"touchend":"mousedown",a._onMouseDown,!0),r(a.el,"change",a._onChange),l.field&&(l.container?l.container.appendChild(a.el):l.bound?i.body.appendChild(a.el):l.field.parentNode.insertBefore(a.el,l.field.nextSibling),r(l.field,"change",a._onInputChange),l.defaultDate||(e&&l.field.value?l.defaultDate=t(l.field.value,l.format).toDate():l.defaultDate=new Date(Date.parse(l.field.value)),l.setDefaultDate=!0));var c=l.defaultDate;f(c)?l.setDefaultDate?a.setDate(c,!0):a.gotoDate(c):a.gotoDate(new Date),l.bound?(this.hide(),a.el.className+=" is-bound",r(l.trigger,"click",a._onInputClick),r(l.trigger,"focus",a._onInputFocus),r(l.trigger,"blur",a._onInputBlur)):this.show()};return M.prototype={config:function(t){this._o||(this._o=w({},C,!0));var e=w(this._o,t,!0);e.isRTL=!!e.isRTL,e.field=e.field&&e.field.nodeName?e.field:null,e.theme="string"==typeof e.theme&&e.theme?e.theme:null,e.bound=!!(void 0!==e.bound?e.field&&e.bound:e.field),e.trigger=e.trigger&&e.trigger.nodeName?e.trigger:e.field,e.disableWeekends=!!e.disableWeekends,e.disableDayFn="function"==typeof e.disableDayFn?e.disableDayFn:null;var n=parseInt(e.numberOfMonths,10)||1;if(e.numberOfMonths=n>4?4:n,f(e.minDate)||(e.minDate=!1),f(e.maxDate)||(e.maxDate=!1),e.minDate&&e.maxDate&&e.maxDate<e.minDate&&(e.maxDate=e.minDate=!1),e.minDate&&this.setMinDate(e.minDate),e.maxDate&&(v(e.maxDate),e.maxYear=e.maxDate.getFullYear(),e.maxMonth=e.maxDate.getMonth()),d(e.yearRange)){var i=(new Date).getFullYear()-10;e.yearRange[0]=parseInt(e.yearRange[0],10)||i,e.yearRange[1]=parseInt(e.yearRange[1],10)||i}else e.yearRange=Math.abs(parseInt(e.yearRange,10))||C.yearRange,e.yearRange>100&&(e.yearRange=100);return e},toString:function(n){return f(this._d)?e?t(this._d).format(n||this._o.format):this._d.toDateString():""},getMoment:function(){return e?t(this._d):null},setMoment:function(n,i){e&&t.isMoment(n)&&this.setDate(n.toDate(),i)},getDate:function(){return f(this._d)?new Date(this._d.getTime()):null},setDate:function(t,e){if(!t)return this._d=null,this._o.field&&(this._o.field.value="",a(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof t&&(t=new Date(Date.parse(t))),f(t)){var n=this._o.minDate,i=this._o.maxDate;f(n)&&n>t?t=n:f(i)&&t>i&&(t=i),this._d=new Date(t.getTime()),v(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),a(this._o.field,"change",{firedBy:this})),e||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(t){var e=!0;if(f(t)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),i=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),o=t.getTime();i.setMonth(i.getMonth()+1),i.setDate(i.getDate()-1),e=o<n.getTime()||i.getTime()<o}e&&(this.calendars=[{month:t.getMonth(),year:t.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustCalendars:function(){this.calendars[0]=b(this.calendars[0]);for(var t=1;t<this._o.numberOfMonths;t++)this.calendars[t]=b({month:this.calendars[0].month+t,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(t){isNaN(t)||(this.calendars[0].month=parseInt(t,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(t){isNaN(t)||(this.calendars[0].year=parseInt(t,10),this.adjustCalendars())},setMinDate:function(t){v(t),this._o.minDate=t,this._o.minYear=t.getFullYear(),this._o.minMonth=t.getMonth()},setMaxDate:function(t){this._o.maxDate=t},setStartRange:function(t){this._o.startRange=t},setEndRange:function(t){this._o.endRange=t},draw:function(t){if(this._v||t){var e=this._o,n=e.minYear,i=e.maxYear,r=e.minMonth,s=e.maxMonth,a="";this._y<=n&&(this._y=n,!isNaN(r)&&this._m<r&&(this._m=r)),this._y>=i&&(this._y=i,!isNaN(s)&&this._m>s&&(this._m=s));for(var l=0;l<e.numberOfMonths;l++)a+='<div class="pika-lendar">'+D(this,l,this.calendars[l].year,this.calendars[l].month,this.calendars[0].year)+this.render(this.calendars[l].year,this.calendars[l].month)+"</div>";if(this.el.innerHTML=a,e.bound&&"hidden"!==e.field.type&&o(function(){e.trigger.focus()},1),"function"==typeof this._o.onDraw){var u=this;o(function(){u._o.onDraw.call(u)},0)}}},adjustPosition:function(){var t,e,n,o,r,s,a,l,u,c;if(!this._o.container){if(this.el.style.position="absolute",t=this._o.trigger,e=t,n=this.el.offsetWidth,o=this.el.offsetHeight,r=window.innerWidth||i.documentElement.clientWidth,s=window.innerHeight||i.documentElement.clientHeight,a=window.pageYOffset||i.body.scrollTop||i.documentElement.scrollTop,"function"==typeof t.getBoundingClientRect)c=t.getBoundingClientRect(),l=c.left+window.pageXOffset,u=c.bottom+window.pageYOffset;else for(l=e.offsetLeft,u=e.offsetTop+e.offsetHeight;e=e.offsetParent;)l+=e.offsetLeft,u+=e.offsetTop;(this._o.reposition&&l+n>r||this._o.position.indexOf("right")>-1&&l-n+t.offsetWidth>0)&&(l=l-n+t.offsetWidth),(this._o.reposition&&u+o>s+a||this._o.position.indexOf("top")>-1&&u-o-t.offsetHeight>0)&&(u=u-o-t.offsetHeight),this.el.style.left=l+"px",this.el.style.top=u+"px"}},render:function(t,e){var n=this._o,i=new Date,o=g(t,e),r=new Date(t,e,1).getDay(),s=[],a=[];v(i),n.firstDay>0&&(r-=n.firstDay,0>r&&(r+=7));for(var l=o+r,u=l;u>7;)u-=7;l+=7-u;for(var c=0,h=0;l>c;c++){var d,m=new Date(t,e,1+(c-r)),w=f(this._d)?y(m,this._d):!1,b=y(m,i),C=r>c||c>=o+r,k=n.startRange&&y(n.startRange,m),S=n.endRange&&y(n.endRange,m),E=n.startRange&&n.endRange&&n.startRange<m&&m<n.endRange,D=n.minDate&&m<n.minDate||n.maxDate&&m>n.maxDate||n.disableWeekends&&p(m)||n.disableDayFn&&n.disableDayFn(m),d={day:1+(c-r),month:e,year:t,isSelected:w,isToday:b,isDisabled:D,isEmpty:C,isStartRange:k,isEndRange:S,isInRange:E};a.push(x(d)),7===++h&&(n.showWeekNumber&&a.unshift(_(c-r,e,t)),s.push(T(a,n.isRTL)),a=[],h=0)}return R(n,s)},isVisible:function(){return this._v},show:function(){this._v||(h(this.el,"is-hidden"),this._v=!0,this.draw(),this._o.bound&&(r(i,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var t=this._v;t!==!1&&(this._o.bound&&s(i,"click",this._onClick),this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto",c(this.el,"is-hidden"),this._v=!1,void 0!==t&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){this.hide(),s(this.el,"mousedown",this._onMouseDown,!0),s(this.el,"change",this._onChange),this._o.field&&(s(this._o.field,"change",this._onInputChange),this._o.bound&&(s(this._o.trigger,"click",this._onInputClick),s(this._o.trigger,"focus",this._onInputFocus),s(this._o.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},M})},{moment:"moment"}],zeroclipboard:[function(e,n,i){/*!
 * ZeroClipboard
 * The ZeroClipboard library provides an easy way to copy text to the clipboard using an invisible Adobe Flash movie and a JavaScript interface.
 * Copyright (c) 2009-2014 Jon Rohan, James M. Greene
 * Licensed MIT
 * http://zeroclipboard.org/
 * v2.2.0
 */
!function(e,i){"use strict";var o,r,s,a=e,l=a.document,u=a.navigator,c=a.setTimeout,h=a.clearTimeout,d=a.setInterval,f=a.clearInterval,p=a.getComputedStyle,m=a.encodeURIComponent,g=a.ActiveXObject,v=a.Error,y=a.Number.parseInt||a.parseInt,w=a.Number.parseFloat||a.parseFloat,b=a.Number.isNaN||a.isNaN,C=a.Date.now,k=a.Object.keys,x=a.Object.defineProperty,_=a.Object.prototype.hasOwnProperty,T=a.Array.prototype.slice,S=function(){var t=function(t){return t};if("function"==typeof a.wrap&&"function"==typeof a.unwrap)try{var e=l.createElement("div"),n=a.unwrap(e);1===e.nodeType&&n&&1===n.nodeType&&(t=a.unwrap)}catch(i){}return t}(),E=function(t){return T.call(t,0)},D=function(){var t,e,n,o,r,s,a=E(arguments),l=a[0]||{};for(t=1,e=a.length;e>t;t++)if(null!=(n=a[t]))for(o in n)_.call(n,o)&&(r=l[o],s=n[o],l!==s&&s!==i&&(l[o]=s));return l},R=function(t){var e,n,i,o;if("object"!=typeof t||null==t||"number"==typeof t.nodeType)e=t;else if("number"==typeof t.length)for(e=[],n=0,i=t.length;i>n;n++)_.call(t,n)&&(e[n]=R(t[n]));else{e={};for(o in t)_.call(t,o)&&(e[o]=R(t[o]))}return e},M=function(t,e){for(var n={},i=0,o=e.length;o>i;i++)e[i]in t&&(n[e[i]]=t[e[i]]);return n},A=function(t,e){var n={};for(var i in t)-1===e.indexOf(i)&&(n[i]=t[i]);return n},O=function(t){if(t)for(var e in t)_.call(t,e)&&delete t[e];return t},H=function(t,e){if(t&&1===t.nodeType&&t.ownerDocument&&e&&(1===e.nodeType&&e.ownerDocument&&e.ownerDocument===t.ownerDocument||9===e.nodeType&&!e.ownerDocument&&e===t.ownerDocument))do{if(t===e)return!0;t=t.parentNode}while(t);return!1},P=function(t){var e;return"string"==typeof t&&t&&(e=t.split("#")[0].split("?")[0],e=t.slice(0,t.lastIndexOf("/")+1)),e},L=function(t){var e,n;return"string"==typeof t&&t&&(n=t.match(/^(?:|[^:@]*@|.+\)@(?=http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),n&&n[1]?e=n[1]:(n=t.match(/\)@((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),n&&n[1]&&(e=n[1]))),e},I=function(){var t,e;try{throw new v}catch(n){e=n}return e&&(t=e.sourceURL||e.fileName||L(e.stack)),t},j=function(){var t,e,n;if(l.currentScript&&(t=l.currentScript.src))return t;if(e=l.getElementsByTagName("script"),1===e.length)return e[0].src||i;if("readyState"in e[0])for(n=e.length;n--;)if("interactive"===e[n].readyState&&(t=e[n].src))return t;return"loading"===l.readyState&&(t=e[e.length-1].src)?t:(t=I())?t:i},N=function(){var t,e,n,o=l.getElementsByTagName("script");for(t=o.length;t--;){if(!(n=o[t].src)){e=null;break}if(n=P(n),null==e)e=n;else if(e!==n){e=null;break}}return e||i},$=function(){var t=P(j())||N()||"";return t+"ZeroClipboard.swf"},F=function(){return null==e.opener&&(!!e.top&&e!=e.top||!!e.parent&&e!=e.parent)}(),W={bridge:null,version:"0.0.0",pluginType:"unknown",disabled:null,outdated:null,sandboxed:null,unavailable:null,degraded:null,deactivated:null,overdue:null,ready:null},B="11.0.0",V={},z={},Y=null,U=0,G=0,q={ready:"Flash communication is established",error:{"flash-disabled":"Flash is disabled or not installed. May also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-outdated":"Flash is too outdated to support ZeroClipboard","flash-sandboxed":"Attempting to run Flash in a sandboxed iframe, which is impossible","flash-unavailable":"Flash is unable to communicate bidirectionally with JavaScript","flash-degraded":"Flash is unable to preserve data fidelity when communicating with JavaScript","flash-deactivated":"Flash is too outdated for your browser and/or is configured as click-to-activate.\nThis may also mean that the ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity.\nMay also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-overdue":"Flash communication was established but NOT within the acceptable time limit","version-mismatch":"ZeroClipboard JS version number does not match ZeroClipboard SWF version number","clipboard-error":"At least one error was thrown while ZeroClipboard was attempting to inject your data into the clipboard","config-mismatch":"ZeroClipboard configuration does not match Flash's reality","swf-not-found":"The ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity"}},X=["flash-unavailable","flash-degraded","flash-overdue","version-mismatch","config-mismatch","clipboard-error"],K=["flash-disabled","flash-outdated","flash-sandboxed","flash-unavailable","flash-degraded","flash-deactivated","flash-overdue"],J=new RegExp("^flash-("+K.map(function(t){return t.replace(/^flash-/,"")}).join("|")+")$"),Q=new RegExp("^flash-("+K.slice(1).map(function(t){return t.replace(/^flash-/,"")}).join("|")+")$"),Z={swfPath:$(),trustedDomains:e.location.host?[e.location.host]:[],cacheBust:!0,forceEnhancedClipboard:!1,flashLoadTimeout:3e4,autoActivate:!0,bubbleEvents:!0,containerId:"global-zeroclipboard-html-bridge",containerClass:"global-zeroclipboard-container",swfObjectId:"global-zeroclipboard-flash-bridge",hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",forceHandCursor:!1,title:null,zIndex:999999999},tt=function(t){if("object"==typeof t&&null!==t)for(var e in t)if(_.call(t,e))if(/^(?:forceHandCursor|title|zIndex|bubbleEvents)$/.test(e))Z[e]=t[e];else if(null==W.bridge)if("containerId"===e||"swfObjectId"===e){if(!mt(t[e]))throw new Error("The specified `"+e+"` value is not valid as an HTML4 Element ID");Z[e]=t[e]}else Z[e]=t[e];return"string"==typeof t&&t?_.call(Z,t)?Z[t]:void 0:R(Z)},et=function(){return Gt(),{browser:M(u,["userAgent","platform","appName"]),flash:A(W,["bridge"]),zeroclipboard:{version:Xt.version,config:Xt.config()}}},nt=function(){return!!(W.disabled||W.outdated||W.sandboxed||W.unavailable||W.degraded||W.deactivated)},it=function(t,e){var n,r,s,a={};if("string"==typeof t&&t)s=t.toLowerCase().split(/\s+/);else if("object"==typeof t&&t&&"undefined"==typeof e)for(n in t)_.call(t,n)&&"string"==typeof n&&n&&"function"==typeof t[n]&&Xt.on(n,t[n]);if(s&&s.length){for(n=0,r=s.length;r>n;n++)t=s[n].replace(/^on/,""),a[t]=!0,V[t]||(V[t]=[]),V[t].push(e);if(a.ready&&W.ready&&Xt.emit({type:"ready"}),a.error){for(n=0,r=K.length;r>n;n++)if(W[K[n].replace(/^flash-/,"")]===!0){Xt.emit({type:"error",name:K[n]});break}o!==i&&Xt.version!==o&&Xt.emit({type:"error",name:"version-mismatch",jsVersion:Xt.version,swfVersion:o})}}return Xt},ot=function(t,e){var n,i,o,r,s;if(0===arguments.length)r=k(V);else if("string"==typeof t&&t)r=t.split(/\s+/);else if("object"==typeof t&&t&&"undefined"==typeof e)for(n in t)_.call(t,n)&&"string"==typeof n&&n&&"function"==typeof t[n]&&Xt.off(n,t[n]);if(r&&r.length)for(n=0,i=r.length;i>n;n++)if(t=r[n].toLowerCase().replace(/^on/,""),s=V[t],s&&s.length)if(e)for(o=s.indexOf(e);-1!==o;)s.splice(o,1),o=s.indexOf(e,o);else s.length=0;return Xt},rt=function(t){var e;return e="string"==typeof t&&t?R(V[t])||null:R(V)},st=function(t){var e,n,i;return t=gt(t),t&&!xt(t)?"ready"===t.type&&W.overdue===!0?Xt.emit({type:"error",name:"flash-overdue"}):(e=D({},t),Ct.call(this,e),"copy"===t.type&&(i=At(z),n=i.data,Y=i.formatMap),n):void 0},at=function(){var t=W.sandboxed;if(Gt(),"boolean"!=typeof W.ready&&(W.ready=!1),W.sandboxed!==t&&W.sandboxed===!0)W.ready=!1,Xt.emit({type:"error",name:"flash-sandboxed"});else if(!Xt.isFlashUnusable()&&null===W.bridge){var e=Z.flashLoadTimeout;"number"==typeof e&&e>=0&&(U=c(function(){"boolean"!=typeof W.deactivated&&(W.deactivated=!0),W.deactivated===!0&&Xt.emit({type:"error",name:"flash-deactivated"})},e)),W.overdue=!1,Rt()}},lt=function(){Xt.clearData(),Xt.blur(),Xt.emit("destroy"),Mt(),Xt.off()},ut=function(t,e){var n;if("object"==typeof t&&t&&"undefined"==typeof e)n=t,Xt.clearData();else{if("string"!=typeof t||!t)return;n={},n[t]=e}for(var i in n)"string"==typeof i&&i&&_.call(n,i)&&"string"==typeof n[i]&&n[i]&&(z[i]=n[i])},ct=function(t){"undefined"==typeof t?(O(z),Y=null):"string"==typeof t&&_.call(z,t)&&delete z[t]},ht=function(t){return"undefined"==typeof t?R(z):"string"==typeof t&&_.call(z,t)?z[t]:void 0},dt=function(t){if(t&&1===t.nodeType){r&&($t(r,Z.activeClass),r!==t&&$t(r,Z.hoverClass)),r=t,Nt(t,Z.hoverClass);var e=t.getAttribute("title")||Z.title;if("string"==typeof e&&e){var n=Dt(W.bridge);n&&n.setAttribute("title",e)}var i=Z.forceHandCursor===!0||"pointer"===Ft(t,"cursor");Yt(i),zt()}},ft=function(){var t=Dt(W.bridge);t&&(t.removeAttribute("title"),t.style.left="0px",t.style.top="-9999px",t.style.width="1px",t.style.height="1px"),r&&($t(r,Z.hoverClass),$t(r,Z.activeClass),r=null)},pt=function(){return r||null},mt=function(t){return"string"==typeof t&&t&&/^[A-Za-z][A-Za-z0-9_:\-\.]*$/.test(t)},gt=function(t){var e;if("string"==typeof t&&t?(e=t,t={}):"object"==typeof t&&t&&"string"==typeof t.type&&t.type&&(e=t.type),e){e=e.toLowerCase(),!t.target&&(/^(copy|aftercopy|_click)$/.test(e)||"error"===e&&"clipboard-error"===t.name)&&(t.target=s),D(t,{type:e,target:t.target||r||null,relatedTarget:t.relatedTarget||null,currentTarget:W&&W.bridge||null,timeStamp:t.timeStamp||C()||null});var n=q[t.type];return"error"===t.type&&t.name&&n&&(n=n[t.name]),n&&(t.message=n),"ready"===t.type&&D(t,{target:null,version:W.version}),"error"===t.type&&(J.test(t.name)&&D(t,{target:null,minimumVersion:B}),Q.test(t.name)&&D(t,{version:W.version})),"copy"===t.type&&(t.clipboardData={setData:Xt.setData,clearData:Xt.clearData}),"aftercopy"===t.type&&(t=Ot(t,Y)),t.target&&!t.relatedTarget&&(t.relatedTarget=vt(t.target)),yt(t)}},vt=function(t){var e=t&&t.getAttribute&&t.getAttribute("data-clipboard-target");return e?l.getElementById(e):null},yt=function(t){if(t&&/^_(?:click|mouse(?:over|out|down|up|move))$/.test(t.type)){var e=t.target,n="_mouseover"===t.type&&t.relatedTarget?t.relatedTarget:i,o="_mouseout"===t.type&&t.relatedTarget?t.relatedTarget:i,r=Wt(e),s=a.screenLeft||a.screenX||0,u=a.screenTop||a.screenY||0,c=l.body.scrollLeft+l.documentElement.scrollLeft,h=l.body.scrollTop+l.documentElement.scrollTop,d=r.left+("number"==typeof t._stageX?t._stageX:0),f=r.top+("number"==typeof t._stageY?t._stageY:0),p=d-c,m=f-h,g=s+p,v=u+m,y="number"==typeof t.movementX?t.movementX:0,w="number"==typeof t.movementY?t.movementY:0;delete t._stageX,delete t._stageY,D(t,{srcElement:e,fromElement:n,toElement:o,screenX:g,screenY:v,pageX:d,pageY:f,clientX:p,clientY:m,x:p,y:m,movementX:y,movementY:w,offsetX:0,offsetY:0,layerX:0,layerY:0})}return t},wt=function(t){var e=t&&"string"==typeof t.type&&t.type||"";return!/^(?:(?:before)?copy|destroy)$/.test(e)},bt=function(t,e,n,i){i?c(function(){t.apply(e,n)},0):t.apply(e,n)},Ct=function(t){if("object"==typeof t&&t&&t.type){var e=wt(t),n=V["*"]||[],i=V[t.type]||[],o=n.concat(i);if(o&&o.length){var r,s,l,u,c,h=this;for(r=0,s=o.length;s>r;r++)l=o[r],u=h,"string"==typeof l&&"function"==typeof a[l]&&(l=a[l]),"object"==typeof l&&l&&"function"==typeof l.handleEvent&&(u=l,l=l.handleEvent),"function"==typeof l&&(c=D({},t),bt(l,u,[c],e))}return this}},kt=function(t){var e=null;return(F===!1||t&&"error"===t.type&&t.name&&-1!==X.indexOf(t.name))&&(e=!1),e},xt=function(t){var e=t.target||r||null,n="swf"===t._source;switch(delete t._source,t.type){case"error":var i="flash-sandboxed"===t.name||kt(t);"boolean"==typeof i&&(W.sandboxed=i),-1!==K.indexOf(t.name)?D(W,{disabled:"flash-disabled"===t.name,outdated:"flash-outdated"===t.name,unavailable:"flash-unavailable"===t.name,degraded:"flash-degraded"===t.name,deactivated:"flash-deactivated"===t.name,overdue:"flash-overdue"===t.name,ready:!1}):"version-mismatch"===t.name&&(o=t.swfVersion,D(W,{disabled:!1,outdated:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:!1,ready:!1})),Vt();break;case"ready":o=t.swfVersion;var a=W.deactivated===!0;D(W,{disabled:!1,outdated:!1,sandboxed:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:a,ready:!a}),Vt();break;case"beforecopy":s=e;break;case"copy":var l,u,c=t.relatedTarget;!z["text/html"]&&!z["text/plain"]&&c&&(u=c.value||c.outerHTML||c.innerHTML)&&(l=c.value||c.textContent||c.innerText)?(t.clipboardData.clearData(),t.clipboardData.setData("text/plain",l),u!==l&&t.clipboardData.setData("text/html",u)):!z["text/plain"]&&t.target&&(l=t.target.getAttribute("data-clipboard-text"))&&(t.clipboardData.clearData(),t.clipboardData.setData("text/plain",l));break;case"aftercopy":_t(t),Xt.clearData(),e&&e!==jt()&&e.focus&&e.focus();break;case"_mouseover":Xt.focus(e),Z.bubbleEvents===!0&&n&&(e&&e!==t.relatedTarget&&!H(t.relatedTarget,e)&&Tt(D({},t,{type:"mouseenter",bubbles:!1,cancelable:!1})),Tt(D({},t,{type:"mouseover"})));break;case"_mouseout":Xt.blur(),Z.bubbleEvents===!0&&n&&(e&&e!==t.relatedTarget&&!H(t.relatedTarget,e)&&Tt(D({},t,{type:"mouseleave",bubbles:!1,cancelable:!1})),Tt(D({},t,{type:"mouseout"})));break;case"_mousedown":Nt(e,Z.activeClass),Z.bubbleEvents===!0&&n&&Tt(D({},t,{type:t.type.slice(1)}));break;case"_mouseup":$t(e,Z.activeClass),Z.bubbleEvents===!0&&n&&Tt(D({},t,{type:t.type.slice(1)}));break;case"_click":s=null,Z.bubbleEvents===!0&&n&&Tt(D({},t,{type:t.type.slice(1)}));break;case"_mousemove":Z.bubbleEvents===!0&&n&&Tt(D({},t,{type:t.type.slice(1)}))}return/^_(?:click|mouse(?:over|out|down|up|move))$/.test(t.type)?!0:void 0},_t=function(t){if(t.errors&&t.errors.length>0){var e=R(t);D(e,{type:"error",name:"clipboard-error"}),delete e.success,c(function(){Xt.emit(e)},0)}},Tt=function(t){if(t&&"string"==typeof t.type&&t){var e,n=t.target||null,i=n&&n.ownerDocument||l,o={view:i.defaultView||a,canBubble:!0,cancelable:!0,detail:"click"===t.type?1:0,button:"number"==typeof t.which?t.which-1:"number"==typeof t.button?t.button:i.createEvent?0:1},r=D(o,t);n&&i.createEvent&&n.dispatchEvent&&(r=[r.type,r.canBubble,r.cancelable,r.view,r.detail,r.screenX,r.screenY,r.clientX,r.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.button,r.relatedTarget],e=i.createEvent("MouseEvents"),e.initMouseEvent&&(e.initMouseEvent.apply(e,r),e._source="js",n.dispatchEvent(e)))}},St=function(){var t=Z.flashLoadTimeout;if("number"==typeof t&&t>=0){var e=Math.min(1e3,t/10),n=Z.swfObjectId+"_fallbackContent";G=d(function(){var t=l.getElementById(n);Bt(t)&&(Vt(),W.deactivated=null,Xt.emit({type:"error",name:"swf-not-found"}))},e)}},Et=function(){var t=l.createElement("div");return t.id=Z.containerId,t.className=Z.containerClass,t.style.position="absolute",t.style.left="0px",t.style.top="-9999px",t.style.width="1px",t.style.height="1px",t.style.zIndex=""+Ut(Z.zIndex),t},Dt=function(t){for(var e=t&&t.parentNode;e&&"OBJECT"===e.nodeName&&e.parentNode;)e=e.parentNode;return e||null},Rt=function(){var t,e=W.bridge,n=Dt(e);if(!e){var i=It(a.location.host,Z),o="never"===i?"none":"all",r=Pt(D({jsVersion:Xt.version},Z)),s=Z.swfPath+Ht(Z.swfPath,Z);n=Et();var u=l.createElement("div");n.appendChild(u),l.body.appendChild(n);var c=l.createElement("div"),h="activex"===W.pluginType;c.innerHTML='<object id="'+Z.swfObjectId+'" name="'+Z.swfObjectId+'" width="100%" height="100%" '+(h?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"':'type="application/x-shockwave-flash" data="'+s+'"')+">"+(h?'<param name="movie" value="'+s+'"/>':"")+'<param name="allowScriptAccess" value="'+i+'"/><param name="allowNetworking" value="'+o+'"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="'+r+'"/><div id="'+Z.swfObjectId+'_fallbackContent">&nbsp;</div></object>',e=c.firstChild,c=null,S(e).ZeroClipboard=Xt,n.replaceChild(e,u),St()}return e||(e=l[Z.swfObjectId],e&&(t=e.length)&&(e=e[t-1]),!e&&n&&(e=n.firstChild)),W.bridge=e||null,e},Mt=function(){var t=W.bridge;if(t){var e=Dt(t);e&&("activex"===W.pluginType&&"readyState"in t?(t.style.display="none",function n(){if(4===t.readyState){for(var i in t)"function"==typeof t[i]&&(t[i]=null);t.parentNode&&t.parentNode.removeChild(t),e.parentNode&&e.parentNode.removeChild(e)}else c(n,10)}()):(t.parentNode&&t.parentNode.removeChild(t),e.parentNode&&e.parentNode.removeChild(e))),Vt(),W.ready=null,W.bridge=null,W.deactivated=null,o=i}},At=function(t){var e={},n={};if("object"==typeof t&&t){for(var i in t)if(i&&_.call(t,i)&&"string"==typeof t[i]&&t[i])switch(i.toLowerCase()){case"text/plain":case"text":case"air:text":case"flash:text":e.text=t[i],n.text=i;break;case"text/html":case"html":case"air:html":case"flash:html":e.html=t[i],n.html=i;break;case"application/rtf":case"text/rtf":case"rtf":case"richtext":case"air:rtf":case"flash:rtf":e.rtf=t[i],n.rtf=i}return{data:e,formatMap:n}}},Ot=function(t,e){if("object"!=typeof t||!t||"object"!=typeof e||!e)return t;var n={};for(var i in t)if(_.call(t,i))if("errors"===i){n[i]=t[i]?t[i].slice():[];for(var o=0,r=n[i].length;r>o;o++)n[i][o].format=e[n[i][o].format]}else if("success"!==i&&"data"!==i)n[i]=t[i];else{n[i]={};var s=t[i];for(var a in s)a&&_.call(s,a)&&_.call(e,a)&&(n[i][e[a]]=s[a])}return n},Ht=function(t,e){var n=null==e||e&&e.cacheBust===!0;return n?(-1===t.indexOf("?")?"?":"&")+"noCache="+C():""},Pt=function(t){var e,n,i,o,r="",s=[];if(t.trustedDomains&&("string"==typeof t.trustedDomains?o=[t.trustedDomains]:"object"==typeof t.trustedDomains&&"length"in t.trustedDomains&&(o=t.trustedDomains)),o&&o.length)for(e=0,n=o.length;n>e;e++)if(_.call(o,e)&&o[e]&&"string"==typeof o[e]){if(i=Lt(o[e]),!i)continue;if("*"===i){s.length=0,s.push(i);break}s.push.apply(s,[i,"//"+i,a.location.protocol+"//"+i])}return s.length&&(r+="trustedOrigins="+m(s.join(","))),t.forceEnhancedClipboard===!0&&(r+=(r?"&":"")+"forceEnhancedClipboard=true"),"string"==typeof t.swfObjectId&&t.swfObjectId&&(r+=(r?"&":"")+"swfObjectId="+m(t.swfObjectId)),"string"==typeof t.jsVersion&&t.jsVersion&&(r+=(r?"&":"")+"jsVersion="+m(t.jsVersion)),r},Lt=function(t){if(null==t||""===t)return null;if(t=t.replace(/^\s+|\s+$/g,""),""===t)return null;var e=t.indexOf("//");t=-1===e?t:t.slice(e+2);var n=t.indexOf("/");return t=-1===n?t:-1===e||0===n?null:t.slice(0,n),t&&".swf"===t.slice(-4).toLowerCase()?null:t||null},It=function(){var t=function(t){var e,n,i,o=[];if("string"==typeof t&&(t=[t]),"object"!=typeof t||!t||"number"!=typeof t.length)return o;for(e=0,n=t.length;n>e;e++)if(_.call(t,e)&&(i=Lt(t[e]))){if("*"===i){o.length=0,o.push("*");break}-1===o.indexOf(i)&&o.push(i)}return o};return function(e,n){var i=Lt(n.swfPath);null===i&&(i=e);var o=t(n.trustedDomains),r=o.length;if(r>0){if(1===r&&"*"===o[0])return"always";if(-1!==o.indexOf(e))return 1===r&&e===i?"sameDomain":"always"}return"never"}}(),jt=function(){try{return l.activeElement}catch(t){return null}},Nt=function(t,e){var n,i,o,r=[];if("string"==typeof e&&e&&(r=e.split(/\s+/)),t&&1===t.nodeType&&r.length>0)if(t.classList)for(n=0,i=r.length;i>n;n++)t.classList.add(r[n]);else if(t.hasOwnProperty("className")){for(o=" "+t.className+" ",n=0,i=r.length;i>n;n++)-1===o.indexOf(" "+r[n]+" ")&&(o+=r[n]+" ");t.className=o.replace(/^\s+|\s+$/g,"")}return t},$t=function(t,e){var n,i,o,r=[];if("string"==typeof e&&e&&(r=e.split(/\s+/)),t&&1===t.nodeType&&r.length>0)if(t.classList&&t.classList.length>0)for(n=0,i=r.length;i>n;n++)t.classList.remove(r[n]);else if(t.className){for(o=(" "+t.className+" ").replace(/[\r\n\t]/g," "),n=0,i=r.length;i>n;n++)o=o.replace(" "+r[n]+" "," ");t.className=o.replace(/^\s+|\s+$/g,"")}return t},Ft=function(t,e){var n=p(t,null).getPropertyValue(e);return"cursor"!==e||n&&"auto"!==n||"A"!==t.nodeName?n:"pointer"},Wt=function(t){var e={left:0,top:0,width:0,height:0};if(t.getBoundingClientRect){var n=t.getBoundingClientRect(),i=a.pageXOffset,o=a.pageYOffset,r=l.documentElement.clientLeft||0,s=l.documentElement.clientTop||0,u=0,c=0;if("relative"===Ft(l.body,"position")){var h=l.body.getBoundingClientRect(),d=l.documentElement.getBoundingClientRect();u=h.left-d.left||0,c=h.top-d.top||0}e.left=n.left+i-r-u,e.top=n.top+o-s-c,e.width="width"in n?n.width:n.right-n.left,e.height="height"in n?n.height:n.bottom-n.top}return e},Bt=function(t){if(!t)return!1;var e=p(t,null),n=w(e.height)>0,i=w(e.width)>0,o=w(e.top)>=0,r=w(e.left)>=0,s=n&&i&&o&&r,a=s?null:Wt(t),l="none"!==e.display&&"collapse"!==e.visibility&&(s||!!a&&(n||a.height>0)&&(i||a.width>0)&&(o||a.top>=0)&&(r||a.left>=0));return l},Vt=function(){h(U),U=0,f(G),G=0},zt=function(){var t;if(r&&(t=Dt(W.bridge))){var e=Wt(r);D(t.style,{width:e.width+"px",height:e.height+"px",top:e.top+"px",left:e.left+"px",zIndex:""+Ut(Z.zIndex)})}},Yt=function(t){W.ready===!0&&(W.bridge&&"function"==typeof W.bridge.setHandCursor?W.bridge.setHandCursor(t):W.ready=!1)},Ut=function(t){if(/^(?:auto|inherit)$/.test(t))return t;var e;return"number"!=typeof t||b(t)?"string"==typeof t&&(e=Ut(y(t,10))):e=t,"number"==typeof e?e:"auto"},Gt=function(t){var n,i,o,r=W.sandboxed,s=null;if(t=t===!0,F===!1)s=!1;else{try{i=e.frameElement||null}catch(a){o={name:a.name,message:a.message}}if(i&&1===i.nodeType&&"IFRAME"===i.nodeName)try{s=i.hasAttribute("sandbox")}catch(a){s=null}else{try{n=document.domain||null}catch(a){n=null}(null===n||o&&"SecurityError"===o.name&&/(^|[\s\(\[@])sandbox(es|ed|ing|[\s\.,!\)\]@]|$)/.test(o.message.toLowerCase()))&&(s=!0)}}return W.sandboxed=s,r===s||t||qt(g),s},qt=function(t){function e(t){var e=t.match(/[\d]+/g);return e.length=3,e.join(".")}function n(t){return!!t&&(t=t.toLowerCase())&&(/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(t)||"chrome.plugin"===t.slice(-13))}function i(t){t&&(a=!0,t.version&&(h=e(t.version)),!h&&t.description&&(h=e(t.description)),t.filename&&(c=n(t.filename)))}var o,r,s,a=!1,l=!1,c=!1,h="";if(u.plugins&&u.plugins.length)o=u.plugins["Shockwave Flash"],i(o),u.plugins["Shockwave Flash 2.0"]&&(a=!0,h="2.0.0.11");else if(u.mimeTypes&&u.mimeTypes.length)s=u.mimeTypes["application/x-shockwave-flash"],o=s&&s.enabledPlugin,i(o);else if("undefined"!=typeof t){l=!0;try{r=new t("ShockwaveFlash.ShockwaveFlash.7"),a=!0,h=e(r.GetVariable("$version"))}catch(d){try{r=new t("ShockwaveFlash.ShockwaveFlash.6"),a=!0,h="6.0.21"}catch(f){try{r=new t("ShockwaveFlash.ShockwaveFlash"),a=!0,h=e(r.GetVariable("$version"))}catch(p){l=!1}}}}W.disabled=a!==!0,W.outdated=h&&w(h)<w(B),W.version=h||"0.0.0",W.pluginType=c?"pepper":l?"activex":a?"netscape":"unknown"};qt(g),Gt(!0);var Xt=function(){return this instanceof Xt?void("function"==typeof Xt._createClient&&Xt._createClient.apply(this,E(arguments))):new Xt};x(Xt,"version",{value:"2.2.0",writable:!1,configurable:!0,enumerable:!0}),Xt.config=function(){return tt.apply(this,E(arguments))},Xt.state=function(){return et.apply(this,E(arguments))},Xt.isFlashUnusable=function(){return nt.apply(this,E(arguments))},Xt.on=function(){return it.apply(this,E(arguments))},Xt.off=function(){return ot.apply(this,E(arguments))},Xt.handlers=function(){return rt.apply(this,E(arguments))},Xt.emit=function(){return st.apply(this,E(arguments))},Xt.create=function(){return at.apply(this,E(arguments))},Xt.destroy=function(){return lt.apply(this,E(arguments))},Xt.setData=function(){return ut.apply(this,E(arguments))},Xt.clearData=function(){return ct.apply(this,E(arguments))},Xt.getData=function(){return ht.apply(this,E(arguments))},Xt.focus=Xt.activate=function(){return dt.apply(this,E(arguments))},Xt.blur=Xt.deactivate=function(){return ft.apply(this,E(arguments))},Xt.activeElement=function(){return pt.apply(this,E(arguments))};var Kt=0,Jt={},Qt=0,Zt={},te={};D(Z,{autoActivate:!0});var ee=function(t){var e=this;e.id=""+Kt++,Jt[e.id]={instance:e,elements:[],handlers:{}},t&&e.clip(t),Xt.on("*",function(t){return e.emit(t)}),Xt.on("destroy",function(){e.destroy()}),Xt.create()},ne=function(t,e){var n,r,s,a={},l=Jt[this.id],u=l&&l.handlers;if(!l)throw new Error("Attempted to add new listener(s) to a destroyed ZeroClipboard client instance");if("string"==typeof t&&t)s=t.toLowerCase().split(/\s+/);else if("object"==typeof t&&t&&"undefined"==typeof e)for(n in t)_.call(t,n)&&"string"==typeof n&&n&&"function"==typeof t[n]&&this.on(n,t[n]);if(s&&s.length){for(n=0,r=s.length;r>n;n++)t=s[n].replace(/^on/,""),a[t]=!0,u[t]||(u[t]=[]),u[t].push(e);if(a.ready&&W.ready&&this.emit({type:"ready",client:this}),a.error){for(n=0,r=K.length;r>n;n++)if(W[K[n].replace(/^flash-/,"")]){this.emit({type:"error",name:K[n],client:this});break}o!==i&&Xt.version!==o&&this.emit({type:"error",name:"version-mismatch",jsVersion:Xt.version,swfVersion:o})}}return this},ie=function(t,e){var n,i,o,r,s,a=Jt[this.id],l=a&&a.handlers;if(!l)return this;if(0===arguments.length)r=k(l);else if("string"==typeof t&&t)r=t.split(/\s+/);else if("object"==typeof t&&t&&"undefined"==typeof e)for(n in t)_.call(t,n)&&"string"==typeof n&&n&&"function"==typeof t[n]&&this.off(n,t[n]);if(r&&r.length)for(n=0,i=r.length;i>n;n++)if(t=r[n].toLowerCase().replace(/^on/,""),s=l[t],s&&s.length)if(e)for(o=s.indexOf(e);-1!==o;)s.splice(o,1),o=s.indexOf(e,o);else s.length=0;return this},oe=function(t){var e=null,n=Jt[this.id]&&Jt[this.id].handlers;return n&&(e="string"==typeof t&&t?n[t]?n[t].slice(0):[]:R(n)),e},re=function(t){if(ce.call(this,t)){"object"==typeof t&&t&&"string"==typeof t.type&&t.type&&(t=D({},t));var e=D({},gt(t),{client:this});he.call(this,e)}return this},se=function(t){if(!Jt[this.id])throw new Error("Attempted to clip element(s) to a destroyed ZeroClipboard client instance");t=de(t);for(var e=0;e<t.length;e++)if(_.call(t,e)&&t[e]&&1===t[e].nodeType){t[e].zcClippingId?-1===Zt[t[e].zcClippingId].indexOf(this.id)&&Zt[t[e].zcClippingId].push(this.id):(t[e].zcClippingId="zcClippingId_"+Qt++,Zt[t[e].zcClippingId]=[this.id],Z.autoActivate===!0&&fe(t[e]));var n=Jt[this.id]&&Jt[this.id].elements;-1===n.indexOf(t[e])&&n.push(t[e])}return this},ae=function(t){var e=Jt[this.id];if(!e)return this;var n,i=e.elements;t="undefined"==typeof t?i.slice(0):de(t);for(var o=t.length;o--;)if(_.call(t,o)&&t[o]&&1===t[o].nodeType){for(n=0;-1!==(n=i.indexOf(t[o],n));)i.splice(n,1);var r=Zt[t[o].zcClippingId];if(r){for(n=0;-1!==(n=r.indexOf(this.id,n));)r.splice(n,1);0===r.length&&(Z.autoActivate===!0&&pe(t[o]),delete t[o].zcClippingId)}}return this},le=function(){var t=Jt[this.id];return t&&t.elements?t.elements.slice(0):[]},ue=function(){Jt[this.id]&&(this.unclip(),this.off(),delete Jt[this.id])},ce=function(t){if(!t||!t.type)return!1;if(t.client&&t.client!==this)return!1;var e=Jt[this.id],n=e&&e.elements,i=!!n&&n.length>0,o=!t.target||i&&-1!==n.indexOf(t.target),r=t.relatedTarget&&i&&-1!==n.indexOf(t.relatedTarget),s=t.client&&t.client===this;return e&&(o||r||s)?!0:!1},he=function(t){var e=Jt[this.id];if("object"==typeof t&&t&&t.type&&e){var n=wt(t),i=e&&e.handlers["*"]||[],o=e&&e.handlers[t.type]||[],r=i.concat(o);if(r&&r.length){var s,l,u,c,h,d=this;for(s=0,l=r.length;l>s;s++)u=r[s],c=d,"string"==typeof u&&"function"==typeof a[u]&&(u=a[u]),"object"==typeof u&&u&&"function"==typeof u.handleEvent&&(c=u,u=u.handleEvent),"function"==typeof u&&(h=D({},t),bt(u,c,[h],n))}}},de=function(t){return"string"==typeof t&&(t=[]),"number"!=typeof t.length?[t]:t},fe=function(t){if(t&&1===t.nodeType){var e=function(t){(t||(t=a.event))&&("js"!==t._source&&(t.stopImmediatePropagation(),t.preventDefault()),delete t._source)},n=function(n){(n||(n=a.event))&&(e(n),Xt.focus(t))};t.addEventListener("mouseover",n,!1),t.addEventListener("mouseout",e,!1),t.addEventListener("mouseenter",e,!1),t.addEventListener("mouseleave",e,!1),t.addEventListener("mousemove",e,!1),te[t.zcClippingId]={mouseover:n,mouseout:e,mouseenter:e,mouseleave:e,mousemove:e}}},pe=function(t){if(t&&1===t.nodeType){var e=te[t.zcClippingId];if("object"==typeof e&&e){for(var n,i,o=["move","leave","enter","out","over"],r=0,s=o.length;s>r;r++)n="mouse"+o[r],i=e[n],"function"==typeof i&&t.removeEventListener(n,i,!1);delete te[t.zcClippingId]}}};Xt._createClient=function(){ee.apply(this,E(arguments))},Xt.prototype.on=function(){return ne.apply(this,E(arguments))},Xt.prototype.off=function(){return ie.apply(this,E(arguments))},Xt.prototype.handlers=function(){return oe.apply(this,E(arguments))},Xt.prototype.emit=function(){return re.apply(this,E(arguments))},Xt.prototype.clip=function(){return se.apply(this,E(arguments))},Xt.prototype.unclip=function(){return ae.apply(this,E(arguments))},Xt.prototype.elements=function(){return le.apply(this,E(arguments))},Xt.prototype.destroy=function(){return ue.apply(this,E(arguments))},Xt.prototype.setText=function(t){if(!Jt[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Xt.setData("text/plain",t),this},Xt.prototype.setHtml=function(t){if(!Jt[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Xt.setData("text/html",t),this},Xt.prototype.setRichText=function(t){if(!Jt[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Xt.setData("application/rtf",t),this},Xt.prototype.setData=function(){if(!Jt[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Xt.setData.apply(this,E(arguments)),this},Xt.prototype.clearData=function(){if(!Jt[this.id])throw new Error("Attempted to clear pending clipboard data from a destroyed ZeroClipboard client instance");return Xt.clearData.apply(this,E(arguments)),this},Xt.prototype.getData=function(){if(!Jt[this.id])throw new Error("Attempted to get pending clipboard data from a destroyed ZeroClipboard client instance");return Xt.getData.apply(this,E(arguments))},"function"==typeof t&&t.amd?t(function(){return Xt}):"object"==typeof n&&n&&"object"==typeof n.exports&&n.exports?n.exports=Xt:e.ZeroClipboard=Xt}(function(){return this||window}())},{}]},{},[23,47,48,49,50,66,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,67,68,69,70,83,84,85,73,74,75,76,77,78,31,35,32,33,40,34,36,37,38,39])("zeroclipboard")}),/*! X-editable - v1.5.1 
* In-place editing with Twitter Bootstrap, jQuery UI or pure jQuery
* http://github.com/vitalets/x-editable
* Copyright (c) 2013 Vitaliy Potapov; Licensed MIT */
!function(t){"use strict";var e=function(e,n){this.options=t.extend({},t.fn.editableform.defaults,n),this.$div=t(e),this.options.scope||(this.options.scope=this)};e.prototype={constructor:e,initInput:function(){this.input=this.options.input,this.value=this.input.str2value(this.options.value),this.input.prerender()},initTemplate:function(){this.$form=t(t.fn.editableform.template)},initButtons:function(){var e=this.$form.find(".editable-buttons");e.append(t.fn.editableform.buttons),"bottom"===this.options.showbuttons&&e.addClass("editable-buttons-bottom")},render:function(){this.$loading=t(t.fn.editableform.loading),this.$div.empty().append(this.$loading),this.initTemplate(),this.options.showbuttons?this.initButtons():this.$form.find(".editable-buttons").remove(),this.showLoading(),this.isSaving=!1,this.$div.triggerHandler("rendering"),this.initInput(),this.$form.find("div.editable-input").append(this.input.$tpl),this.$div.append(this.$form),t.when(this.input.render()).then(t.proxy(function(){if(this.options.showbuttons||this.input.autosubmit(),this.$form.find(".editable-cancel").click(t.proxy(this.cancel,this)),this.input.error)this.error(this.input.error),this.$form.find(".editable-submit").attr("disabled",!0),this.input.$input.attr("disabled",!0),this.$form.submit(function(t){t.preventDefault()});else{this.error(!1),this.input.$input.removeAttr("disabled"),this.$form.find(".editable-submit").removeAttr("disabled");var e=null===this.value||void 0===this.value||""===this.value?this.options.defaultValue:this.value;this.input.value2input(e),this.$form.submit(t.proxy(this.submit,this))}this.$div.triggerHandler("rendered"),this.showForm(),this.input.postrender&&this.input.postrender()},this))},cancel:function(){this.$div.triggerHandler("cancel")},showLoading:function(){var t,e;this.$form?(t=this.$form.outerWidth(),e=this.$form.outerHeight(),t&&this.$loading.width(t),e&&this.$loading.height(e),this.$form.hide()):(t=this.$loading.parent().width(),t&&this.$loading.width(t)),this.$loading.show()},showForm:function(t){this.$loading.hide(),this.$form.show(),t!==!1&&this.input.activate(),this.$div.triggerHandler("show")},error:function(e){var n,i=this.$form.find(".control-group"),o=this.$form.find(".editable-error-block");if(e===!1)i.removeClass(t.fn.editableform.errorGroupClass),o.removeClass(t.fn.editableform.errorBlockClass).empty().hide();else{if(e){n=(""+e).split("\n");for(var r=0;r<n.length;r++)n[r]=t("<div>").text(n[r]).html();e=n.join("<br>")}i.addClass(t.fn.editableform.errorGroupClass),o.addClass(t.fn.editableform.errorBlockClass).html(e).show()}},submit:function(e){e.stopPropagation(),e.preventDefault();var n=this.input.input2value(),i=this.validate(n);if("object"===t.type(i)&&void 0!==i.newValue){if(n=i.newValue,this.input.value2input(n),"string"==typeof i.msg)return this.error(i.msg),void this.showForm()}else if(i)return this.error(i),void this.showForm();if(!this.options.savenochange&&this.input.value2str(n)==this.input.value2str(this.value))return void this.$div.triggerHandler("nochange");var o=this.input.value2submit(n);this.isSaving=!0,t.when(this.save(o)).done(t.proxy(function(t){this.isSaving=!1;var e="function"==typeof this.options.success?this.options.success.call(this.options.scope,t,n):null;return e===!1?(this.error(!1),void this.showForm(!1)):"string"==typeof e?(this.error(e),void this.showForm()):(e&&"object"==typeof e&&e.hasOwnProperty("newValue")&&(n=e.newValue),this.error(!1),this.value=n,void this.$div.triggerHandler("save",{newValue:n,submitValue:o,response:t}))},this)).fail(t.proxy(function(t){this.isSaving=!1;var e;e="function"==typeof this.options.error?this.options.error.call(this.options.scope,t,n):"string"==typeof t?t:t.responseText||t.statusText||"Unknown error!",this.error(e),this.showForm()},this))},save:function(e){this.options.pk=t.fn.editableutils.tryParseJson(this.options.pk,!0);var n,i="function"==typeof this.options.pk?this.options.pk.call(this.options.scope):this.options.pk,o=!!("function"==typeof this.options.url||this.options.url&&("always"===this.options.send||"auto"===this.options.send&&null!==i&&void 0!==i));return o?(this.showLoading(),n={name:this.options.name||"",value:e,pk:i},"function"==typeof this.options.params?n=this.options.params.call(this.options.scope,n):(this.options.params=t.fn.editableutils.tryParseJson(this.options.params,!0),t.extend(n,this.options.params)),"function"==typeof this.options.url?this.options.url.call(this.options.scope,n):t.ajax(t.extend({url:this.options.url,data:n,type:"POST"},this.options.ajaxOptions))):void 0},validate:function(t){return void 0===t&&(t=this.value),"function"==typeof this.options.validate?this.options.validate.call(this.options.scope,t):void 0},option:function(t,e){t in this.options&&(this.options[t]=e),"value"===t&&this.setValue(e)},setValue:function(t,e){this.value=e?this.input.str2value(t):t,this.$form&&this.$form.is(":visible")&&this.input.value2input(this.value)}},t.fn.editableform=function(n){var i=arguments;return this.each(function(){var o=t(this),r=o.data("editableform"),s="object"==typeof n&&n;r||o.data("editableform",r=new e(this,s)),"string"==typeof n&&r[n].apply(r,Array.prototype.slice.call(i,1))})},t.fn.editableform.Constructor=e,t.fn.editableform.defaults={type:"text",url:null,params:null,name:null,pk:null,value:null,defaultValue:null,send:"auto",validate:null,success:null,error:null,ajaxOptions:null,showbuttons:!0,scope:null,savenochange:!1},t.fn.editableform.template='<form class="form-inline editableform"><div class="control-group"><div><div class="editable-input"></div><div class="editable-buttons"></div></div><div class="editable-error-block"></div></div></form>',t.fn.editableform.loading='<div class="editableform-loading"></div>',t.fn.editableform.buttons='<button type="submit" class="editable-submit">ok</button><button type="button" class="editable-cancel">cancel</button>',t.fn.editableform.errorGroupClass=null,t.fn.editableform.errorBlockClass="editable-error",t.fn.editableform.engine="jquery"}(window.jQuery),function(t){"use strict";t.fn.editableutils={inherit:function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.superclass=e.prototype},setCursorPosition:function(t,e){if(t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){var n=t.createTextRange();n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select()}},tryParseJson:function(t,e){if("string"==typeof t&&t.length&&t.match(/^[\{\[].*[\}\]]$/))if(e)try{t=new Function("return "+t)()}catch(n){}finally{return t}else t=new Function("return "+t)();return t},sliceObj:function(e,n,i){var o,r,s={};if(!t.isArray(n)||!n.length)return s;for(var a=0;a<n.length;a++)o=n[a],e.hasOwnProperty(o)&&(s[o]=e[o]),i!==!0&&(r=o.toLowerCase(),e.hasOwnProperty(r)&&(s[o]=e[r]));return s},getConfigData:function(e){var n={};return t.each(e.data(),function(t,e){("object"!=typeof e||e&&"object"==typeof e&&(e.constructor===Object||e.constructor===Array))&&(n[t]=e)}),n},objectKeys:function(t){if(Object.keys)return Object.keys(t);if(t!==Object(t))throw new TypeError("Object.keys called on a non-object");var e,n=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.push(e);return n},escape:function(e){return t("<div>").text(e).html()},itemsByValue:function(e,n,i){if(!n||null===e)return[];if("function"!=typeof i){var o=i||"value";i=function(t){return t[o]}}var r=t.isArray(e),s=[],a=this;return t.each(n,function(n,o){if(o.children)s=s.concat(a.itemsByValue(e,o.children,i));else if(r)t.grep(e,function(t){return t==(o&&"object"==typeof o?i(o):o)}).length&&s.push(o);else{var l=o&&"object"==typeof o?i(o):o;e==l&&s.push(o)}}),s},createInput:function(e){var n,i,o,r=e.type;return"date"===r&&("inline"===e.mode?t.fn.editabletypes.datefield?r="datefield":t.fn.editabletypes.dateuifield&&(r="dateuifield"):t.fn.editabletypes.date?r="date":t.fn.editabletypes.dateui&&(r="dateui"),"date"!==r||t.fn.editabletypes.date||(r="combodate")),"datetime"===r&&"inline"===e.mode&&(r="datetimefield"),"wysihtml5"!==r||t.fn.editabletypes[r]||(r="textarea"),"function"==typeof t.fn.editabletypes[r]?(n=t.fn.editabletypes[r],i=this.sliceObj(e,this.objectKeys(n.defaults)),o=new n(i)):(t.error("Unknown type: "+r),!1)},supportsTransitions:function(){var t=document.body||document.documentElement,e=t.style,n="transition",i=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof e[n])return!0;n=n.charAt(0).toUpperCase()+n.substr(1);for(var o=0;o<i.length;o++)if("string"==typeof e[i[o]+n])return!0;return!1}}}(window.jQuery),function(t){"use strict";var e=function(t,e){this.init(t,e)},n=function(t,e){this.init(t,e)};e.prototype={containerName:null,containerDataName:null,innerCss:null,containerClass:"editable-container editable-popup",defaults:{},init:function(n,i){this.$element=t(n),this.options=t.extend({},t.fn.editableContainer.defaults,i),this.splitOptions(),this.formOptions.scope=this.$element[0],this.initContainer(),this.delayedHide=!1,this.$element.on("destroyed",t.proxy(function(){this.destroy()},this)),t(document).data("editable-handlers-attached")||(t(document).on("keyup.editable",function(e){27===e.which&&t(".editable-open").editableContainer("hide")}),t(document).on("click.editable",function(n){var i,o=t(n.target),r=[".editable-container",".ui-datepicker-header",".datepicker",".modal-backdrop",".bootstrap-wysihtml5-insert-image-modal",".bootstrap-wysihtml5-insert-link-modal"];if(t.contains(document.documentElement,n.target)&&!o.is(document)){for(i=0;i<r.length;i++)if(o.is(r[i])||o.parents(r[i]).length)return;e.prototype.closeOthers(n.target)}}),t(document).data("editable-handlers-attached",!0))},splitOptions:function(){if(this.containerOptions={},this.formOptions={},!t.fn[this.containerName])throw new Error(this.containerName+" not found. Have you included corresponding js file?");for(var e in this.options)e in this.defaults?this.containerOptions[e]=this.options[e]:this.formOptions[e]=this.options[e]},tip:function(){return this.container()?this.container().$tip:null},container:function(){var t;return this.containerDataName&&(t=this.$element.data(this.containerDataName))?t:t=this.$element.data(this.containerName)},call:function(){this.$element[this.containerName].apply(this.$element,arguments)},initContainer:function(){this.call(this.containerOptions)},renderForm:function(){this.$form.editableform(this.formOptions).on({save:t.proxy(this.save,this),nochange:t.proxy(function(){this.hide("nochange")},this),cancel:t.proxy(function(){this.hide("cancel")},this),show:t.proxy(function(){this.delayedHide?(this.hide(this.delayedHide.reason),this.delayedHide=!1):this.setPosition()},this),rendering:t.proxy(this.setPosition,this),resize:t.proxy(this.setPosition,this),rendered:t.proxy(function(){this.$element.triggerHandler("shown",t(this.options.scope).data("editable"))},this)}).editableform("render")},show:function(e){this.$element.addClass("editable-open"),e!==!1&&this.closeOthers(this.$element[0]),this.innerShow(),this.tip().addClass(this.containerClass),this.$form,this.$form=t("<div>"),this.tip().is(this.innerCss)?this.tip().append(this.$form):this.tip().find(this.innerCss).append(this.$form),this.renderForm()},hide:function(t){if(this.tip()&&this.tip().is(":visible")&&this.$element.hasClass("editable-open")){if(this.$form.data("editableform").isSaving)return void(this.delayedHide={reason:t});this.delayedHide=!1,this.$element.removeClass("editable-open"),this.innerHide(),this.$element.triggerHandler("hidden",t||"manual")}},innerShow:function(){},innerHide:function(){},toggle:function(t){this.container()&&this.tip()&&this.tip().is(":visible")?this.hide():this.show(t)},setPosition:function(){},save:function(t,e){this.$element.triggerHandler("save",e),this.hide("save")},option:function(t,e){this.options[t]=e,t in this.containerOptions?(this.containerOptions[t]=e,this.setContainerOption(t,e)):(this.formOptions[t]=e,this.$form&&this.$form.editableform("option",t,e))},setContainerOption:function(t,e){this.call("option",t,e)},destroy:function(){this.hide(),this.innerDestroy(),this.$element.off("destroyed"),this.$element.removeData("editableContainer")},innerDestroy:function(){},closeOthers:function(e){t(".editable-open").each(function(n,i){if(i!==e&&!t(i).find(e).length){var o=t(i),r=o.data("editableContainer");r&&("cancel"===r.options.onblur?o.data("editableContainer").hide("onblur"):"submit"===r.options.onblur&&o.data("editableContainer").tip().find("form").submit())}})},activate:function(){this.tip&&this.tip().is(":visible")&&this.$form&&this.$form.data("editableform").input.activate()}},t.fn.editableContainer=function(i){var o=arguments;return this.each(function(){var r=t(this),s="editableContainer",a=r.data(s),l="object"==typeof i&&i,u="inline"===l.mode?n:e;a||r.data(s,a=new u(this,l)),"string"==typeof i&&a[i].apply(a,Array.prototype.slice.call(o,1))})},t.fn.editableContainer.Popup=e,t.fn.editableContainer.Inline=n,t.fn.editableContainer.defaults={value:null,placement:"top",autohide:!0,onblur:"cancel",anim:!1,mode:"popup"},jQuery.event.special.destroyed={remove:function(t){t.handler&&t.handler()}}}(window.jQuery),function(t){"use strict";t.extend(t.fn.editableContainer.Inline.prototype,t.fn.editableContainer.Popup.prototype,{containerName:"editableform",innerCss:".editable-inline",containerClass:"editable-container editable-inline",initContainer:function(){this.$tip=t("<span></span>"),this.options.anim||(this.options.anim=0)},splitOptions:function(){this.containerOptions={},this.formOptions=this.options},tip:function(){return this.$tip},innerShow:function(){this.$element.hide(),this.tip().insertAfter(this.$element).show()},innerHide:function(){this.$tip.hide(this.options.anim,t.proxy(function(){this.$element.show(),this.innerDestroy()},this))},innerDestroy:function(){this.tip()&&this.tip().empty().remove()}})}(window.jQuery),function(t){"use strict";var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.editable.defaults,n,t.fn.editableutils.getConfigData(this.$element)),this.options.selector?this.initLive():this.init(),this.options.highlight&&!t.fn.editableutils.supportsTransitions()&&(this.options.highlight=!1)};e.prototype={constructor:e,init:function(){var e,n=!1;if(this.options.name=this.options.name||this.$element.attr("id"),this.options.scope=this.$element[0],this.input=t.fn.editableutils.createInput(this.options),this.input){switch(void 0===this.options.value||null===this.options.value?(this.value=this.input.html2value(t.trim(this.$element.html())),n=!0):(this.options.value=t.fn.editableutils.tryParseJson(this.options.value,!0),this.value="string"==typeof this.options.value?this.input.str2value(this.options.value):this.options.value),this.$element.addClass("editable"),"textarea"===this.input.type&&this.$element.addClass("editable-pre-wrapped"),"manual"!==this.options.toggle?(this.$element.addClass("editable-click"),this.$element.on(this.options.toggle+".editable",t.proxy(function(t){if(this.options.disabled||t.preventDefault(),"mouseenter"===this.options.toggle)this.show();else{var e="click"!==this.options.toggle;this.toggle(e)}},this))):this.$element.attr("tabindex",-1),"function"==typeof this.options.display&&(this.options.autotext="always"),this.options.autotext){case"always":e=!0;break;case"auto":e=!t.trim(this.$element.text()).length&&null!==this.value&&void 0!==this.value&&!n;break;default:e=!1}t.when(e?this.render():!0).then(t.proxy(function(){this.options.disabled?this.disable():this.enable(),this.$element.triggerHandler("init",this)},this))}},initLive:function(){var e=this.options.selector;this.options.selector=!1,this.options.autotext="never",this.$element.on(this.options.toggle+".editable",e,t.proxy(function(e){var n=t(e.target);n.data("editable")||(n.hasClass(this.options.emptyclass)&&n.empty(),n.editable(this.options).trigger(e))},this))},render:function(t){return this.options.display!==!1?this.input.value2htmlFinal?this.input.value2html(this.value,this.$element[0],this.options.display,t):"function"==typeof this.options.display?this.options.display.call(this.$element[0],this.value,t):this.input.value2html(this.value,this.$element[0]):void 0},enable:function(){this.options.disabled=!1,this.$element.removeClass("editable-disabled"),this.handleEmpty(this.isEmpty),"manual"!==this.options.toggle&&"-1"===this.$element.attr("tabindex")&&this.$element.removeAttr("tabindex")},disable:function(){this.options.disabled=!0,this.hide(),this.$element.addClass("editable-disabled"),this.handleEmpty(this.isEmpty),this.$element.attr("tabindex",-1)},toggleDisabled:function(){this.options.disabled?this.enable():this.disable()},option:function(e,n){return e&&"object"==typeof e?void t.each(e,t.proxy(function(e,n){this.option(t.trim(e),n)},this)):(this.options[e]=n,"disabled"===e?n?this.disable():this.enable():("value"===e&&this.setValue(n),this.container&&this.container.option(e,n),void(this.input.option&&this.input.option(e,n))))},handleEmpty:function(e){this.options.display!==!1&&(this.isEmpty=void 0!==e?e:"function"==typeof this.input.isEmpty?this.input.isEmpty(this.$element):""===t.trim(this.$element.html()),this.options.disabled?this.isEmpty&&(this.$element.empty(),this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass)):this.isEmpty?(this.$element.html(this.options.emptytext),this.options.emptyclass&&this.$element.addClass(this.options.emptyclass)):this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass))},show:function(e){if(!this.options.disabled){if(this.container){if(this.container.tip().is(":visible"))return}else{var n=t.extend({},this.options,{value:this.value,input:this.input});this.$element.editableContainer(n),this.$element.on("save.internal",t.proxy(this.save,this)),this.container=this.$element.data("editableContainer")}this.container.show(e)}},hide:function(){this.container&&this.container.hide()},toggle:function(t){this.container&&this.container.tip().is(":visible")?this.hide():this.show(t)},save:function(t,e){if(this.options.unsavedclass){var n=!1;n=n||"function"==typeof this.options.url,n=n||this.options.display===!1,n=n||void 0!==e.response,n=n||this.options.savenochange&&this.input.value2str(this.value)!==this.input.value2str(e.newValue),n?this.$element.removeClass(this.options.unsavedclass):this.$element.addClass(this.options.unsavedclass)}if(this.options.highlight){var i=this.$element,o=i.css("background-color");i.css("background-color",this.options.highlight),setTimeout(function(){"transparent"===o&&(o=""),i.css("background-color",o),i.addClass("editable-bg-transition"),setTimeout(function(){i.removeClass("editable-bg-transition")},1700)},10)}this.setValue(e.newValue,!1,e.response)},validate:function(){return"function"==typeof this.options.validate?this.options.validate.call(this,this.value):void 0},setValue:function(e,n,i){this.value=n?this.input.str2value(e):e,this.container&&this.container.option("value",this.value),t.when(this.render(i)).then(t.proxy(function(){this.handleEmpty()},this))},activate:function(){this.container&&this.container.activate()},destroy:function(){this.disable(),this.container&&this.container.destroy(),this.input.destroy(),"manual"!==this.options.toggle&&(this.$element.removeClass("editable-click"),this.$element.off(this.options.toggle+".editable")),this.$element.off("save.internal"),this.$element.removeClass("editable editable-open editable-disabled"),this.$element.removeData("editable")}},t.fn.editable=function(n){var i={},o=arguments,r="editable";switch(n){case"validate":return this.each(function(){var e,n=t(this),o=n.data(r);o&&(e=o.validate())&&(i[o.options.name]=e)}),i;case"getValue":return 2===arguments.length&&arguments[1]===!0?i=this.eq(0).data(r).value:this.each(function(){var e=t(this),n=e.data(r);n&&void 0!==n.value&&null!==n.value&&(i[n.options.name]=n.input.value2submit(n.value))}),i;case"submit":var s=arguments[1]||{},a=this,l=this.editable("validate");if(t.isEmptyObject(l)){var u={};if(1===a.length){var c=a.data("editable"),h={name:c.options.name||"",value:c.input.value2submit(c.value),pk:"function"==typeof c.options.pk?c.options.pk.call(c.options.scope):c.options.pk};"function"==typeof c.options.params?h=c.options.params.call(c.options.scope,h):(c.options.params=t.fn.editableutils.tryParseJson(c.options.params,!0),t.extend(h,c.options.params)),u={url:c.options.url,data:h,type:"POST"},s.success=s.success||c.options.success,s.error=s.error||c.options.error}else{var d=this.editable("getValue");u={url:s.url,data:d,type:"POST"}}u.success="function"==typeof s.success?function(t){s.success.call(a,t,s)}:t.noop,u.error="function"==typeof s.error?function(){s.error.apply(a,arguments)}:t.noop,s.ajaxOptions&&t.extend(u,s.ajaxOptions),s.data&&t.extend(u.data,s.data),t.ajax(u)}else"function"==typeof s.error&&s.error.call(a,l);return this}return this.each(function(){var i=t(this),s=i.data(r),a="object"==typeof n&&n;return a&&a.selector?void(s=new e(this,a)):(s||i.data(r,s=new e(this,a)),void("string"==typeof n&&s[n].apply(s,Array.prototype.slice.call(o,1))))})},t.fn.editable.defaults={type:"text",disabled:!1,toggle:"click",emptytext:"Empty",autotext:"auto",value:null,display:null,emptyclass:"editable-empty",unsavedclass:"editable-unsaved",selector:null,highlight:"#FFFF80"}}(window.jQuery),function(t){"use strict";t.fn.editabletypes={};var e=function(){};e.prototype={init:function(e,n,i){this.type=e,this.options=t.extend({},i,n)},prerender:function(){this.$tpl=t(this.options.tpl),this.$input=this.$tpl,this.$clear=null,this.error=null},render:function(){},value2html:function(e,n){t(n)[this.options.escape?"text":"html"](t.trim(e))},html2value:function(e){return t("<div>").html(e).text()},value2str:function(t){return t},str2value:function(t){return t},value2submit:function(t){return t},value2input:function(t){this.$input.val(t)},input2value:function(){return this.$input.val()},activate:function(){this.$input.is(":visible")&&this.$input.focus()},clear:function(){this.$input.val(null)},escape:function(e){return t("<div>").text(e).html()},autosubmit:function(){},destroy:function(){},setClass:function(){this.options.inputclass&&this.$input.addClass(this.options.inputclass)},setAttr:function(t){void 0!==this.options[t]&&null!==this.options[t]&&this.$input.attr(t,this.options[t])},option:function(t,e){this.options[t]=e}},e.defaults={tpl:"",inputclass:null,escape:!0,scope:null,showbuttons:!0},t.extend(t.fn.editabletypes,{abstractinput:e})}(window.jQuery),function(t){"use strict";var e=function(){};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){var e=t.Deferred();return this.error=null,this.onSourceReady(function(){this.renderList(),e.resolve()},function(){this.error=this.options.sourceError,e.resolve()}),e.promise()},html2value:function(){return null},value2html:function(e,n,i,o){var r=t.Deferred(),s=function(){"function"==typeof i?i.call(n,e,this.sourceData,o):this.value2htmlFinal(e,n),r.resolve()};return null===e?s.call(this):this.onSourceReady(s,function(){r.resolve()}),r.promise()},onSourceReady:function(e,n){var i;if(t.isFunction(this.options.source)?(i=this.options.source.call(this.options.scope),this.sourceData=null):i=this.options.source,this.options.sourceCache&&t.isArray(this.sourceData))return void e.call(this);try{i=t.fn.editableutils.tryParseJson(i,!1)}catch(o){return void n.call(this)}if("string"==typeof i){if(this.options.sourceCache){var r,s=i;if(t(document).data(s)||t(document).data(s,{}),r=t(document).data(s),r.loading===!1&&r.sourceData)return this.sourceData=r.sourceData,this.doPrepend(),void e.call(this);if(r.loading===!0)return r.callbacks.push(t.proxy(function(){this.sourceData=r.sourceData,this.doPrepend(),e.call(this)},this)),void r.err_callbacks.push(t.proxy(n,this));r.loading=!0,r.callbacks=[],r.err_callbacks=[]}var a=t.extend({url:i,type:"get",cache:!1,dataType:"json",success:t.proxy(function(i){r&&(r.loading=!1),this.sourceData=this.makeArray(i),t.isArray(this.sourceData)?(r&&(r.sourceData=this.sourceData,t.each(r.callbacks,function(){this.call()})),this.doPrepend(),e.call(this)):(n.call(this),r&&t.each(r.err_callbacks,function(){this.call()}))},this),error:t.proxy(function(){n.call(this),r&&(r.loading=!1,t.each(r.err_callbacks,function(){this.call()}))},this)},this.options.sourceOptions);t.ajax(a)}else this.sourceData=this.makeArray(i),t.isArray(this.sourceData)?(this.doPrepend(),e.call(this)):n.call(this)},doPrepend:function(){null!==this.options.prepend&&void 0!==this.options.prepend&&(t.isArray(this.prependData)||(t.isFunction(this.options.prepend)&&(this.options.prepend=this.options.prepend.call(this.options.scope)),this.options.prepend=t.fn.editableutils.tryParseJson(this.options.prepend,!0),"string"==typeof this.options.prepend&&(this.options.prepend={"":this.options.prepend}),this.prependData=this.makeArray(this.options.prepend)),t.isArray(this.prependData)&&t.isArray(this.sourceData)&&(this.sourceData=this.prependData.concat(this.sourceData)))},renderList:function(){},value2htmlFinal:function(){},makeArray:function(e){var n,i,o,r,s=[];if(!e||"string"==typeof e)return null;if(t.isArray(e)){r=function(t,e){return i={value:t,text:e},n++>=2?!1:void 0};for(var a=0;a<e.length;a++)o=e[a],"object"==typeof o?(n=0,t.each(o,r),1===n?s.push(i):n>1&&(o.children&&(o.children=this.makeArray(o.children)),s.push(o))):s.push({value:o,text:o})}else t.each(e,function(t,e){s.push({value:t,text:e})});return s},option:function(t,e){this.options[t]=e,"source"===t&&(this.sourceData=null),"prepend"===t&&(this.prependData=null)}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{source:null,prepend:!1,sourceError:"Error when loading list",sourceCache:!0,sourceOptions:null}),t.fn.editabletypes.list=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("text",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.renderClear(),this.setClass(),this.setAttr("placeholder")},activate:function(){this.$input.is(":visible")&&(this.$input.focus(),t.fn.editableutils.setCursorPosition(this.$input.get(0),this.$input.val().length),this.toggleClear&&this.toggleClear())},renderClear:function(){this.options.clear&&(this.$clear=t('<span class="editable-clear-x"></span>'),this.$input.after(this.$clear).css("padding-right",24).keyup(t.proxy(function(e){if(!~t.inArray(e.keyCode,[40,38,9,13,27])){clearTimeout(this.t);var n=this;this.t=setTimeout(function(){n.toggleClear(e)},100)}},this)).parent().css("position","relative"),this.$clear.click(t.proxy(this.clear,this)))},postrender:function(){},toggleClear:function(){if(this.$clear){var t=this.$input.val().length,e=this.$clear.is(":visible");t&&!e&&this.$clear.show(),!t&&e&&this.$clear.hide()}},clear:function(){this.$clear.hide(),this.$input.val("").focus()}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',placeholder:null,clear:!0}),t.fn.editabletypes.text=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("textarea",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.setClass(),this.setAttr("placeholder"),this.setAttr("rows"),this.$input.keydown(function(e){e.ctrlKey&&13===e.which&&t(this).closest("form").submit()})},activate:function(){t.fn.editabletypes.text.prototype.activate.call(this)}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:"<textarea></textarea>",inputclass:"input-large",placeholder:null,rows:7}),t.fn.editabletypes.textarea=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("select",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.list),t.extend(e.prototype,{renderList:function(){this.$input.empty();var e=function(n,i){var o;if(t.isArray(i))for(var r=0;r<i.length;r++)o={},i[r].children?(o.label=i[r].text,n.append(e(t("<optgroup>",o),i[r].children))):(o.value=i[r].value,i[r].disabled&&(o.disabled=!0),n.append(t("<option>",o).text(i[r].text)));return n};e(this.$input,this.sourceData),this.setClass(),this.$input.on("keydown.editable",function(e){13===e.which&&t(this).closest("form").submit()})},value2htmlFinal:function(e,n){var i="",o=t.fn.editableutils.itemsByValue(e,this.sourceData);o.length&&(i=o[0].text),t.fn.editabletypes.abstractinput.prototype.value2html.call(this,i,n)},autosubmit:function(){this.$input.off("keydown.editable").on("change.editable",function(){t(this).closest("form").submit()})}}),e.defaults=t.extend({},t.fn.editabletypes.list.defaults,{tpl:"<select></select>"}),t.fn.editabletypes.select=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("checklist",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.list),t.extend(e.prototype,{renderList:function(){var e;if(this.$tpl.empty(),t.isArray(this.sourceData)){for(var n=0;n<this.sourceData.length;n++)e=t("<label>").append(t("<input>",{type:"checkbox",value:this.sourceData[n].value})).append(t("<span>").text(" "+this.sourceData[n].text)),t("<div>").append(e).appendTo(this.$tpl);this.$input=this.$tpl.find('input[type="checkbox"]'),this.setClass()}},value2str:function(e){return t.isArray(e)?e.sort().join(t.trim(this.options.separator)):""},str2value:function(e){var n,i=null;return"string"==typeof e&&e.length?(n=new RegExp("\\s*"+t.trim(this.options.separator)+"\\s*"),i=e.split(n)):i=t.isArray(e)?e:[e],i},value2input:function(e){this.$input.prop("checked",!1),t.isArray(e)&&e.length&&this.$input.each(function(n,i){var o=t(i);t.each(e,function(t,e){o.val()==e&&o.prop("checked",!0)})})},input2value:function(){var e=[];return this.$input.filter(":checked").each(function(n,i){e.push(t(i).val())}),e},value2htmlFinal:function(e,n){var i=[],o=t.fn.editableutils.itemsByValue(e,this.sourceData),r=this.options.escape;o.length?(t.each(o,function(e,n){var o=r?t.fn.editableutils.escape(n.text):n.text;i.push(o)}),t(n).html(i.join("<br>"))):t(n).empty()},activate:function(){this.$input.first().focus()},autosubmit:function(){this.$input.on("keydown",function(e){13===e.which&&t(this).closest("form").submit()})}}),e.defaults=t.extend({},t.fn.editabletypes.list.defaults,{tpl:'<div class="editable-checklist"></div>',inputclass:null,separator:","}),t.fn.editabletypes.checklist=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("password",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),t.extend(e.prototype,{value2html:function(e,n){e?t(n).text("[hidden]"):t(n).empty()},html2value:function(){return null}}),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="password">'}),t.fn.editabletypes.password=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("email",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="email">'}),t.fn.editabletypes.email=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("url",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="url">'}),t.fn.editabletypes.url=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("tel",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="tel">'}),t.fn.editabletypes.tel=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("number",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),t.extend(e.prototype,{render:function(){e.superclass.render.call(this),this.setAttr("min"),this.setAttr("max"),this.setAttr("step")},postrender:function(){this.$clear&&this.$clear.css({right:24})}}),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="number">',inputclass:"input-mini",min:null,max:null,step:null}),t.fn.editabletypes.number=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("range",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.number),t.extend(e.prototype,{render:function(){this.$input=this.$tpl.filter("input"),this.setClass(),this.setAttr("min"),this.setAttr("max"),this.setAttr("step"),this.$input.on("input",function(){t(this).siblings("output").text(t(this).val())})},activate:function(){this.$input.focus()}}),e.defaults=t.extend({},t.fn.editabletypes.number.defaults,{tpl:'<input type="range"><output style="width: 30px; display: inline-block"></output>',inputclass:"input-medium"}),t.fn.editabletypes.range=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("time",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{
render:function(){this.setClass()}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="time">'}),t.fn.editabletypes.time=e}(window.jQuery),function(t){"use strict";var e=function(n){if(this.init("select2",n,e.defaults),n.select2=n.select2||{},this.sourceData=null,n.placeholder&&(n.select2.placeholder=n.placeholder),!n.select2.tags&&n.source){var i=n.source;t.isFunction(n.source)&&(i=n.source.call(n.scope)),"string"==typeof i?(n.select2.ajax=n.select2.ajax||{},n.select2.ajax.data||(n.select2.ajax.data=function(t){return{query:t}}),n.select2.ajax.results||(n.select2.ajax.results=function(t){return{results:t}}),n.select2.ajax.url=i):(this.sourceData=this.convertSource(i),n.select2.data=this.sourceData)}if(this.options.select2=t.extend({},e.defaults.select2,n.select2),this.isMultiple=this.options.select2.tags||this.options.select2.multiple,this.isRemote="ajax"in this.options.select2,this.idFunc=this.options.select2.id,"function"!=typeof this.idFunc){var o=this.idFunc||"id";this.idFunc=function(t){return t[o]}}this.formatSelection=this.options.select2.formatSelection,"function"!=typeof this.formatSelection&&(this.formatSelection=function(t){return t.text})};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.setClass(),this.isRemote&&this.$input.on("select2-loaded",t.proxy(function(t){this.sourceData=t.items.results},this)),this.isMultiple&&this.$input.on("change",function(){t(this).closest("form").parent().triggerHandler("resize")})},value2html:function(n,i){var o,r="",s=this;this.options.select2.tags?o=n:this.sourceData&&(o=t.fn.editableutils.itemsByValue(n,this.sourceData,this.idFunc)),t.isArray(o)?(r=[],t.each(o,function(t,e){r.push(e&&"object"==typeof e?s.formatSelection(e):e)})):o&&(r=s.formatSelection(o)),r=t.isArray(r)?r.join(this.options.viewseparator):r,e.superclass.value2html.call(this,r,i)},html2value:function(t){return this.options.select2.tags?this.str2value(t,this.options.viewseparator):null},value2input:function(e){if(t.isArray(e)&&(e=e.join(this.getSeparator())),this.$input.data("select2")?this.$input.val(e).trigger("change",!0):(this.$input.val(e),this.$input.select2(this.options.select2)),this.isRemote&&!this.isMultiple&&!this.options.select2.initSelection){var n=this.options.select2.id,i=this.options.select2.formatSelection;if(!n&&!i){var o=t(this.options.scope);if(!o.data("editable").isEmpty){var r={id:e,text:o.text()};this.$input.select2("data",r)}}}},input2value:function(){return this.$input.select2("val")},str2value:function(e,n){if("string"!=typeof e||!this.isMultiple)return e;n=n||this.getSeparator();var i,o,r;if(null===e||e.length<1)return null;for(i=e.split(n),o=0,r=i.length;r>o;o+=1)i[o]=t.trim(i[o]);return i},autosubmit:function(){this.$input.on("change",function(e,n){n||t(this).closest("form").submit()})},getSeparator:function(){return this.options.select2.separator||t.fn.select2.defaults.separator},convertSource:function(e){if(t.isArray(e)&&e.length&&void 0!==e[0].value)for(var n=0;n<e.length;n++)void 0!==e[n].value&&(e[n].id=e[n].value,delete e[n].value);return e},destroy:function(){this.$input.data("select2")&&this.$input.select2("destroy")}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="hidden">',select2:null,placeholder:null,source:null,viewseparator:", "}),t.fn.editabletypes.select2=e}(window.jQuery),function(t){var e=function(e,n){return this.$element=t(e),this.$element.is("input")?(this.options=t.extend({},t.fn.combodate.defaults,n,this.$element.data()),void this.init()):void t.error("Combodate should be applied to INPUT element")};e.prototype={constructor:e,init:function(){this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]},this.$widget=t('<span class="combodate"></span>').html(this.getTemplate()),this.initCombos(),this.$widget.on("change","select",t.proxy(function(e){this.$element.val(this.getValue()).change(),this.options.smartDays&&(t(e.target).is(".month")||t(e.target).is(".year"))&&this.fillCombo("day")},this)),this.$widget.find("select").css("width","auto"),this.$element.hide().after(this.$widget),this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var e=this.options.template;return t.each(this.map,function(t,n){n=n[0];var i=new RegExp(n+"+"),o=n.length>1?n.substring(1,2):n;e=e.replace(i,"{"+o+"}")}),e=e.replace(/ /g,"&nbsp;"),t.each(this.map,function(t,n){n=n[0];var i=n.length>1?n.substring(1,2):n;e=e.replace("{"+i+"}",'<select class="'+t+'"></select>')}),e},initCombos:function(){for(var t in this.map){var e=this.$widget.find("."+t);this["$"+t]=e.length?e:null,this.fillCombo(t)}},fillCombo:function(t){var e=this["$"+t];if(e){var n="fill"+t.charAt(0).toUpperCase()+t.slice(1),i=this[n](),o=e.val();e.empty();for(var r=0;r<i.length;r++)e.append('<option value="'+i[r][0]+'">'+i[r][1]+"</option>");e.val(o)}},fillCommon:function(t){var e,n=[];if("name"===this.options.firstItem){e=moment.relativeTime||moment.langData()._relativeTime;var i="function"==typeof e[t]?e[t](1,!0,t,!1):e[t];i=i.split(" ").reverse()[0],n.push(["",i])}else"empty"===this.options.firstItem&&n.push(["",""]);return n},fillDay:function(){var t,e,n=this.fillCommon("d"),i=-1!==this.options.template.indexOf("DD"),o=31;if(this.options.smartDays&&this.$month&&this.$year){var r=parseInt(this.$month.val(),10),s=parseInt(this.$year.val(),10);isNaN(r)||isNaN(s)||(o=moment([s,r]).daysInMonth())}for(e=1;o>=e;e++)t=i?this.leadZero(e):e,n.push([e,t]);return n},fillMonth:function(){var t,e,n=this.fillCommon("M"),i=-1!==this.options.template.indexOf("MMMM"),o=-1!==this.options.template.indexOf("MMM"),r=-1!==this.options.template.indexOf("MM");for(e=0;11>=e;e++)t=i?moment().date(1).month(e).format("MMMM"):o?moment().date(1).month(e).format("MMM"):r?this.leadZero(e+1):e+1,n.push([e,t]);return n},fillYear:function(){var t,e,n=[],i=-1!==this.options.template.indexOf("YYYY");for(e=this.options.maxYear;e>=this.options.minYear;e--)t=i?e:(e+"").substring(2),n[this.options.yearDescending?"push":"unshift"]([e,t]);return n=this.fillCommon("y").concat(n)},fillHour:function(){var t,e,n=this.fillCommon("h"),i=-1!==this.options.template.indexOf("h"),o=(-1!==this.options.template.indexOf("H"),-1!==this.options.template.toLowerCase().indexOf("hh")),r=i?1:0,s=i?12:23;for(e=r;s>=e;e++)t=o?this.leadZero(e):e,n.push([e,t]);return n},fillMinute:function(){var t,e,n=this.fillCommon("m"),i=-1!==this.options.template.indexOf("mm");for(e=0;59>=e;e+=this.options.minuteStep)t=i?this.leadZero(e):e,n.push([e,t]);return n},fillSecond:function(){var t,e,n=this.fillCommon("s"),i=-1!==this.options.template.indexOf("ss");for(e=0;59>=e;e+=this.options.secondStep)t=i?this.leadZero(e):e,n.push([e,t]);return n},fillAmpm:function(){var t=-1!==this.options.template.indexOf("a"),e=(-1!==this.options.template.indexOf("A"),[["am",t?"am":"AM"],["pm",t?"pm":"PM"]]);return e},getValue:function(e){var n,i={},o=this,r=!1;return t.each(this.map,function(t){if("ampm"!==t){var e="day"===t?1:0;return i[t]=o["$"+t]?parseInt(o["$"+t].val(),10):e,isNaN(i[t])?(r=!0,!1):void 0}}),r?"":(this.$ampm&&(i.hour=12===i.hour?"am"===this.$ampm.val()?0:12:"am"===this.$ampm.val()?i.hour:i.hour+12),n=moment([i.year,i.month,i.day,i.hour,i.minute,i.second]),this.highlight(n),e=void 0===e?this.options.format:e,null===e?n.isValid()?n:null:n.isValid()?n.format(e):"")},setValue:function(e){function n(e,n){var i={};return e.children("option").each(function(e,o){var r,s=t(o).attr("value");""!==s&&(r=Math.abs(s-n),("undefined"==typeof i.distance||r<i.distance)&&(i={value:s,distance:r}))}),i.value}if(e){var i="string"==typeof e?moment(e,this.options.format):moment(e),o=this,r={};i.isValid()&&(t.each(this.map,function(t,e){"ampm"!==t&&(r[t]=i[e[1]]())}),this.$ampm&&(r.hour>=12?(r.ampm="pm",r.hour>12&&(r.hour-=12)):(r.ampm="am",0===r.hour&&(r.hour=12))),t.each(r,function(t,e){o["$"+t]&&("minute"===t&&o.options.minuteStep>1&&o.options.roundTime&&(e=n(o["$"+t],e)),"second"===t&&o.options.secondStep>1&&o.options.roundTime&&(e=n(o["$"+t],e)),o["$"+t].val(e))}),this.options.smartDays&&this.fillCombo("day"),this.$element.val(i.format(this.options.format)).change())}},highlight:function(t){t.isValid()?this.options.errorClass?this.$widget.removeClass(this.options.errorClass):this.$widget.find("select").css("border-color",this.borderColor):this.options.errorClass?this.$widget.addClass(this.options.errorClass):(this.borderColor||(this.borderColor=this.$widget.find("select").css("border-color")),this.$widget.find("select").css("border-color","red"))},leadZero:function(t){return 9>=t?"0"+t:t},destroy:function(){this.$widget.remove(),this.$element.removeData("combodate").show()}},t.fn.combodate=function(n){var i,o=Array.apply(null,arguments);return o.shift(),"getValue"===n&&this.length&&(i=this.eq(0).data("combodate"))?i.getValue.apply(i,o):this.each(function(){var i=t(this),r=i.data("combodate"),s="object"==typeof n&&n;r||i.data("combodate",r=new e(this,s)),"string"==typeof n&&"function"==typeof r[n]&&r[n].apply(r,o)})},t.fn.combodate.defaults={format:"DD-MM-YYYY HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:2015,yearDescending:!0,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,roundTime:!0,smartDays:!1}}(window.jQuery),function(t){"use strict";var e=function(n){this.init("combodate",n,e.defaults),this.options.viewformat||(this.options.viewformat=this.options.format),n.combodate=t.fn.editableutils.tryParseJson(n.combodate,!0),this.options.combodate=t.extend({},e.defaults.combodate,n.combodate,{format:this.options.format,template:this.options.template})};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.$input.combodate(this.options.combodate),"bs3"===t.fn.editableform.engine&&this.$input.siblings().find("select").addClass("form-control"),this.options.inputclass&&this.$input.siblings().find("select").addClass(this.options.inputclass)},value2html:function(t,n){var i=t?t.format(this.options.viewformat):"";e.superclass.value2html.call(this,i,n)},html2value:function(t){return t?moment(t,this.options.viewformat):null},value2str:function(t){return t?t.format(this.options.format):""},str2value:function(t){return t?moment(t,this.options.format):null},value2submit:function(t){return this.value2str(t)},value2input:function(t){this.$input.combodate("setValue",t)},input2value:function(){return this.$input.combodate("getValue",null)},activate:function(){this.$input.siblings(".combodate").find("select").eq(0).focus()},autosubmit:function(){}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',inputclass:null,format:"YYYY-MM-DD",viewformat:null,template:"D / MMM / YYYY",combodate:null}),t.fn.editabletypes.combodate=e}(window.jQuery),function(t){"use strict";var e=t.fn.editableform.Constructor.prototype.initInput;t.extend(t.fn.editableform.Constructor.prototype,{initTemplate:function(){this.$form=t(t.fn.editableform.template),this.$form.find(".control-group").addClass("form-group"),this.$form.find(".editable-error-block").addClass("help-block")},initInput:function(){e.apply(this);var n=null===this.input.options.inputclass||this.input.options.inputclass===!1,i="input-sm",o="text,select,textarea,password,email,url,tel,number,range,time,typeaheadjs".split(",");~t.inArray(this.input.type,o)&&(this.input.$input.addClass("form-control"),n&&(this.input.options.inputclass=i,this.input.$input.addClass(i)));for(var r=this.$form.find(".editable-buttons"),s=n?[i]:this.input.options.inputclass.split(" "),a=0;a<s.length;a++)"input-lg"===s[a].toLowerCase()&&r.find("button").removeClass("btn-sm").addClass("btn-lg")}}),t.fn.editableform.buttons='<button type="submit" class="btn btn-primary btn-sm editable-submit"><i class="glyphicon glyphicon-ok"></i></button><button type="button" class="btn btn-default btn-sm editable-cancel"><i class="glyphicon glyphicon-remove"></i></button>',t.fn.editableform.errorGroupClass="has-error",t.fn.editableform.errorBlockClass=null,t.fn.editableform.engine="bs3"}(window.jQuery),function(t){"use strict";t.extend(t.fn.editableContainer.Popup.prototype,{containerName:"popover",containerDataName:"bs.popover",innerCss:".popover-content",defaults:t.fn.popover.Constructor.DEFAULTS,initContainer:function(){t.extend(this.containerOptions,{trigger:"manual",selector:!1,content:" ",template:this.defaults.template});var e;this.$element.data("template")&&(e=this.$element.data("template"),this.$element.removeData("template")),this.call(this.containerOptions),e&&this.$element.data("template",e)},innerShow:function(){this.call("show")},innerHide:function(){this.call("hide")},innerDestroy:function(){this.call("destroy")},setContainerOption:function(t,e){this.container().options[t]=e},setPosition:function(){!function(){var t=this.tip(),e="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,n=/\s?auto?\s?/i,i=n.test(e);i&&(e=e.replace(n,"")||"top");var o=this.getPosition(),r=t[0].offsetWidth,s=t[0].offsetHeight;if(i){var a=this.$element.parent(),l=e,u=document.documentElement.scrollTop||document.body.scrollTop,c="body"==this.options.container?window.innerWidth:a.outerWidth(),h="body"==this.options.container?window.innerHeight:a.outerHeight(),d="body"==this.options.container?0:a.offset().left;e="bottom"==e&&o.top+o.height+s-u>h?"top":"top"==e&&o.top-u-s<0?"bottom":"right"==e&&o.right+r>c?"left":"left"==e&&o.left-r<d?"right":e,t.removeClass(l).addClass(e)}var f=this.getCalculatedOffset(e,o,r,s);this.applyPlacement(f,e)}.call(this.container())}})}(window.jQuery),function(t){function e(){return new Date(Date.UTC.apply(Date,arguments))}function n(e,n){var i,o=t(e).data(),r={},s=new RegExp("^"+n.toLowerCase()+"([A-Z])"),n=new RegExp("^"+n.toLowerCase());for(var a in o)n.test(a)&&(i=a.replace(s,function(t,e){return e.toLowerCase()}),r[i]=o[a]);return r}function i(e){var n={};if(c[e]||(e=e.split("-")[0],c[e])){var i=c[e];return t.each(u,function(t,e){e in i&&(n[e]=i[e])}),n}}var o=function(e,n){this._process_options(n),this.element=t(e),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=t(h.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&(this.picker.addClass("datepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this.o.startDate),this.setEndDate(this.o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};o.prototype={constructor:o,_process_options:function(e){this._o=t.extend({},this._o,e);var n=this.o=t.extend({},this._o),i=n.language;switch(c[i]||(i=i.split("-")[0],c[i]||(i=l.language)),n.language=i,n.startView){case 2:case"decade":n.startView=2;break;case 1:case"year":n.startView=1;break;default:n.startView=0}switch(n.minViewMode){case 1:case"months":n.minViewMode=1;break;case 2:case"years":n.minViewMode=2;break;default:n.minViewMode=0}n.startView=Math.max(n.startView,n.minViewMode),n.weekStart%=7,n.weekEnd=(n.weekStart+6)%7;var o=h.parseFormat(n.format);n.startDate!==-1/0&&(n.startDate=h.parseDate(n.startDate,o,n.language)),1/0!==n.endDate&&(n.endDate=h.parseDate(n.endDate,o,n.language)),n.daysOfWeekDisabled=n.daysOfWeekDisabled||[],t.isArray(n.daysOfWeekDisabled)||(n.daysOfWeekDisabled=n.daysOfWeekDisabled.split(/[,\s]*/)),n.daysOfWeekDisabled=t.map(n.daysOfWeekDisabled,function(t){return parseInt(t,10)})},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var e,n,i=0;i<t.length;i++)e=t[i][0],n=t[i][1],e.on(n)},_unapplyEvents:function(t){for(var e,n,i=0;i<t.length;i++)e=t[i][0],n=t[i][1],e.off(n)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:t.proxy(this.show,this),keyup:t.proxy(this.update,this),keydown:t.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:t.proxy(this.show,this),keyup:t.proxy(this.update,this),keydown:t.proxy(this.keydown,this)}],[this.component,{click:t.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]],this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{mousedown:t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).size()||this.picker.is(t.target)||this.picker.find(t.target).size()||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,n){var i=n||this.date,o=new Date(i.getTime()+6e4*i.getTimezoneOffset());this.element.trigger({type:e,date:o,format:t.proxy(function(t){var e=t||this.o.format;return h.formatDate(i,e,this.o.language)},this)})},show:function(t){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.place(),this._attachSecondaryEvents(),t&&t.preventDefault(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},getDate:function(){var t=this.getUTCDate();return new Date(t.getTime()+6e4*t.getTimezoneOffset())},getUTCDate:function(){return this.date},setDate:function(t){this.setUTCDate(new Date(t.getTime()-6e4*t.getTimezoneOffset()))},setUTCDate:function(t){this.date=t,this.setValue()},setValue:function(){var t=this.getFormattedDate();this.isInput?this.element.val(t):this.component&&this.element.find("input").val(t)},getFormattedDate:function(t){return void 0===t&&(t=this.o.format),h.formatDate(this.date,t,this.o.language)},setStartDate:function(t){this._process_options({startDate:t}),this.update(),this.updateNavArrows()},setEndDate:function(t){this._process_options({endDate:t}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(t){this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var e=parseInt(this.element.parents().filter(function(){return"auto"!=t(this).css("z-index")}).first().css("z-index"))+10,n=this.component?this.component.parent().offset():this.element.offset(),i=this.component?this.component.outerHeight(!0):this.element.outerHeight(!0);this.picker.css({top:n.top+i,left:n.left,zIndex:e})}},_allow_update:!0,update:function(){if(this._allow_update){var t,e=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(t=arguments[0],e=!0):(t=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),delete this.element.data().date),this.date=h.parseDate(t,this.o.format,this.o.language),e&&this.setValue(),this.viewDate=this.date<this.o.startDate?new Date(this.o.startDate):this.date>this.o.endDate?new Date(this.o.endDate):new Date(this.date),this.fill()}},fillDow:function(){var t=this.o.weekStart,e="<tr>";if(this.o.calendarWeeks){var n='<th class="cw">&nbsp;</th>';e+=n,this.picker.find(".datepicker-days thead tr:first-child").prepend(n)}for(;t<this.o.weekStart+7;)e+='<th class="dow">'+c[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;12>e;)t+='<span class="month">'+c[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var n=[],i=this.viewDate.getUTCFullYear(),o=this.viewDate.getUTCMonth(),r=this.date.valueOf(),s=new Date;return e.getUTCFullYear()<i||e.getUTCFullYear()==i&&e.getUTCMonth()<o?n.push("old"):(e.getUTCFullYear()>i||e.getUTCFullYear()==i&&e.getUTCMonth()>o)&&n.push("new"),this.o.todayHighlight&&e.getUTCFullYear()==s.getFullYear()&&e.getUTCMonth()==s.getMonth()&&e.getUTCDate()==s.getDate()&&n.push("today"),r&&e.valueOf()==r&&n.push("active"),(e.valueOf()<this.o.startDate||e.valueOf()>this.o.endDate||-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled))&&n.push("disabled"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&n.push("range"),-1!=t.inArray(e.valueOf(),this.range)&&n.push("selected")),n},fill:function(){var n,i=new Date(this.viewDate),o=i.getUTCFullYear(),r=i.getUTCMonth(),s=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,a=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,l=1/0!==this.o.endDate?this.o.endDate.getUTCFullYear():1/0,u=1/0!==this.o.endDate?this.o.endDate.getUTCMonth():1/0;this.date&&this.date.valueOf(),this.picker.find(".datepicker-days thead th.datepicker-switch").text(c[this.o.language].months[r]+" "+o),this.picker.find("tfoot th.today").text(c[this.o.language].today).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(c[this.o.language].clear).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var d=e(o,r-1,28,0,0,0,0),f=h.getDaysInMonth(d.getUTCFullYear(),d.getUTCMonth());d.setUTCDate(f),d.setUTCDate(f-(d.getUTCDay()-this.o.weekStart+7)%7);var p=new Date(d);p.setUTCDate(p.getUTCDate()+42),p=p.valueOf();for(var m,g=[];d.valueOf()<p;){if(d.getUTCDay()==this.o.weekStart&&(g.push("<tr>"),this.o.calendarWeeks)){var v=new Date(+d+864e5*((this.o.weekStart-d.getUTCDay()-7)%7)),y=new Date(+v+864e5*((11-v.getUTCDay())%7)),w=new Date(+(w=e(y.getUTCFullYear(),0,1))+864e5*((11-w.getUTCDay())%7)),b=(y-w)/864e5/7+1;g.push('<td class="cw">'+b+"</td>")}m=this.getClassNames(d),m.push("day");var C=this.o.beforeShowDay(d);void 0===C?C={}:"boolean"==typeof C?C={enabled:C}:"string"==typeof C&&(C={classes:C}),C.enabled===!1&&m.push("disabled"),C.classes&&(m=m.concat(C.classes.split(/\s+/))),C.tooltip&&(n=C.tooltip),m=t.unique(m),g.push('<td class="'+m.join(" ")+'"'+(n?' title="'+n+'"':"")+">"+d.getUTCDate()+"</td>"),d.getUTCDay()==this.o.weekEnd&&g.push("</tr>"),d.setUTCDate(d.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(g.join(""));var k=this.date&&this.date.getUTCFullYear(),x=this.picker.find(".datepicker-months").find("th:eq(1)").text(o).end().find("span").removeClass("active");k&&k==o&&x.eq(this.date.getUTCMonth()).addClass("active"),(s>o||o>l)&&x.addClass("disabled"),o==s&&x.slice(0,a).addClass("disabled"),o==l&&x.slice(u+1).addClass("disabled"),g="",o=10*parseInt(o/10,10);var _=this.picker.find(".datepicker-years").find("th:eq(1)").text(o+"-"+(o+9)).end().find("td");o-=1;for(var T=-1;11>T;T++)g+='<span class="year'+(-1==T?" old":10==T?" new":"")+(k==o?" active":"")+(s>o||o>l?" disabled":"")+'">'+o+"</span>",o+=1;_.html(g)},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),n=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()&&n<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.o.endDate&&e>=this.o.endDate.getUTCFullYear()&&n>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.o.endDate&&e>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(n){n.preventDefault();var i=t(n.target).closest("span, td, th");if(1==i.length)switch(i[0].nodeName.toLowerCase()){case"th":switch(i[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var o=h.modes[this.viewMode].navStep*("prev"==i[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,o);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,o)}this.fill();break;case"today":var r=new Date;r=e(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0),this.showMode(-2);var s="linked"==this.o.todayBtn?null:"view";this._setDate(r,s);break;case"clear":var a;this.isInput?a=this.element:this.component&&(a=this.element.find("input")),a&&a.val("").change(),this._trigger("changeDate"),this.update(),this.o.autoclose&&this.hide()}break;case"span":if(!i.is(".disabled")){if(this.viewDate.setUTCDate(1),i.is(".month")){var l=1,u=i.parent().find("span").index(i),c=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(u),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(e(c,u,l,0,0,0,0))}else{var c=parseInt(i.text(),10)||0,l=1,u=0;this.viewDate.setUTCFullYear(c),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(e(c,u,l,0,0,0,0))}this.showMode(-1),this.fill()}break;case"td":if(i.is(".day")&&!i.is(".disabled")){var l=parseInt(i.text(),10)||1,c=this.viewDate.getUTCFullYear(),u=this.viewDate.getUTCMonth();i.is(".old")?0===u?(u=11,c-=1):u-=1:i.is(".new")&&(11==u?(u=0,c+=1):u+=1),this._setDate(e(c,u,l,0,0,0,0))}}},_setDate:function(t,e){e&&"date"!=e||(this.date=new Date(t)),e&&"view"!=e||(this.viewDate=new Date(t)),this.fill(),this.setValue(),this._trigger("changeDate");var n;this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&(n.change(),!this.o.autoclose||e&&"date"!=e||this.hide())},moveMonth:function(t,e){if(!e)return t;var n,i,o=new Date(t.valueOf()),r=o.getUTCDate(),s=o.getUTCMonth(),a=Math.abs(e);if(e=e>0?1:-1,1==a)i=-1==e?function(){return o.getUTCMonth()==s}:function(){return o.getUTCMonth()!=n},n=s+e,o.setUTCMonth(n),(0>n||n>11)&&(n=(n+12)%12);else{for(var l=0;a>l;l++)o=this.moveMonth(o,e);n=o.getUTCMonth(),o.setUTCDate(r),i=function(){return n!=o.getUTCMonth()}}for(;i();)o.setUTCDate(--r),o.setUTCMonth(n);return o},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":not(:visible)"))return void(27==t.keyCode&&this.show());var e,n,i,o=!1;switch(t.keyCode){case 27:this.hide(),t.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37==t.keyCode?-1:1,t.ctrlKey?(n=this.moveYear(this.date,e),i=this.moveYear(this.viewDate,e)):t.shiftKey?(n=this.moveMonth(this.date,e),i=this.moveMonth(this.viewDate,e)):(n=new Date(this.date),n.setUTCDate(this.date.getUTCDate()+e),i=new Date(this.viewDate),i.setUTCDate(this.viewDate.getUTCDate()+e)),this.dateWithinRange(n)&&(this.date=n,this.viewDate=i,this.setValue(),this.update(),t.preventDefault(),o=!0);break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38==t.keyCode?-1:1,t.ctrlKey?(n=this.moveYear(this.date,e),i=this.moveYear(this.viewDate,e)):t.shiftKey?(n=this.moveMonth(this.date,e),i=this.moveMonth(this.viewDate,e)):(n=new Date(this.date),n.setUTCDate(this.date.getUTCDate()+7*e),i=new Date(this.viewDate),i.setUTCDate(this.viewDate.getUTCDate()+7*e)),this.dateWithinRange(n)&&(this.date=n,this.viewDate=i,this.setValue(),this.update(),t.preventDefault(),o=!0);break;case 13:this.hide(),t.preventDefault();break;case 9:this.hide()}if(o){this._trigger("changeDate");var r;this.isInput?r=this.element:this.component&&(r=this.element.find("input")),r&&r.change()}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+t))),this.picker.find(">div").hide().filter(".datepicker-"+h.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var r=function(e,n){this.element=t(e),this.inputs=t.map(n.inputs,function(t){return t.jquery?t[0]:t}),delete n.inputs,t(this.inputs).datepicker(n).bind("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t(e).data("datepicker")}),this.updateDates()};r.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.date}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,n){n.setRange(e)})},dateUpdated:function(e){var n=t(e.target).data("datepicker"),i=n.getUTCDate(),o=t.inArray(e.target,this.inputs),r=this.inputs.length;if(-1!=o){if(i<this.dates[o])for(;o>=0&&i<this.dates[o];)this.pickers[o--].setUTCDate(i);else if(i>this.dates[o])for(;r>o&&i>this.dates[o];)this.pickers[o++].setUTCDate(i);this.updateDates()}},remove:function(){t.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var s=t.fn.datepicker,a=t.fn.datepicker=function(e){var s=Array.apply(null,arguments);s.shift();var a;return this.each(function(){var u=t(this),c=u.data("datepicker"),h="object"==typeof e&&e;if(!c){var d=n(this,"date"),f=t.extend({},l,d,h),p=i(f.language),m=t.extend({},l,p,d,h);if(u.is(".input-daterange")||m.inputs){var g={inputs:m.inputs||u.find("input").toArray()};u.data("datepicker",c=new r(this,t.extend(m,g)))}else u.data("datepicker",c=new o(this,m))}return"string"==typeof e&&"function"==typeof c[e]&&(a=c[e].apply(c,s),void 0!==a)?!1:void 0}),void 0!==a?a:this},l=t.fn.datepicker.defaults={autoclose:!1,beforeShowDay:t.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},u=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=o;var c=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},h={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return 0===t%4&&0!==t%100||0===t%400},getDaysInMonth:function(t,e){return[31,h.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\x00").split("\x00"),n=t.match(this.validParts);if(!e||!e.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:e,parts:n}},parseDate:function(n,i,r){if(n instanceof Date)return n;if("string"==typeof i&&(i=h.parseFormat(i)),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(n)){var s,a,l=/([\-+]\d+)([dmwy])/,u=n.match(/([\-+]\d+)([dmwy])/g);n=new Date;for(var d=0;d<u.length;d++)switch(s=l.exec(u[d]),a=parseInt(s[1]),s[2]){case"d":n.setUTCDate(n.getUTCDate()+a);break;case"m":n=o.prototype.moveMonth.call(o.prototype,n,a);break;case"w":n.setUTCDate(n.getUTCDate()+7*a);break;case"y":n=o.prototype.moveYear.call(o.prototype,n,a)}return e(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),0,0,0)}var f,p,s,u=n&&n.match(this.nonpunctuation)||[],n=new Date,m={},g=["yyyy","yy","M","MM","m","mm","d","dd"],v={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){for(e-=1;0>e;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!=e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};v.M=v.MM=v.mm=v.m,v.dd=v.d,
n=e(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0);var y=i.parts.slice();if(u.length!=y.length&&(y=t(y).filter(function(e,n){return-1!==t.inArray(n,g)}).toArray()),u.length==y.length){for(var d=0,w=y.length;w>d;d++){if(f=parseInt(u[d],10),s=y[d],isNaN(f))switch(s){case"MM":p=t(c[r].months).filter(function(){var t=this.slice(0,u[d].length),e=u[d].slice(0,t.length);return t==e}),f=t.inArray(p[0],c[r].months)+1;break;case"M":p=t(c[r].monthsShort).filter(function(){var t=this.slice(0,u[d].length),e=u[d].slice(0,t.length);return t==e}),f=t.inArray(p[0],c[r].monthsShort)+1}m[s]=f}for(var b,d=0;d<g.length;d++)b=g[d],b in m&&!isNaN(m[b])&&v[b](n,m[b])}return n},formatDate:function(e,n,i){"string"==typeof n&&(n=h.parseFormat(n));var o={d:e.getUTCDate(),D:c[i].daysShort[e.getUTCDay()],DD:c[i].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:c[i].monthsShort[e.getUTCMonth()],MM:c[i].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};o.dd=(o.d<10?"0":"")+o.d,o.mm=(o.m<10?"0":"")+o.m;for(var e=[],r=t.extend([],n.separators),s=0,a=n.parts.length;a>=s;s++)r.length&&e.push(r.shift()),e.push(o[n.parts[s]]);return e.join("")},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="datepicker-switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};h.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+h.headTemplate+"<tbody></tbody>"+h.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+h.headTemplate+h.contTemplate+h.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+h.headTemplate+h.contTemplate+h.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=h,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=s,this},t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var n=t(this);n.data("datepicker")||(e.preventDefault(),a.call(n,"show"))}),t(function(){a.call(t('[data-provide="datepicker-inline"]'))})}(window.jQuery),function(t){"use strict";t.fn.bdatepicker=t.fn.datepicker.noConflict(),t.fn.datepicker||(t.fn.datepicker=t.fn.bdatepicker);var e=function(t){this.init("date",t,e.defaults),this.initPicker(t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{initPicker:function(e,n){this.options.viewformat||(this.options.viewformat=this.options.format),e.datepicker=t.fn.editableutils.tryParseJson(e.datepicker,!0),this.options.datepicker=t.extend({},n.datepicker,e.datepicker,{format:this.options.viewformat}),this.options.datepicker.language=this.options.datepicker.language||"en",this.dpg=t.fn.bdatepicker.DPGlobal,this.parsedFormat=this.dpg.parseFormat(this.options.format),this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat)},render:function(){this.$input.bdatepicker(this.options.datepicker),this.options.clear&&(this.$clear=t('<a href="#"></a>').html(this.options.clear).click(t.proxy(function(t){t.preventDefault(),t.stopPropagation(),this.clear()},this)),this.$tpl.parent().append(t('<div class="editable-clear">').append(this.$clear)))},value2html:function(t,n){var i=t?this.dpg.formatDate(t,this.parsedViewFormat,this.options.datepicker.language):"";e.superclass.value2html.call(this,i,n)},html2value:function(t){return this.parseDate(t,this.parsedViewFormat)},value2str:function(t){return t?this.dpg.formatDate(t,this.parsedFormat,this.options.datepicker.language):""},str2value:function(t){return this.parseDate(t,this.parsedFormat)},value2submit:function(t){return this.value2str(t)},value2input:function(t){this.$input.bdatepicker("update",t)},input2value:function(){return this.$input.data("datepicker").date},activate:function(){},clear:function(){this.$input.data("datepicker").date=null,this.$input.find(".active").removeClass("active"),this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".day",function(e){if(!t(e.currentTarget).is(".old")&&!t(e.currentTarget).is(".new")){var n=t(this).closest("form");setTimeout(function(){n.submit()},200)}})},parseDate:function(t,e){var n,i=null;return t&&(i=this.dpg.parseDate(t,e,this.options.datepicker.language),"string"==typeof t&&(n=this.dpg.formatDate(i,e,this.options.datepicker.language),t!==n&&(i=null))),i}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd",viewformat:null,datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!1},clear:"&times; clear"}),t.fn.editabletypes.date=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("datefield",t,e.defaults),this.initPicker(t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.date),t.extend(e.prototype,{render:function(){this.$input=this.$tpl.find("input"),this.setClass(),this.setAttr("placeholder"),this.$tpl.bdatepicker(this.options.datepicker),this.$input.off("focus keydown"),this.$input.keyup(t.proxy(function(){this.$tpl.removeData("date"),this.$tpl.bdatepicker("update")},this))},value2input:function(t){this.$input.val(t?this.dpg.formatDate(t,this.parsedViewFormat,this.options.datepicker.language):""),this.$tpl.bdatepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){t.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}}),e.defaults=t.extend({},t.fn.editabletypes.date.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-small",datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!0}}),t.fn.editabletypes.datefield=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("datetime",t,e.defaults),this.initPicker(t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{initPicker:function(e,n){this.options.viewformat||(this.options.viewformat=this.options.format),e.datetimepicker=t.fn.editableutils.tryParseJson(e.datetimepicker,!0),this.options.datetimepicker=t.extend({},n.datetimepicker,e.datetimepicker,{format:this.options.viewformat}),this.options.datetimepicker.language=this.options.datetimepicker.language||"en",this.dpg=t.fn.datetimepicker.DPGlobal,this.parsedFormat=this.dpg.parseFormat(this.options.format,this.options.formatType),this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat,this.options.formatType)},render:function(){this.$input.datetimepicker(this.options.datetimepicker),this.$input.on("changeMode",function(){var e=t(this).closest("form").parent();setTimeout(function(){e.triggerHandler("resize")},0)}),this.options.clear&&(this.$clear=t('<a href="#"></a>').html(this.options.clear).click(t.proxy(function(t){t.preventDefault(),t.stopPropagation(),this.clear()},this)),this.$tpl.parent().append(t('<div class="editable-clear">').append(this.$clear)))},value2html:function(t,n){var i=t?this.dpg.formatDate(this.toUTC(t),this.parsedViewFormat,this.options.datetimepicker.language,this.options.formatType):"";return n?void e.superclass.value2html.call(this,i,n):i},html2value:function(t){var e=this.parseDate(t,this.parsedViewFormat);return e?this.fromUTC(e):null},value2str:function(t){return t?this.dpg.formatDate(this.toUTC(t),this.parsedFormat,this.options.datetimepicker.language,this.options.formatType):""},str2value:function(t){var e=this.parseDate(t,this.parsedFormat);return e?this.fromUTC(e):null},value2submit:function(t){return this.value2str(t)},value2input:function(t){t&&this.$input.data("datetimepicker").setDate(t)},input2value:function(){var t=this.$input.data("datetimepicker");return t.date?t.getDate():null},activate:function(){},clear:function(){this.$input.data("datetimepicker").date=null,this.$input.find(".active").removeClass("active"),this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".minute",function(){var e=t(this).closest("form");setTimeout(function(){e.submit()},200)})},toUTC:function(t){return t?new Date(t.valueOf()-6e4*t.getTimezoneOffset()):t},fromUTC:function(t){return t?new Date(t.valueOf()+6e4*t.getTimezoneOffset()):t},parseDate:function(t,e){var n,i=null;return t&&(i=this.dpg.parseDate(t,e,this.options.datetimepicker.language,this.options.formatType),"string"==typeof t&&(n=this.dpg.formatDate(i,e,this.options.datetimepicker.language,this.options.formatType),t!==n&&(i=null))),i}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd hh:ii",formatType:"standard",viewformat:null,datetimepicker:{todayHighlight:!1,autoclose:!1},clear:"&times; clear"}),t.fn.editabletypes.datetime=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("datetimefield",t,e.defaults),this.initPicker(t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.datetime),t.extend(e.prototype,{render:function(){this.$input=this.$tpl.find("input"),this.setClass(),this.setAttr("placeholder"),this.$tpl.datetimepicker(this.options.datetimepicker),this.$input.off("focus keydown"),this.$input.keyup(t.proxy(function(){this.$tpl.removeData("date"),this.$tpl.datetimepicker("update")},this))},value2input:function(t){this.$input.val(this.value2html(t)),this.$tpl.datetimepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){t.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}}),e.defaults=t.extend({},t.fn.editabletypes.datetime.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-medium",datetimepicker:{todayHighlight:!1,autoclose:!0}}),t.fn.editabletypes.datetimefield=e}(window.jQuery),!function(t){"use strict";function e(e,n){this.itemsArray=[],this.$element=t(e),this.$element.hide(),this.isSelect="SELECT"===e.tagName,this.multiple=this.isSelect&&e.hasAttribute("multiple"),this.objectItems=n&&n.itemValue,this.placeholderText=e.hasAttribute("placeholder")?this.$element.attr("placeholder"):"",this.inputSize=Math.max(1,this.placeholderText.length),this.$container=t('<div class="bootstrap-tagsinput"></div>'),this.$input=t('<input type="text" placeholder="'+this.placeholderText+'"/>').appendTo(this.$container),this.$element.after(this.$container);var i=(this.inputSize<3?3:this.inputSize)+"em";this.$input.get(0).style.cssText="width: "+i+" !important;",this.build(n)}function n(t,e){if("function"!=typeof t[e]){var n=t[e];t[e]=function(t){return t[n]}}}function i(t,e){if("function"!=typeof t[e]){var n=t[e];t[e]=function(){return n}}}function o(t){return t?l.text(t).html():""}function r(t){var e=0;if(document.selection){t.focus();var n=document.selection.createRange();n.moveStart("character",-t.value.length),e=n.text.length}else(t.selectionStart||"0"==t.selectionStart)&&(e=t.selectionStart);return e}function s(e,n){var i=!1;return t.each(n,function(t,n){if("number"==typeof n&&e.which===n)return i=!0,!1;if(e.which===n.which){var o=!n.hasOwnProperty("altKey")||e.altKey===n.altKey,r=!n.hasOwnProperty("shiftKey")||e.shiftKey===n.shiftKey,s=!n.hasOwnProperty("ctrlKey")||e.ctrlKey===n.ctrlKey;if(o&&r&&s)return i=!0,!1}}),i}var a={tagClass:function(){return"label label-info"},itemValue:function(t){return t?t.toString():t},itemText:function(t){return this.itemValue(t)},freeInput:!0,addOnBlur:!0,maxTags:void 0,maxChars:void 0,confirmKeys:[13,44],onTagExists:function(t,e){e.hide().fadeIn()},trimValue:!1,allowDuplicates:!1};e.prototype={constructor:e,add:function(e,n){var i=this;if(!(i.options.maxTags&&i.itemsArray.length>=i.options.maxTags||e!==!1&&!e)){if("string"==typeof e&&i.options.trimValue&&(e=t.trim(e)),"object"==typeof e&&!i.objectItems)throw"Can't add objects when itemValue option is not set";if(!e.toString().match(/^\s*$/)){if(i.isSelect&&!i.multiple&&i.itemsArray.length>0&&i.remove(i.itemsArray[0]),"string"==typeof e&&"INPUT"===this.$element[0].tagName){var r=e.split(",");if(r.length>1){for(var s=0;s<r.length;s++)this.add(r[s],!0);return void(n||i.pushVal())}}var a=i.options.itemValue(e),l=i.options.itemText(e),u=i.options.tagClass(e),c=t.grep(i.itemsArray,function(t){return i.options.itemValue(t)===a})[0];if(!c||i.options.allowDuplicates){if(!(i.items().toString().length+e.length+1>i.options.maxInputLength)){var h=t.Event("beforeItemAdd",{item:e,cancel:!1});if(i.$element.trigger(h),!h.cancel){i.itemsArray.push(e);var d=t('<span class="tag '+o(u)+'">'+o(l)+'<span data-role="remove"></span></span>');if(d.data("item",e),i.findInputWrapper().before(d),d.after(" "),i.isSelect&&!t('option[value="'+encodeURIComponent(a)+'"]',i.$element)[0]){var f=t("<option selected>"+o(l)+"</option>");f.data("item",e),f.attr("value",a),i.$element.append(f)}n||i.pushVal(),(i.options.maxTags===i.itemsArray.length||i.items().toString().length===i.options.maxInputLength)&&i.$container.addClass("bootstrap-tagsinput-max"),i.$element.trigger(t.Event("itemAdded",{item:e}))}}}else if(i.options.onTagExists){var p=t(".tag",i.$container).filter(function(){return t(this).data("item")===c});i.options.onTagExists(e,p)}}}},remove:function(e,n){var i=this;if(i.objectItems&&(e="object"==typeof e?t.grep(i.itemsArray,function(t){return i.options.itemValue(t)==i.options.itemValue(e)}):t.grep(i.itemsArray,function(t){return i.options.itemValue(t)==e}),e=e[e.length-1]),e){var o=t.Event("beforeItemRemove",{item:e,cancel:!1});if(i.$element.trigger(o),o.cancel)return;t(".tag",i.$container).filter(function(){return t(this).data("item")===e}).remove(),t("option",i.$element).filter(function(){return t(this).data("item")===e}).remove(),-1!==t.inArray(e,i.itemsArray)&&i.itemsArray.splice(t.inArray(e,i.itemsArray),1)}n||i.pushVal(),i.options.maxTags>i.itemsArray.length&&i.$container.removeClass("bootstrap-tagsinput-max"),i.$element.trigger(t.Event("itemRemoved",{item:e}))},removeAll:function(){var e=this;for(t(".tag",e.$container).remove(),t("option",e.$element).remove();e.itemsArray.length>0;)e.itemsArray.pop();e.pushVal()},refresh:function(){var e=this;t(".tag",e.$container).each(function(){var n=t(this),i=n.data("item"),r=e.options.itemValue(i),s=e.options.itemText(i),a=e.options.tagClass(i);if(n.attr("class",null),n.addClass("tag "+o(a)),n.contents().filter(function(){return 3==this.nodeType})[0].nodeValue=o(s),e.isSelect){var l=t("option",e.$element).filter(function(){return t(this).data("item")===i});l.attr("value",r)}})},items:function(){return this.itemsArray},pushVal:function(){var e=this,n=t.map(e.items(),function(t){return e.options.itemValue(t).toString()});e.$element.val(n,!0).trigger("change")},build:function(e){var o=this;if(o.options=t.extend({},a,e),o.objectItems&&(o.options.freeInput=!1),n(o.options,"itemValue"),n(o.options,"itemText"),i(o.options,"tagClass"),o.options.typeahead){var l=o.options.typeahead||{};i(l,"source"),o.$input.typeahead(t.extend({},l,{source:function(e,n){function i(t){for(var e=[],i=0;i<t.length;i++){var s=o.options.itemText(t[i]);r[s]=t[i],e.push(s)}n(e)}this.map={};var r=this.map,s=l.source(e);t.isFunction(s.success)?s.success(i):t.isFunction(s.then)?s.then(i):t.when(s).then(i)},updater:function(t){o.add(this.map[t])},matcher:function(t){return-1!==t.toLowerCase().indexOf(this.query.trim().toLowerCase())},sorter:function(t){return t.sort()},highlighter:function(t){var e=new RegExp("("+this.query+")","gi");return t.replace(e,"<strong>$1</strong>")}}))}if(o.options.typeaheadjs){var u=o.options.typeaheadjs||{};o.$input.typeahead(null,u).on("typeahead:selected",t.proxy(function(t,e){o.add(u.valueKey?e[u.valueKey]:e),o.$input.typeahead("val","")},o))}o.$container.on("click",t.proxy(function(){o.$element.attr("disabled")||o.$input.removeAttr("disabled"),o.$input.focus()},o)),o.options.addOnBlur&&o.options.freeInput&&o.$input.on("focusout",t.proxy(function(){0===t(".typeahead, .twitter-typeahead",o.$container).length&&(o.add(o.$input.val()),o.$input.val(""))},o)),o.$container.on("keydown","input",t.proxy(function(e){var n=t(e.target),i=o.findInputWrapper();if(o.$element.attr("disabled"))return void o.$input.attr("disabled","disabled");switch(e.which){case 8:if(0===r(n[0])){var s=i.prev();s&&o.remove(s.data("item"))}break;case 46:if(0===r(n[0])){var a=i.next();a&&o.remove(a.data("item"))}break;case 37:var l=i.prev();0===n.val().length&&l[0]&&(l.before(i),n.focus());break;case 39:var u=i.next();0===n.val().length&&u[0]&&(u.after(i),n.focus())}var c=n.val().length;Math.ceil(c/5),n.attr("size",Math.max(this.inputSize,n.val().length))},o)),o.$container.on("keypress","input",t.proxy(function(e){var n=t(e.target);if(o.$element.attr("disabled"))return void o.$input.attr("disabled","disabled");var i=n.val(),r=o.options.maxChars&&i.length>=o.options.maxChars;o.options.freeInput&&(s(e,o.options.confirmKeys)||r)&&(o.add(r?i.substr(0,o.options.maxChars):i),n.val(""),e.preventDefault());var a=n.val().length;Math.ceil(a/5),n.attr("size",Math.max(this.inputSize,n.val().length))},o)),o.$container.on("click","[data-role=remove]",t.proxy(function(e){o.$element.attr("disabled")||o.remove(t(e.target).closest(".tag").data("item"))},o)),o.options.itemValue===a.itemValue&&("INPUT"===o.$element[0].tagName?o.add(o.$element.val()):t("option",o.$element).each(function(){o.add(t(this).attr("value"),!0)}))},destroy:function(){var t=this;t.$container.off("keypress","input"),t.$container.off("click","[role=remove]"),t.$container.remove(),t.$element.removeData("tagsinput"),t.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var e=this.$input[0],n=this.$container[0];e&&e.parentNode!==n;)e=e.parentNode;return t(e)}},t.fn.tagsinput=function(n,i){var o=[];return this.each(function(){var r=t(this).data("tagsinput");if(r)if(n||i){if(void 0!==r[n]){var s=r[n](i);void 0!==s&&o.push(s)}}else o.push(r);else r=new e(this,n),t(this).data("tagsinput",r),o.push(r),"SELECT"===this.tagName&&t("option",t(this)).attr("selected","selected"),t(this).val(t(this).val())}),"string"==typeof n?o.length>1?o:o[0]:o},t.fn.tagsinput.Constructor=e;var l=t("<div />");t(function(){t("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()})}(window.jQuery),/* =============================================================
 * bootstrap3-typeahead.js v3.1.0
 * https://github.com/bassjobsen/Bootstrap-3-Typeahead
 * =============================================================
 * Original written by @mdo and @fat
 * =============================================================
 * Copyright 2014 Bass Jobsen @bassjobsen
 *
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
function(t,e){"use strict";"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):e(t.jQuery)}(this,function(t){"use strict";var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.select=this.options.select||this.select,this.autoSelect="boolean"==typeof this.options.autoSelect?this.options.autoSelect:!0,this.highlighter=this.options.highlighter||this.highlighter,this.render=this.options.render||this.render,this.updater=this.options.updater||this.updater,this.displayText=this.options.displayText||this.displayText,this.source=this.options.source,this.delay=this.options.delay,this.$menu=t(this.options.menu),this.$appendTo=this.options.appendTo?t(this.options.appendTo):null,this.shown=!1,this.listen(),this.showHintOnFocus="boolean"==typeof this.options.showHintOnFocus?this.options.showHintOnFocus:!1,this.afterSelect=this.options.afterSelect,this.addItem=!1};e.prototype={constructor:e,select:function(){var t=this.$menu.find(".active").data("value");if(this.$element.data("active",t),this.autoSelect||t){var e=this.updater(t);this.$element.val(this.displayText(e)||e).change(),this.afterSelect(e)}return this.hide()},updater:function(t){return t},setSource:function(t){this.source=t},show:function(){var e,n=t.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return e="function"==typeof this.options.scrollHeight?this.options.scrollHeight.call():this.options.scrollHeight,(this.$appendTo?this.$menu.appendTo(this.$appendTo):this.$menu.insertAfter(this.$element)).css({top:n.top+n.height+e,left:n.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(e){if("undefined"!=typeof e&&null!==e?this.query=e:this.query=this.$element.val()||"",this.query.length<this.options.minLength)return this.shown?this.hide():this;var n=t.proxy(function(){t.isFunction(this.source)?this.source(this.query,t.proxy(this.process,this)):this.source&&this.process(this.source)},this);clearTimeout(this.lookupWorker),this.lookupWorker=setTimeout(n,this.delay)},process:function(e){var n=this;return e=t.grep(e,function(t){return n.matcher(t)}),e=this.sorter(e),e.length||this.options.addItem?(e.length>0?this.$element.data("active",e[0]):this.$element.data("active",null),this.options.addItem&&e.push(this.options.addItem),"all"==this.options.items?this.render(e).show():this.render(e.slice(0,this.options.items)).show()):this.shown?this.hide():this},matcher:function(t){var e=this.displayText(t);return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){for(var e,n=[],i=[],o=[];e=t.shift();){var r=this.displayText(e);r.toLowerCase().indexOf(this.query.toLowerCase())?~r.indexOf(this.query)?i.push(e):o.push(e):n.push(e)}return n.concat(i,o)},highlighter:function(e){var n,i,o,r,s,a=t("<div></div>"),l=this.query,u=e.toLowerCase().indexOf(l.toLowerCase());if(n=l.length,0===n)return a.text(e).html();for(;u>-1;)i=e.substr(0,u),o=e.substr(u,n),r=e.substr(u+n),s=t("<strong></strong>").text(o),a.append(document.createTextNode(i)).append(s),e=r,u=e.toLowerCase().indexOf(l.toLowerCase());return a.append(document.createTextNode(e)).html()},render:function(e){var n=this,i=this,o=!1;return e=t(e).map(function(e,r){var s=i.displayText(r);return e=t(n.options.item).data("value",r),e.find("a").html(n.highlighter(s)),s==i.$element.val()&&(e.addClass("active"),i.$element.data("active",r),o=!0),e[0]}),this.autoSelect&&!o&&(e.first().addClass("active"),this.$element.data("active",e.first().data("value"))),this.$menu.html(e),this},displayText:function(t){return t&&t.name||t},next:function(e){var n=this.$menu.find(".active").removeClass("active"),i=n.next();i.length||(i=t(this.$menu.find("li")[0])),i.addClass("active")},prev:function(t){var e=this.$menu.find(".active").removeClass("active"),n=e.prev();n.length||(n=this.$menu.find("li").last()),n.addClass("active")},listen:function(){this.$element.on("focus",t.proxy(this.focus,this)).on("blur",t.proxy(this.blur,this)).on("keypress",t.proxy(this.keypress,this)).on("keyup",t.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",t.proxy(this.keydown,this)),this.$menu.on("click",t.proxy(this.click,this)).on("mouseenter","li",t.proxy(this.mouseenter,this)).on("mouseleave","li",t.proxy(this.mouseleave,this))},destroy:function(){this.$element.data("typeahead",null),this.$element.data("active",null),this.$element.off("focus").off("blur").off("keypress").off("keyup"),this.eventSupported("keydown")&&this.$element.off("keydown"),this.$menu.remove()},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e="function"==typeof this.$element[t]),e},move:function(t){if(this.shown)switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:if(t.shiftKey)return;t.preventDefault(),this.prev();break;case 40:if(t.shiftKey)return;t.preventDefault(),this.next()}},keydown:function(e){this.suppressKeyPressRepeat=~t.inArray(e.keyCode,[40,38,9,13,27]),this.shown||40!=e.keyCode?this.move(e):this.lookup()},keypress:function(t){this.suppressKeyPressRepeat||this.move(t)},keyup:function(t){switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.preventDefault()},focus:function(t){this.focused||(this.focused=!0,this.options.showHintOnFocus&&this.lookup(""))},blur:function(t){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(t){t.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(e){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),t(e.currentTarget).addClass("active")},mouseleave:function(t){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var n=t.fn.typeahead;t.fn.typeahead=function(n){var i=arguments;return"string"==typeof n&&"getActive"==n?this.data("active"):this.each(function(){var o=t(this),r=o.data("typeahead"),s="object"==typeof n&&n;r||o.data("typeahead",r=new e(this,s)),"string"==typeof n&&(i.length>1?r[n].apply(r,Array.prototype.slice.call(i,1)):r[n]())})},t.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu" role="listbox"></ul>',item:'<li><a href="#" role="option"></a></li>',minLength:1,scrollHeight:0,autoSelect:!0,afterSelect:t.noop,addItem:!1,delay:0},t.fn.typeahead.Constructor=e,t.fn.typeahead.noConflict=function(){return t.fn.typeahead=n,this},t(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(e){var n=t(this);n.data("typeahead")||n.typeahead(n.data())})}),function(t,e){t.fn.scrollIntoView=function(){return this.length>0&&this[0].scrollIntoView(),this},t.fn.scrollIntoViewIfNeeded=document.createElement("div").scrollIntoViewIfNeeded?function(){return this.length>0&&this[0].scrollIntoViewIfNeeded(),this}:function(){if(this.length>0){var e=t(document),n=t(window),i=e.scrollTop(),o=e.scrollLeft(),r=n.innerHeight(),s=n.innerWidth(),a=this.offset(),l=a.left,u=a.top,c=this.width(),h=this.height();if(c>=s){if(l>o||o+s>l+c)return this[0].scrollIntoView(),this}else if(o>l||l+c>o+s)return this[0].scrollIntoView(),this;if(h>=r){if(u>i||i+r>u+h)return this[0].scrollIntoView(),this}else if(i>u||u+h>i+r)return this[0].scrollIntoView(),this}return this}}(jQuery),function(){var t;t=function(t,e){return $(".resource-project-name").html(e).attr("href","/projects/"+t)},$(document).on("click",".add-to-project",function(e){var n,i,o;return n=$(this),i=$(this).data(),o=$(this).html(),$.ajax({url:"/projects/"+i.projectId+"/resources.json",method:"POST",data:{resource_type:i.resourceType,resource_id:i.resourceId}}).success(function(e){return function(e){return $(".project-btn-label").html().match(/^Add/)?toastr.success("Added to project: "+o):toastr.success("Moved to project: "+o),t(e.id,e.name),$(".project-name").show(),$(".project-btn-label").html("Move to project"),n.hide()}}(this)).fail(function(t){return function(t){return toastr.error("Failed to add to project "+o+" due to an error: "+t.responseJSON.message)}}(this))})}.call(this),function(){}.call(this),function(){$(document).one("turbolinks:load",function(){return $(".toast").each(function(){var t;return t=$(this),toastr[t.data("method")||"info"](t.html()),t.remove()})})}.call(this),function(){var t=jstz.determine();document.cookie="time_zone="+t.name()+";"}(),_.extend(toastr.options,{positionClass:"toast-top-center",timeOut:3e3,hideDuration:1e3,extendedTimeOut:"0"}),window.addEventListener("unload",function(){});